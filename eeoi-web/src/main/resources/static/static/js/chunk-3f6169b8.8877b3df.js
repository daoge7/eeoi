(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f6169b8","chunk-77c5ae4a","chunk-5ac3065b","chunk-57ec5348","chunk-2d0bae7b","chunk-2d0d2ee6","chunk-2d0d0036","chunk-2d0f007c","chunk-2d225047"],{2194:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},on:{change:e.xhSelectChange},model:{value:e.oiMainEngineXh,callback:function(t){e.oiMainEngineXh=t},expression:"oiMainEngineXh"}},e._l(e.oiMainEngineIds,(function(e){return i("el-option",{key:e.id,attrs:{label:e.xh,value:e.id}})})),1)],1),e._v(" "),i("el-form",{ref:"oiMainEngineForm",attrs:{rules:e.oiMainEngineRules,model:e.oiMainEngine,"label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.type"),prop:"engineType"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiMainEngine.engineType,callback:function(t){e.$set(e.oiMainEngine,"engineType",t)},expression:"oiMainEngine.engineType"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedPower"),prop:"ratePower"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiMainEngine.ratePower,callback:function(t){e.$set(e.oiMainEngine,"ratePower",t)},expression:"oiMainEngine.ratePower"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kw")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedSpeed")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiMainEngine.ratedSpeed,callback:function(t){e.$set(e.oiMainEngine,"ratedSpeed",t)},expression:"oiMainEngine.ratedSpeed"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Rpm")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.consumpRate"),prop:"consumpRate"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiMainEngine.consumpRate,callback:function(t){e.$set(e.oiMainEngine,"consumpRate",t)},expression:"oiMainEngine.consumpRate"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("g/(kW·h)")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.energyId"),prop:"energyId"}},[i("el-checkbox-group",{on:{change:e.checkboxChange},model:{value:e.engineIds,callback:function(t){e.engineIds=t},expression:"engineIds"}},e._l(e.situations,(function(t,a){return i("el-checkbox",{key:a,attrs:{label:t.formCode}},[e._v(e._s(t.formName))])})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.equipmentXh"),prop:"xh"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiMainEngine.xh,callback:function(t){e.$set(e.oiMainEngine,"xh",t)},expression:"oiMainEngine.xh"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.deviceSerial"),prop:"serialNo"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiMainEngine.serialNo,callback:function(t){e.$set(e.oiMainEngine,"serialNo",t)},expression:"oiMainEngine.serialNo"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.source")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiMainEngine.mfrsName,callback:function(t){e.$set(e.oiMainEngine,"mfrsName",t)},expression:"oiMainEngine.mfrsName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.produceTime")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"year",size:"small",placeholder:e.$t("common.dataYearRemind")},model:{value:e.oiMainEngine.produceTime,callback:function(t){e.$set(e.oiMainEngine,"produceTime",t)},expression:"oiMainEngine.produceTime"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.fuelId"),prop:"fuelIds"}},[i("el-button",{attrs:{type:"primary",disabled:this.formIsDisabled},on:{click:e.shipTypes}},[e._v(e._s(e.$t("common.select")))]),e._v(" "),e.oiMainEngine.shipEquipmentFuelMaps.length?i("div",{staticStyle:{width:"100%",height:"auto",border:"1px #ccc solid","margin-top":"10px",padding:"0 15px"}},[i("el-row",e._l(e.oiMainEngine.shipEquipmentFuelMaps,(function(t,a){return i("el-col",{key:a,attrs:{span:24}},[i("span",[e._v(e._s(e.$t("ship.fuel"))+":"+e._s(t.fuelName))]),e._v(" "),"1"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method1")))]):e._e(),e._v(" "),"2"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method2")))]):e._e(),e._v(" "),"3"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method3")))]):e._e()])})),1)],1):e._e()],1)],1),e._v(" "),e.shipComPanyNamevicode?i("shipType",{attrs:{shipComPanyNamevicode:e.shipComPanyNamevicode,listData:e.oiMainEngine.shipEquipmentFuelMaps},on:{shipComPanyNameDatas:e.shipComPanyNameDatas,shipComPanyNameData:e.shipComPanyNameData}}):e._e()],1)},o=[],n=i("bff4"),s=i("4a5a"),r=i("4624"),l={name:"ShipMde",components:{shipType:s["default"]},mixins:[r["a"]],props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{shipComPanyNamevicode:!1,consMethodArray:[{value:"1",label:"使用燃油交付单的方法"},{value:"2",label:"使用流量计的方法"},{value:"3",label:"使用燃油舱柜监测的方法"}],engineIds:[],oiMainEngineId:"",oiMainEngineXh:"",formIsDisabled:!1,oiMainEngineIds:[],oiMainEngine:{id:"",shipId:"",engineType:"",ratePower:"",ratedSpeed:"",consumpRate:"",energyId:"",mfrsName:"",produceTime:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[],serialNo:""},oiMainEngineRules:{engineType:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],ratePower:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],consumpRate:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],energyId:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],xh:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],serialNo:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}]}}},watch:{oiMainEngineIds:function(e){e.length?(this.oiMainEngineId=e[0].id,this.oiMainEngineXh=e[0].xh||e[0].id,this.initData()):this.oiMainEngineXh=""}},created:function(){},methods:{shipTypes:function(){this.shipComPanyNamevicode=!0},shipComPanyNameData:function(){this.shipComPanyNamevicode=!1},shipComPanyNameDatas:function(e){this.oiMainEngine.shipEquipmentFuelMaps=e,this.shipComPanyNamevicode=!1},initData:function(){var e=this;Object(n["k"])("/shipManager/getShipMainEngine",{id:this.oiMainEngineId}).then((function(t){e.oiMainEngine=t.data.data,e.engineIds=e.getEngineIds(t.data.data.energyId),e.oiMainEngine.fuelIds.length=0;var i=!0,a=!1,o=void 0;try{for(var n,s=e.oiMainEngine.shipEquipmentFuelMaps[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var r=n.value;e.oiMainEngine.fuelIds.push(r.fuelId)}}catch(l){a=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}))},getEngineIds:function(e){var t=[];return""!==e&&(t=e.split(",")),t},resetTemp:function(){this.engineIds=[],this.oiMainEngineXh="",this.oiMainEngine={id:"",shipId:"",engineType:"",ratePower:"",ratedSpeed:"",consumpRate:"",energyId:"",mfrsName:"",produceTime:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[],serialNo:""}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["oiMainEngineForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.oiMainEngine=i.shipMde[0],this.$nextTick((function(){t.$refs["oiMainEngineForm"].clearValidate()}))},xhSelectChange:function(){this.oiMainEngineId=this.oiMainEngineXh,this.initData()},checkboxChange:function(){this.engineIds.length>0?this.oiMainEngine.energyId=this.engineIds[0]:this.oiMainEngine.energyId=""}}},p=l,d=i("2877"),c=Object(d["a"])(p,a,o,!1,null,null,null);t["default"]=c.exports},"38cc":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},on:{change:e.xhSelectChange},model:{value:e.oiMainEngineId,callback:function(t){e.oiMainEngineId=t},expression:"oiMainEngineId"}},e._l(e.oiMainEngineIds,(function(e){return i("el-option",{key:e.id,attrs:{label:e.xh,value:e.id}})})),1)],1),e._v(" "),i("el-form",{ref:"oiMainEngineForm",attrs:{rules:e.oiMainEngineRules,model:e.oiMainEngine,"label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.type"),prop:"enginetype"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiMainEngine.enginetype,callback:function(t){e.$set(e.oiMainEngine,"enginetype",t)},expression:"oiMainEngine.enginetype"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedPower"),prop:"ratePower"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiMainEngine.ratePower,callback:function(t){e.$set(e.oiMainEngine,"ratePower",t)},expression:"oiMainEngine.ratePower"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kw")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedSpeed")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiMainEngine.ratedSpeed,callback:function(t){e.$set(e.oiMainEngine,"ratedSpeed",t)},expression:"oiMainEngine.ratedSpeed"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Rpm")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.consumpRate"),prop:"consumpRate"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiMainEngine.consumpRate,callback:function(t){e.$set(e.oiMainEngine,"consumpRate",t)},expression:"oiMainEngine.consumpRate"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("g/(kW·h)")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.energyId"),prop:"energyId"}},[i("el-checkbox-group",{on:{change:e.checkboxChange},model:{value:e.engineIds,callback:function(t){e.engineIds=t},expression:"engineIds"}},e._l(e.situations,(function(t,a){return i("el-checkbox",{key:a,attrs:{label:t.formCode}},[e._v(e._s(t.formName))])})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.equipmentXh"),prop:"xh"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiMainEngine.xh,callback:function(t){e.$set(e.oiMainEngine,"xh",t)},expression:"oiMainEngine.xh"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.source")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiMainEngine.manufacturer,callback:function(t){e.$set(e.oiMainEngine,"manufacturer",t)},expression:"oiMainEngine.manufacturer"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.produceTime")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"year",size:"small",placeholder:e.$t("common.dataYearRemind")},model:{value:e.oiMainEngine.dateManufacturer,callback:function(t){e.$set(e.oiMainEngine,"dateManufacturer",t)},expression:"oiMainEngine.dateManufacturer"}})],1)],1)],1)],1)],1)},o=[],n=i("2f62");function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(i,!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var p={name:"SsmisShipMde",props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{oiMainEngines:[],engineIds:[],oiMainEngineId:"",formIsDisabled:!1,oiMainEngineIds:[],oiMainEngine:{id:void 0,shipId:"",engineType:"",ratePower:"",ratedSpeed:"",consumpRate:"",energyId:"",mfrsName:"",produceTime:"",xh:"",enginetype:"",manufacturer:"",dateManufacturer:""}}},methods:{getEngineIds:function(e){var t=[];return""!==e&&(t=e.split(",")),t},resetTemp:function(){this.engineIds=[],this.oiMainEngine={id:void 0,shipId:"",engineType:"",ratePower:"",ratedSpeed:"",consumpRate:"",energyId:"",mfrsName:"",produceTime:"",xh:""}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["oiMainEngineForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.oiMainEngine=i.shipMde[0],this.$nextTick((function(){t.$refs["oiMainEngineForm"].clearValidate()}))},xhSelectChange:function(){this.oiMainEngine=this.oiMainEngines[this.oiMainEngineId-1],this.oiMainEngine.xh=this.oiMainEngineId},checkboxChange:function(){this.engineIds.length>0?this.oiMainEngine.energyId=this.engineIds[0]:this.oiMainEngine.energyId=""}},computed:r({},Object(n["d"])("zidainma",["situations"]))},d=p,c=i("2877"),m=Object(c["a"])(d,a,o,!1,null,null,null);t["default"]=m.exports},4624:function(e,t,i){"use strict";var a=i("2f62");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(i,!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t["a"]={computed:n({},Object(a["d"])("zidainma",["list","situations"]))}},"4a5a":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-dialog",{attrs:{title:e.$t("ship.fuelId"),width:"80%","append-to-body":!0,visible:e.shipComPanyNamevicode,"before-close":e.addDetale},on:{"update:visible":function(t){e.shipComPanyNamevicode=t}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"},{name:"adaptive",rawName:"v-adaptive",value:{bottomOffset:38},expression:"{bottomOffset: 38}"}],ref:"multipleTable",staticStyle:{width:"100%",overflow:"auto"},attrs:{data:e.shipCompanylist,border:"","append-to-body":"",fit:"",height:"100px","highlight-current-row":"","row-style":{height:"35px"},"cell-style":{padding:"0"}},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("common.no"),type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("ship.Oiltype"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.fuelName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("MRV.Datacollectionmethod"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-select",{attrs:{placeholder:e.$t("common.selectRemind")},model:{value:a.consMethod,callback:function(t){e.$set(a,"consMethod",t)},expression:"row.consMethod"}},e._l(e.consMethodArray,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}])})],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.addDetale}},[e._v("\n        "+e._s(e.$t("common.close"))+"\n      ")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveRelation(e.tableChecked)}}},[e._v("\n        "+e._s(e.$t("common.save"))+"\n      ")])],1)],1)],1)},o=[],n=i("1593"),s=i("bff4"),r={name:"ShipComPanySelect",directives:{adaptive:n["a"]},props:{shipComPanyNamevicode:{type:Boolean},listData:{type:Array}},data:function(){return{changValue:null,shipCompanylist:[],listLoading:!1,shipComPanyNmevicode:!1,consMethodArray:[{value:"1",label:"Method of using fuel delivery note"},{value:"2",label:"Method of using flowmeter"},{value:"3",label:"Monitoring method of fuel tank"}]}},created:function(){this.initData()},mounted:function(){},methods:{initData:function(){var e=this;Object(s["r"])().then((function(t){e.shipCompanylist=t.data.data;var i=[];t.data.data.forEach((function(t){e.listData.forEach((function(e){t.fuelId===e.fuelId&&(t.consMethod=e.consMethod,i.push(t))}))})),e.$nextTick((function(){i.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t,!0)}))}))}))},addDetale:function(){this.$emit("shipComPanyNameData",!1)},saveRelation:function(){this.$emit("shipComPanyNameDatas",this.tableChecked)},handleSelectionChange:function(e){this.tableChecked=e},getShipCompanyList:function(){this.listLoading=!0}}},l=r,p=i("2877"),d=Object(p["a"])(l,a,o,!1,null,"f35764e8",null);t["default"]=d.exports},5361:function(e,t,i){"use strict";var a=i("69a6"),o=i.n(a);o.a},"5b36":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},on:{change:e.xhSelectChange},model:{value:e.oiShipGeId,callback:function(t){e.oiShipGeId=t},expression:"oiShipGeId"}},e._l(e.oiShipGeIds,(function(e){return i("el-option",{key:e.id,attrs:{label:e.xh,value:e.id}})})),1)],1),e._v(" "),i("el-form",{ref:"oiShipGeForm",attrs:{rules:e.oiShipGeRules,model:e.oiShipGe,"label-width":"100px",disabled:e.formIsDisabled}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.type"),prop:"gemodel"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind")},model:{value:e.oiShipGe.gemodel,callback:function(t){e.$set(e.oiShipGe,"gemodel",t)},expression:"oiShipGe.gemodel"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedPower"),prop:"ratePower"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind")},model:{value:e.oiShipGe.ratePower,callback:function(t){e.$set(e.oiShipGe,"ratePower",t)},expression:"oiShipGe.ratePower"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kw")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedSpeed")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind")},model:{value:e.oiShipGe.ratedSpeed,callback:function(t){e.$set(e.oiShipGe,"ratedSpeed",t)},expression:"oiShipGe.ratedSpeed"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Rpm")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.consumpRate"),prop:"consumpRate"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind")},model:{value:e.oiShipGe.consumpRate,callback:function(t){e.$set(e.oiShipGe,"consumpRate",t)},expression:"oiShipGe.consumpRate"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("g/(kW·h)")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.energyId"),prop:"energyId"}},[i("el-checkbox-group",{on:{change:e.checkboxChange},model:{value:e.engineIds,callback:function(t){e.engineIds=t},expression:"engineIds"}},e._l(e.situations,(function(t,a){return i("el-checkbox",{key:a,attrs:{label:t.formCode}},[e._v(e._s(t.formName))])})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.equipmentXh"),prop:"xh"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind")},model:{value:e.oiShipGe.xh,callback:function(t){e.$set(e.oiShipGe,"xh",t)},expression:"oiShipGe.xh"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.source")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind")},model:{value:e.oiShipGe.manufacturer,callback:function(t){e.$set(e.oiShipGe,"manufacturer",t)},expression:"oiShipGe.manufacturer"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.produceTime")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"year",size:"small",placeholder:e.$t("common.dataYearRemind")},model:{value:e.oiShipGe.dateManufacturer,callback:function(t){e.$set(e.oiShipGe,"dateManufacturer",t)},expression:"oiShipGe.dateManufacturer"}})],1)],1)],1)],1)],1)},o=[],n=i("2f62");function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(i,!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var p={name:"SsmisShipPM",props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{oiShipGes:[],engineIds:[],oiShipGeId:"",formIsDisabled:!1,oiShipGeIds:[],oiShipGe:{id:void 0,shipId:"",engineType:"",ratePower:"",ratedSpeed:"",consumpRate:"",energyId:"",mfrsName:"",produceTime:"",xh:"",dateManufacturer:"",manufacturer:"",gemodel:"",setno:"",serialno:""}}},methods:{getEngineIds:function(e){var t=[];return""!==e&&(t=e.split(",")),t},resetTemp:function(){this.engineIds=[],this.oiShipGe={id:void 0,shipId:"",engineType:"",ratePower:"",ratedSpeed:"",consumpRate:"",energyId:"",mfrsName:"",produceTime:"",xh:""}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["oiShipGeForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.oiShipGe=i.shipPM[1],this.$nextTick((function(){t.$refs["oiShipGeForm"].clearValidate()}))},xhSelectChange:function(){this.oiShipGe=this.oiShipGes[this.oiShipGeId-1],this.oiShipGe.xh=this.oiShipGeId},checkboxChange:function(){this.engineIds.length>0?this.oiShipGe.energyId=this.engineIds[0]:this.oiShipGe.energyId=""}},computed:r({},Object(n["d"])("zidainma",["situations"]))},d=p,c=i("2877"),m=Object(c["a"])(d,a,o,!1,null,null,null);t["default"]=m.exports},"65bc":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},on:{change:e.xhSelectChange},model:{value:e.oiShipBatteryId,callback:function(t){e.oiShipBatteryId=t},expression:"oiShipBatteryId"}},e._l(e.oiShipBatteryIds,(function(e){return i("el-option",{key:e.id,attrs:{label:e.xh,value:e.id}})})),1)],1),e._v(" "),i("el-form",{ref:"batteryForm",attrs:{model:e.oiShipBattery,"label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("shipBattery.cellModel")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiShipBattery.cellModel,callback:function(t){e.$set(e.oiShipBattery,"cellModel",t)},expression:"oiShipBattery.cellModel"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("shipBattery.cellParam")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiShipBattery.cellParam,callback:function(t){e.$set(e.oiShipBattery,"cellParam",t)},expression:"oiShipBattery.cellParam"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("shipBattery.voltage")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiShipBattery.voltage,callback:function(t){e.$set(e.oiShipBattery,"voltage",t)},expression:"oiShipBattery.voltage"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Volt")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("shipBattery.capacity")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiShipBattery.capacity,callback:function(t){e.$set(e.oiShipBattery,"capacity",t)},expression:"oiShipBattery.capacity"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kwh")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("shipBattery.weight")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipBattery.weight,callback:function(t){e.$set(e.oiShipBattery,"weight",t)},expression:"oiShipBattery.weight"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kg")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("shipBattery.batteryModel")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiShipBattery.batteryModel,callback:function(t){e.$set(e.oiShipBattery,"batteryModel",t)},expression:"oiShipBattery.batteryModel"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("shipBattery.serialNo")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiShipBattery.serialNo,callback:function(t){e.$set(e.oiShipBattery,"serialNo",t)},expression:"oiShipBattery.serialNo"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("shipBattery.unitNum")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiShipBattery.unitNum,callback:function(t){e.$set(e.oiShipBattery,"unitNum",t)},expression:"oiShipBattery.unitNum"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("shipBattery.mfrsName")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiShipBattery.mfrsName,callback:function(t){e.$set(e.oiShipBattery,"mfrsName",t)},expression:"oiShipBattery.mfrsName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("shipBattery.productDate")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiShipBattery.productDate,callback:function(t){e.$set(e.oiShipBattery,"productDate",t)},expression:"oiShipBattery.productDate"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.equipmentXh")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiShipBattery.xh,callback:function(t){e.$set(e.oiShipBattery,"xh",t)},expression:"oiShipBattery.xh"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:e.$t("shipBattery.memo")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.formIsDisabled},model:{value:e.oiShipBattery.memo,callback:function(t){e.$set(e.oiShipBattery,"memo",t)},expression:"oiShipBattery.memo"}})],1)],1)],1)],1)],1)},o=[],n=i("bff4"),s={name:"Battery",props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{oiShipBatteryId:"",formIsDisabled:!1,oiShipBatteryIds:[],oiShipBattery:{id:"",shipId:"",cellModel:"",cellParam:"",voltage:"",capacity:"",weight:"",batteryModel:"",serialNo:"",unitNum:"",mfrsName:"",productDate:"",xh:"",memo:""}}},watch:{oiShipBatteryIds:function(e){e.length&&(this.oiShipBatteryId=e[0].id,this.xhSelectChange())}},methods:{xhSelectChange:function(){var e=this;Object(n["k"])("/shipManager/getOiShipBattery",{oiShipBatteryId:this.oiShipBatteryId}).then((function(t){e.oiShipBattery=t.data.data}))},resetTemp:function(){this.oiShipBatteryId="",this.oiShipBattery={id:"",shipId:"",cellModel:"",cellParam:"",voltage:"",capacity:"",weight:"",batteryModel:"",serialNo:"",unitNum:"",mfrsName:"",productDate:"",xh:"",memo:""}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["batteryForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.oiShipBattery=i.battery[1],this.$nextTick((function(){t.$refs["batteryForm"].clearValidate()}))}}},r=s,l=i("2877"),p=Object(l["a"])(r,a,o,!1,null,null,null);t["default"]=p.exports},"69a6":function(e,t,i){},"6bcd":function(e,t,i){},"6fad":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},on:{change:e.xhSelectChange},model:{value:e.oiShipGeneratorId,callback:function(t){e.oiShipGeneratorId=t},expression:"oiShipGeneratorId"}},e._l(e.oiShipGeneratorIds,(function(e){return i("el-option",{key:e.id,attrs:{label:e.xh,value:e.id}})})),1)],1),e._v(" "),i("el-form",{ref:"shipGeneratorForm",attrs:{rules:e.oiShipGeneratorRules,model:e.oiShipGenerator,"label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.type"),prop:"engineType"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGenerator.engineType,callback:function(t){e.$set(e.oiShipGenerator,"engineType",t)},expression:"oiShipGenerator.engineType"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:e.$t("ship.isShaftGen"),"label-width":"140px"}},[i("el-radio-group",{model:{value:e.oiShipGenerator.axisstatus,callback:function(t){e.$set(e.oiShipGenerator,"axisstatus",t)},expression:"oiShipGenerator.axisstatus"}},[i("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),i("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:e.$t("ship.equipmentXh"),prop:"xh"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGenerator.xh,callback:function(t){e.$set(e.oiShipGenerator,"xh",t)},expression:"oiShipGenerator.xh"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedPower"),prop:"ratePower"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGenerator.ratePower,callback:function(t){e.$set(e.oiShipGenerator,"ratePower",t)},expression:"oiShipGenerator.ratePower"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kw")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.rateadVoltage"),prop:"rateVoltage"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGenerator.rateVoltage,callback:function(t){e.$set(e.oiShipGenerator,"rateVoltage",t)},expression:"oiShipGenerator.rateVoltage"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Volta")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.source")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGenerator.mfrsName,callback:function(t){e.$set(e.oiShipGenerator,"mfrsName",t)},expression:"oiShipGenerator.mfrsName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.produceTime")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,size:"small",type:"year",align:"left",placeholder:e.$t("common.dataYearRemind")},model:{value:e.oiShipGenerator.produceTime,callback:function(t){e.$set(e.oiShipGenerator,"produceTime",t)},expression:"oiShipGenerator.produceTime"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.fuelId"),prop:"fuelIds"}},[i("el-button",{attrs:{type:"primary",disabled:this.formIsDisabled},on:{click:e.shipTypes}},[e._v(e._s(e.$t("common.select")))]),e._v(" "),e.oiShipGenerator.shipEquipmentFuelMaps.length?i("div",{staticStyle:{width:"100%",height:"auto",border:"1px #ccc solid","margin-top":"10px",padding:"0 15px"}},[i("el-row",e._l(e.oiShipGenerator.shipEquipmentFuelMaps,(function(t,a){return i("el-col",{key:a,attrs:{span:12}},[i("span",[e._v(e._s(e.$t("ship.fuel"))+":"+e._s(t.fuelName))]),e._v(" "),"1"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method1")))]):e._e(),e._v(" "),"2"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method2")))]):e._e(),e._v(" "),"3"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method3")))]):e._e()])})),1)],1):e._e()],1)],1),e._v(" "),e.shipComPanyNamevicode?i("shipType",{attrs:{shipComPanyNamevicode:e.shipComPanyNamevicode,listData:e.oiShipGenerator.shipEquipmentFuelMaps},on:{shipComPanyNameDatas:e.shipComPanyNameDatas,shipComPanyNameData:e.shipComPanyNameData}}):e._e()],1)},o=[],n=i("bff4"),s=i("4624"),r=i("4a5a"),l={name:"ShipGenerator",components:{shipType:r["default"]},props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{shipComPanyNamevicode:!1,consMethodArray:[{value:"1",label:"使用燃油交付单的方法"},{value:"2",label:"使用流量计的方法"},{value:"3",label:"使用燃油舱柜监测的方法"}],oiShipGeneratorId:"",formIsDisabled:!1,oiShipGeneratorIds:[],oiShipGenerator:{id:"",shipId:"",engineType:"",ratePower:"",rateVoltage:"",mfrsName:"",axisstatus:"",produceTime:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[]},oiShipGeneratorRules:{engineType:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],ratePower:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],rateVoltage:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],xh:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}]}}},watch:{oiShipGeneratorIds:function(e){e.length&&(this.oiShipGeneratorId=e[0].id,this.xhSelectChange())}},methods:{shipTypes:function(){this.shipComPanyNamevicode=!0},shipComPanyNameData:function(){this.shipComPanyNamevicode=!1},shipComPanyNameDatas:function(e){this.oiShipGenerator.shipEquipmentFuelMaps=e,this.shipComPanyNamevicode=!1},resetTemp:function(){this.oiShipGeneratorId="",this.oiShipGenerator={id:"",shipId:"",engineType:"",ratePower:"",rateVoltage:"",mfrsName:"",axisstatus:"",produceTime:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[]}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["shipGeneratorForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.oiShipGenerator=i.shipGenerator[1],this.$nextTick((function(){t.$refs["shipGeneratorForm"].clearValidate()}))},xhSelectChange:function(){var e=this;Object(n["k"])("/shipManager/getshipGenerator",{shipGeneratorId:this.oiShipGeneratorId}).then((function(t){e.oiShipGenerator=t.data.data,e.oiShipGenerator.fuelIds.length=0;var i=!0,a=!1,o=void 0;try{for(var n,s=e.oiShipGenerator.shipEquipmentFuelMaps[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var r=n.value;e.oiShipGenerator.fuelIds.push(r.fuelId)}}catch(l){a=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}))}},mixins:[s["a"]]},p=l,d=i("2877"),c=Object(d["a"])(p,a,o,!1,null,null,null);t["default"]=c.exports},7687:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"oiShipInfo",staticStyle:{width:"100%"},attrs:{rules:e.shipInfoRules,model:e.oiShipInfo,"label-position":"left","label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.shipNameCn"),prop:"cspname"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.cspname,callback:function(t){e.$set(e.oiShipInfo,"cspname",t)},expression:"oiShipInfo.cspname"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.shipName"),prop:"spname"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.spname,callback:function(t){e.$set(e.oiShipInfo,"spname",t)},expression:"oiShipInfo.spname"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.imono"),prop:"imono"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.imono,callback:function(t){e.$set(e.oiShipInfo,"imono",t)},expression:"oiShipInfo.imono"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.registNo")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.ccsno,callback:function(t){e.$set(e.oiShipInfo,"ccsno",t)},expression:"oiShipInfo.ccsno"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.shipClass")}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.oiShipInfo.shipClass,callback:function(t){e.$set(e.oiShipInfo,"shipClass",t)},expression:"oiShipInfo.shipClass"}},e._l(e.shipClassOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.shipFlag")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.flag,callback:function(t){e.$set(e.oiShipInfo,"flag",t)},expression:"oiShipInfo.flag"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.builder")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.builderName,callback:function(t){e.$set(e.oiShipInfo,"builderName",t)},expression:"oiShipInfo.builderName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.owner")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.ownerName,callback:function(t){e.$set(e.oiShipInfo,"ownerName",t)},expression:"oiShipInfo.ownerName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.operator")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.operatorName,callback:function(t){e.$set(e.oiShipInfo,"operatorName",t)},expression:"oiShipInfo.operatorName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.manager")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.docName,callback:function(t){e.$set(e.oiShipInfo,"docName",t)},expression:"oiShipInfo.docName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.mrvContacts")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.title,callback:function(t){e.$set(e.oiShipInfo,"title",t)},expression:"oiShipInfo.title"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.mrvPost")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.jobtitle,callback:function(t){e.$set(e.oiShipInfo,"jobtitle",t)},expression:"oiShipInfo.jobtitle"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.mrvPhone")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.telephone,callback:function(t){e.$set(e.oiShipInfo,"telephone",t)},expression:"oiShipInfo.telephone"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.mrvEmail")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.email,callback:function(t){e.$set(e.oiShipInfo,"email",t)},expression:"oiShipInfo.email"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.shipType")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.sptype,callback:function(t){e.$set(e.oiShipInfo,"sptype",t)},expression:"oiShipInfo.sptype"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.shipSubType")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.sptypeSub,callback:function(t){e.$set(e.oiShipInfo,"sptypeSub",t)},expression:"oiShipInfo.sptypeSub"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.speed"),prop:"serviceSpeed"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.speed,callback:function(t){e.$set(e.oiShipInfo,"speed",t)},expression:"oiShipInfo.speed"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.gross")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.gross,callback:function(t){e.$set(e.oiShipInfo,"gross",t)},expression:"oiShipInfo.gross"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.dwt"),prop:"dw"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.dw,callback:function(t){e.$set(e.oiShipInfo,"dw",t)},expression:"oiShipInfo.dw"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.net")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.net,callback:function(t){e.$set(e.oiShipInfo,"net",t)},expression:"oiShipInfo.net"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.finishDate")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"date",align:"left",placeholder:e.$t("common.datePickerRemind")},model:{value:e.oiShipInfo.finish,callback:function(t){e.$set(e.oiShipInfo,"finish",t)},expression:"oiShipInfo.finish"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.passengers")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.passengers,callback:function(t){e.$set(e.oiShipInfo,"passengers",t)},expression:"oiShipInfo.passengers"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.cars")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.cars,callback:function(t){e.$set(e.oiShipInfo,"cars",t)},expression:"oiShipInfo.cars"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.contractDate")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"date",align:"left",placeholder:e.$t("common.datePickerRemind")},model:{value:e.oiShipInfo.buildContractTm,callback:function(t){e.$set(e.oiShipInfo,"buildContractTm",t)},expression:"oiShipInfo.buildContractTm"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.teu")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.teus,callback:function(t){e.$set(e.oiShipInfo,"teus",t)},expression:"oiShipInfo.teus"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.iceCode")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.ice,callback:function(t){e.$set(e.oiShipInfo,"ice",t)},expression:"oiShipInfo.ice"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.lastwuDate")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"date",align:"left",placeholder:e.$t("common.datePickerRemind")},model:{value:e.oiShipInfo.lastwu,callback:function(t){e.$set(e.oiShipInfo,"lastwu",t)},expression:"oiShipInfo.lastwu"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.manageType")}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.oiShipInfo.operateType,callback:function(t){e.$set(e.oiShipInfo,"operateType",t)},expression:"oiShipInfo.operateType"}},e._l(e.manageOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.testType")}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.oiShipInfo.consMethod,callback:function(t){e.$set(e.oiShipInfo,"consMethod",t)},expression:"oiShipInfo.consMethod"}},e._l(e.testOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.eediImp")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.eedi,callback:function(t){e.$set(e.oiShipInfo,"eedi",t)},expression:"oiShipInfo.eedi"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.eedi")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.eediValue,callback:function(t){e.$set(e.oiShipInfo,"eediValue",t)},expression:"oiShipInfo.eediValue"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.eiv")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.eiv,callback:function(t){e.$set(e.oiShipInfo,"eiv",t)},expression:"oiShipInfo.eiv"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.remark")}},[i("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.remark,callback:function(t){e.$set(e.oiShipInfo,"remark",t)},expression:"oiShipInfo.remark"}})],1)],1)},o=[],n=(i("d3e3"),[{key:"1",display_name:"公司1"},{key:"2",display_name:"公司2"},{key:"3",display_name:"公司3"}]),s=[{key:"1",display_name:"CCS"},{key:"2",display_name:"船级2"},{key:"3",display_name:"船级3"}],r=[{key:"1",display_name:"散货船"},{key:"2",display_name:"液货船"},{key:"3",display_name:"气体运输船"},{key:"4",display_name:"集装箱船"},{key:"5",display_name:"滚装货船"},{key:"6",display_name:"普通货船"}],l=[{key:"101",display_name:"灵便型"},{key:"102",display_name:"巴拿马"},{key:"103",display_name:"好望角"},{key:"104",display_name:"VLOC"},{key:"105",display_name:"苏伊士"},{key:"106",display_name:"VLCC"}],p={name:"SsmisShipInfo",props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{companyOptions:n,shipTypeOptions:r,shipSubTypeOptions:l,shipClassOptions:s,shipFlagOptions:[],dialogFormVisible:!1,formIsDisabled:!1,oiShipInfo:{id:void 0,imono:"",ccsno:"",spname:"",cspname:"",flag:"",shipClass:"",sptype:"",docCode:"",sptypeSub:"",speed:"",gross:"",dw:"",net:"",finish:"",passengers:"",cars:"",buildContractTm:"",teus:"",ice:"",lastwu:"",operateType:"",consMethod:"",eedi:"",eedivalue:"",eeoi:"",eiv:"",remark:"",clientId:"",eediValue:""}}},created:function(){this.getList()},methods:{resetForm:function(){this.oiShipInfo={id:void 0,imono:"",registerno:"",spname:"",spnameCn:"",flagCode:"",builderId:"",ownerId:"",operatorId:"",docId:"",title:"",jobtitle:"",telephone:"",email:"",class_:"",sptype:"",sptypeSub:"",serviceSpeed:"",gross:"",dw:"",net:"",finish:"",passengers:"",cars:"",buildContractTm:"",teus:"",ice:"",lastwu:"",operateType:"",consMethod:"",eedi:"",eedivalue:"",eeoi:"",eiv:"",remark:"",clientId:"",ccsno:""}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetForm(),this.$nextTick((function(){e.$refs["oiShipInfo"].clearValidate()}))},EditRowData:function(e){var t=this;this.oiShipInfo=Object.assign({},e),this.$nextTick((function(){t.$refs["oiShipInfo"].clearValidate()}))}}},d=p,c=i("2877"),m=Object(c["a"])(d,a,o,!1,null,null,null);t["default"]=m.exports},"80a5":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{padding:"15px 0"}},[i("el-form",{ref:"oiShipInfo",staticStyle:{width:"100%"},attrs:{id:"uploadForm",rules:e.shipInfoRules,model:e.oiShipInfo,"label-position":"left","label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.imono"),prop:"imono"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.imono,callback:function(t){e.$set(e.oiShipInfo,"imono",t)},expression:"oiShipInfo.imono"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.registNo"),prop:"registerno"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.registerno,callback:function(t){e.$set(e.oiShipInfo,"registerno",t)},expression:"oiShipInfo.registerno"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.shipNameCn"),prop:"spnameCn"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.spnameCn,callback:function(t){e.$set(e.oiShipInfo,"spnameCn",t)},expression:"oiShipInfo.spnameCn"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.shipName"),prop:"spname"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.spname,callback:function(t){e.$set(e.oiShipInfo,"spname",t)},expression:"oiShipInfo.spname"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.ccsNo")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.ccsno,callback:function(t){e.$set(e.oiShipInfo,"ccsno",t)},expression:"oiShipInfo.ccsno"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.shipClass")}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.oiShipInfo.class_,callback:function(t){e.$set(e.oiShipInfo,"class_",t)},expression:"oiShipInfo.class_"}},e._l(e.shipClassOptions,(function(e){return i("el-option",{key:e.id,attrs:{label:e.abbrn,value:e.abbrn}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{ref:"flagCode",attrs:{label:e.$t("ship.shipFlag"),prop:"flagCode"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind"),filterable:""},model:{value:e.oiShipInfo.flagCode,callback:function(t){e.$set(e.oiShipInfo,"flagCode",t)},expression:"oiShipInfo.flagCode"}},e._l(e.shipFlagOptions,(function(e){return i("el-option",{key:e.threeCode,attrs:{label:e.enBrief,value:e.threeCode}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.shipHomePort")}},[i("el-input",{attrs:{placeholder:e.$t("common.selectRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.homePort,callback:function(t){e.$set(e.oiShipInfo,"homePort",t)},expression:"oiShipInfo.homePort"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[i("el-button",{staticStyle:{},attrs:{plain:""},domProps:{textContent:e._s(e.$t("common.select"))},on:{click:function(t){return e.toogle(!0)}}})],1)])],1)],1)],1),e._v(" "),i("pertSelect",{attrs:{bool:e.bool}}),e._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.shipType"),prop:"sptype"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("common.selectRemind")},on:{change:e.sptypeSub},model:{value:e.oiShipInfo.sptype,callback:function(t){e.$set(e.oiShipInfo,"sptype",t)},expression:"oiShipInfo.sptype"}},e._l(e.shipTypeOptions,(function(e){return i("el-option",{key:e.id,attrs:{label:e.csptype,value:e.id}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.shipSubType")}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.oiShipInfo.sptypeSub,callback:function(t){e.$set(e.oiShipInfo,"sptypeSub",t)},expression:"oiShipInfo.sptypeSub"}},e._l(e.shipSubTypeOptions,(function(e){return i("el-option",{key:e.id,attrs:{label:e.subName,value:e.subCode}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.designSpeed"),prop:"speed"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled,type:"number"},model:{value:e.oiShipInfo.speed,callback:function(t){e.$set(e.oiShipInfo,"speed",t)},expression:"oiShipInfo.speed"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kn")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.speed"),prop:"serviceSpeed"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled,type:"number"},model:{value:e.oiShipInfo.serviceSpeed,callback:function(t){e.$set(e.oiShipInfo,"serviceSpeed",t)},expression:"oiShipInfo.serviceSpeed"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kn")])])],1)],1)],1),e._v(" "),"14"===e.oiShipInfo.sptype?i("el-row",[i("el-form-item",{attrs:{label:e.$t("ship.sptypeOther"),prop:"sptypeOther"}},[i("el-input",{attrs:{type:"textarea",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.sptypeOther,callback:function(t){e.$set(e.oiShipInfo,"sptypeOther",t)},expression:"oiShipInfo.sptypeOther"}})],1)],1):e._e(),e._v(" "),i("el-row",[i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:e.$t("ship.gross"),prop:"gross"}},[i("el-input",{staticClass:"el_input",attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.gross,callback:function(t){e.$set(e.oiShipInfo,"gross",t)},expression:"oiShipInfo.gross"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("T")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:e.$t("ship.dwt"),prop:"dw"}},[i("el-input",{staticClass:"el_input",attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.dw,callback:function(t){e.$set(e.oiShipInfo,"dw",t)},expression:"oiShipInfo.dw"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("T")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:e.$t("ship.net"),prop:"net"}},[i("el-input",{staticClass:"el_input",attrs:{type:"number",oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.net,callback:function(t){e.$set(e.oiShipInfo,"net",t)},expression:"oiShipInfo.net"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("T")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:e.$t("ship.passengers")}},[i("el-input",{staticClass:"el_input",attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.passengers,callback:function(t){e.$set(e.oiShipInfo,"passengers",t)},expression:"oiShipInfo.passengers"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:4}},[i("el-form-item",{attrs:{label:e.$t("ship.cars")}},[i("el-input",{staticClass:"el_input",attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.cars,callback:function(t){e.$set(e.oiShipInfo,"cars",t)},expression:"oiShipInfo.cars"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:e.$t("ship.teu")}},[i("el-input",{staticClass:"el_input",attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.teus,callback:function(t){e.$set(e.oiShipInfo,"teus",t)},expression:"oiShipInfo.teus"}})],1)],1)],1),e._v(" "),i("el-divider"),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.builder")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.builder,callback:function(t){e.$set(e.oiShipInfo,"builder",t)},expression:"oiShipInfo.builder"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[i("el-button",{staticStyle:{border:"none"},attrs:{plain:""},domProps:{textContent:e._s(e.$t("common.select"))},on:{click:function(t){return e.handleCreateRelation("builder")}}})],1)])],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.owner")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.owner,callback:function(t){e.$set(e.oiShipInfo,"owner",t)},expression:"oiShipInfo.owner"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[i("el-button",{staticStyle:{border:"none"},attrs:{plain:""},domProps:{textContent:e._s(e.$t("common.select"))},on:{click:function(t){return e.handleCreateRelation("owner")}}})],1)])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.operator")}},[i("el-input",{attrs:{placeholder:e.$t("common.selectRemind"),readonly:!0},model:{value:e.oiShipInfo.operatorShip,callback:function(t){e.$set(e.oiShipInfo,"operatorShip",t)},expression:"oiShipInfo.operatorShip"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[i("el-button",{staticStyle:{border:"none"},attrs:{plain:""},domProps:{textContent:e._s(e.$t("common.select"))},on:{click:function(t){return e.handleCreateRelation("operator")}}})],1)])],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ownerAddress")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.ownerAddr,callback:function(t){e.$set(e.oiShipInfo,"ownerAddr",t)},expression:"oiShipInfo.ownerAddr"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{ref:"docmanagerData",attrs:{label:e.$t("ship.manager"),prop:"docmanager"}},[i("el-input",{attrs:{placeholder:e.$t("common.selectRemind"),readonly:!0},model:{value:e.oiShipInfo.docmanager,callback:function(t){e.$set(e.oiShipInfo,"docmanager",t)},expression:"oiShipInfo.docmanager"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[i("el-button",{staticStyle:{border:"none"},attrs:{plain:""},domProps:{textContent:e._s(e.$t("common.select"))},on:{click:function(t){return e.handleCreateRelation("docmanager")}}})],1)])],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.manaInst")}},[i("el-input",{attrs:{placeholder:e.$t("common.selectRemind"),readonly:!0},model:{value:e.oiShipInfo.clientName,callback:function(t){e.$set(e.oiShipInfo,"clientName",t)},expression:"oiShipInfo.clientName"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[i("el-button",{staticStyle:{border:"none"},attrs:{plain:""},domProps:{textContent:e._s(e.$t("common.select"))},on:{click:function(t){return e.handleCreateRelation("client")}}})],1)])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.mrvContacts")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.title,callback:function(t){e.$set(e.oiShipInfo,"title",t)},expression:"oiShipInfo.title"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.mrvPost")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.jobtitle,callback:function(t){e.$set(e.oiShipInfo,"jobtitle",t)},expression:"oiShipInfo.jobtitle"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.mrvPhone")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.telephone,callback:function(t){e.$set(e.oiShipInfo,"telephone",t)},expression:"oiShipInfo.telephone"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.mrvEmail")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.email,callback:function(t){e.$set(e.oiShipInfo,"email",t)},expression:"oiShipInfo.email"}})],1)],1)],1),e._v(" "),i("el-divider",{staticStyle:{padding:"0px 0px 0px 0px"}}),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.finishDate")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"date",align:"left",placeholder:e.$t("common.datePickerRemind")},model:{value:e.oiShipInfo.finish,callback:function(t){e.$set(e.oiShipInfo,"finish",t)},expression:"oiShipInfo.finish"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.contractDate")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"date",align:"left",placeholder:e.$t("common.datePickerRemind")},model:{value:e.oiShipInfo.buildContractTm,callback:function(t){e.$set(e.oiShipInfo,"buildContractTm",t)},expression:"oiShipInfo.buildContractTm"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.lastwuDate")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"date",align:"left",placeholder:e.$t("common.datePickerRemind")},model:{value:e.oiShipInfo.lastwu,callback:function(t){e.$set(e.oiShipInfo,"lastwu",t)},expression:"oiShipInfo.lastwu"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.iceCode")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.ice,callback:function(t){e.$set(e.oiShipInfo,"ice",t)},expression:"oiShipInfo.ice"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.manageType")}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.oiShipInfo.operateType,callback:function(t){e.$set(e.oiShipInfo,"operateType",t)},expression:"oiShipInfo.operateType"}},e._l(e.manageOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"燃油检测方法"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.oiShipInfo.consMethod,callback:function(t){e.$set(e.oiShipInfo,"consMethod",t)},expression:"oiShipInfo.consMethod"}},e._l(e.manageOptionsadd,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.eedi")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled,type:"number"},model:{value:e.oiShipInfo.eedivalue,callback:function(t){e.$set(e.oiShipInfo,"eedivalue",t)},expression:"oiShipInfo.eedivalue"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.eediImp")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled,type:"number"},model:{value:e.oiShipInfo.eedi,callback:function(t){e.$set(e.oiShipInfo,"eedi",t)},expression:"oiShipInfo.eedi"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.eiv")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled,type:"number"},model:{value:e.oiShipInfo.eiv,callback:function(t){e.$set(e.oiShipInfo,"eiv",t)},expression:"oiShipInfo.eiv"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.fuelId"),prop:"fuelIds"}},[i("el-button",{attrs:{type:"primary",disabled:this.formIsDisabled},on:{click:e.shipTypes}},[e._v(e._s(e.$t("common.select")))]),e._v(" "),void 0!==e.oiShipInfo.shipEquipmentFuelMaps&&e.oiShipInfo.shipEquipmentFuelMaps.length?i("div",{staticStyle:{width:"100%",height:"auto",border:"1px #ccc solid","margin-top":"10px",padding:"0 15px"}},[i("el-row",e._l(e.oiShipInfo.shipEquipmentFuelMaps,(function(t,a){return i("el-col",{key:a,attrs:{span:12}},[i("span",[e._v(e._s(e.$t("ship.fuel"))+":"+e._s(t.fuelName))]),e._v(" "),"1"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method1")))]):e._e(),e._v(" "),"2"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method2")))]):e._e(),e._v(" "),"3"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method3")))]):e._e()])})),1)],1):e._e()],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.remark")}},[i("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInfo.remark,callback:function(t){e.$set(e.oiShipInfo,"remark",t)},expression:"oiShipInfo.remark"}})],1)],1),e._v(" "),i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.$t("ship.Listofshippingcompanies"),visible:e.dialogShipCompanyFormVisible,"close-on-click-modal":!1,"append-to-body":!0,width:"80%"},on:{"update:visible":function(t){e.dialogShipCompanyFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("div",{staticStyle:{display:"inline-block"}},[i("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v(e._s(e.$t("ship.companyNameCNEN")))]),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("common.keyWord")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleShipCompanyFilter(t)}},model:{value:e.listShipCompanyQuery.nameCn,callback:function(t){e.$set(e.listShipCompanyQuery,"nameCn",t)},expression:"listShipCompanyQuery.nameCn"}}),e._v(" "),i("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v(e._s(e.$t("common.Companycode")))]),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("common.Companycode")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleShipCompanyFilter(t)}},model:{value:e.listShipCompanyQuery.ccsCode,callback:function(t){e.$set(e.listShipCompanyQuery,"ccsCode",t)},expression:"listShipCompanyQuery.ccsCode"}}),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleShipCompanyFilter}},[e._v(e._s(e.$t("MRV.query")))]),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-setting"},on:{click:e.handleShipCompanyReset}},[e._v(e._s(e.$t("common.reset")))])],1)]),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"},{name:"adaptive",rawName:"v-adaptive",value:{bottomOffset:38},expression:"{bottomOffset: 38}"}],key:e.tableKey,staticStyle:{width:"100%",overflow:"auto"},attrs:{data:e.shipCompanylist,border:"",fit:"",height:"100px","highlight-current-row":"","row-style":{height:"35px"},"cell-style":{padding:"0"}},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("common.no"),type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("common.corporatename"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.nameCn+a.nameEn))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("common.Companycode"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.ccsCode))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("common.CompanyIACScode"),align:"left","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.iacs))])]}}])})],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogShipCompanyFormVisible=!1}}},[e._v(e._s(e.$t("common.close")))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.saveOwnerInfo}},[e._v(e._s(e.$t("common.save")))])],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total2>0,expression:"total2>0"}],staticStyle:{margin:"0px",padding:"0px"},attrs:{total:e.total2,page:e.listShipCompanyQuery.pageNum,limit:e.listShipCompanyQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listShipCompanyQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listShipCompanyQuery,"pageSize",t)},pagination:e.getShipCompanyList}})],1),e._v(" "),i("pertSelect",{ref:"pertSelect",on:{savetion:e.onWathers}}),e._v(" "),e.shipComPanyNamevicode?i("shipType",{attrs:{"ship-com-pany-namevicode":e.shipComPanyNamevicode,"list-data":e.oiShipInfo.shipEquipmentFuelMaps},on:{shipComPanyNameDatas:e.shipComPanyNameDatas,shipComPanyNameData:e.shipComPanyNameData}}):e._e()],1)},o=[],n=i("a34a"),s=i.n(n),r=i("f9ac"),l=i("bff4"),p=i("333d"),d=i("6724"),c=i("1593"),m=i("a888"),u=i("4a5a"),h=i("4624"),f=i("2119");function y(e,t,i,a,o,n,s){try{var r=e[n](s),l=r.value}catch(p){return void i(p)}r.done?t(l):Promise.resolve(l).then(a,o)}function v(e){return function(){var t=this,i=arguments;return new Promise((function(a,o){var n=e.apply(t,i);function s(e){y(n,a,o,s,r,"next",e)}function r(e){y(n,a,o,s,r,"throw",e)}s(void 0)}))}}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var b=[],S=[],I=[],$={name:"ShipInfo",components:{Pagination:p["a"],pertSelect:f["a"],shipType:u["default"]},directives:{waves:d["a"],adaptive:c["a"],elDragDialog:m["a"]},mixins:[h["a"]],props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){var e,t=this,i=function(e,i,a){""===i&&""===t.oiShipInfo.imono?a(new Error("IMO NO.、船舶识别号必填其一")):a()};return{engineIds:[],codesc:[{item:""}],cones:[{code:"1",name:"甲乙",consMethod:""}],shipComPanyNamevicode:!1,consMethodArray:[{value:"1",label:"使用燃油交付单的方法"},{value:"2",label:"使用流量计的方法"},{value:"3",label:"使用燃油舱柜监测的方法"}],shipTypeList:[],bool:!1,manageOptions:[],manageOptionsadd:[{value:"方法A",label:"方法A"},{value:"方法B",label:"方法B"},{value:"方法C",label:"方法C"},{value:"方法D",label:"方法D"}],listLoading:!0,label:"",total2:0,shipCompanylist:[],tableChecked:[],tableKey:0,dialogShipCompanyFormVisible:!1,listShipCompanyQuery:{pageNum:1,pageSize:20,nameCn:"",nameEn:"",ccsCode:""},docOptions:[],operateOptions:[],ownerOptions:[],clientOptions:[],builderOptions:[],docValue:[],docList:[],docLoading:!1,docStates:[],operateValue:[],operateList:[],operateLoading:!1,operateStates:[],ownerValue:[],ownerList:[],ownerLoading:!1,ownerStates:[],clientValue:[],clientList:[],clientLoading:!1,clientStates:[],builderValue:[],builderList:[],builderLoading:!1,builderStates:[],companyOptions:b,shipTypeOptions:[],shipSubTypeOptions:[],shipClassOptions:S,shipFlagOptions:[],homePortOptions:I,dialogFormVisible:!1,formIsDisabled:!1,oiShipInfo:(e={consMethod:"",operatorShip:"",owner:"",id:void 0,fuelIds:[],ownerAddr:"",imono:"",registerno:"",spname:"",spnameCn:"",flagCode:"",homePort:"",builderId:"",builderName:"",ownerId:"",ownerName:"",operatorId:"",operatorName:"",docId:"",docName:"",docmanager:"",title:"",jobtitle:"",telephone:"",email:"",class_:"",sptype:"",sptypeSub:"",sptypeOther:"",serviceSpeed:"",gross:"",dw:"",net:"",finish:"",passengers:"",cars:"",buildContractTm:"",teus:"",ice:"",lastwu:"",operateType:""},g(e,"consMethod",""),g(e,"eedi",""),g(e,"eedivalue",""),g(e,"eeoi",""),g(e,"eiv",""),g(e,"remark",""),g(e,"clientId",[]),g(e,"clientName",""),g(e,"oiShipCmsaMaps",[]),g(e,"shipEquipmentFuelMaps",[]),g(e,"ccsno",""),e),shipInfoRules:{spname:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],registerno:[{validator:i,trigger:"blur"}],speed:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],dw:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],net:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],gross:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],sptype:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],sptypeOther:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],homePort:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],flagCode:[{required:!0,message:this.$t("common.inputRequired"),trigger:"cheng"}],docmanager:[{required:!0,message:this.$t("common.inputRequired"),trigger:"change"}]}}},created:function(){this.getlist(),this.resetForm()},mounted:function(){},methods:{sptypeSub:function(){var e=this;Object(l["f"])(this.oiShipInfo.sptype).then((function(t){t.data.result&&(e.shipSubTypeOptions=t.data.data,e.oiShipInfo.sptypeSub="")}))},shipTypes:function(){this.shipComPanyNamevicode=!0},shipComPanyNameData:function(){this.shipComPanyNamevicode=!1},shipComPanyNameDatas:function(e){this.oiShipInfo.shipEquipmentFuelMaps=e,this.shipComPanyNamevicode=!1},onWathers:function(e){this.oiShipInfo.homePort=e[0].enName},getlist:function(){this.getShipInfoRules(),this.getShipTypeList(),this.getShipSubTypeOptions(),this.getFindClassificatList()},getShipInfoRules:function(){var e=v(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["s"]();case 2:t=e.sent,this.shipFlagOptions=t.data.data.items;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getShipTypeList:function(){var e=v(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["w"]();case 2:t=e.sent,this.shipTypeOptions=t.data.data.items;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getShipSubTypeOptions:function(){var e=v(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["v"]();case 2:t=e.sent,this.shipSubTypeOptions=t.data.data.items;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getFindClassificatList:function(){var e=v(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["t"]();case 2:t=e.sent,this.shipClassOptions=t.data.data.items;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toogle:function(){},saveOwnerInfo:function(){var e=null===this.tableChecked[0].nameEn?this.tableChecked[0].nameCn:this.tableChecked[0].nameEn,t=this.tableChecked[0].ccsCode;if("owner"===this.label&&(this.oiShipInfo.owner=e,this.oiShipInfo.ownerAddr=null===this.tableChecked[0].adressEn?this.tableChecked[0].adressCn:this.tableChecked[0].adressEn,this.oiShipInfo.ownerId=t),"builder"===this.label&&(this.oiShipInfo.builder=e,this.oiShipInfo.builderId=t),"operator"===this.label&&(this.oiShipInfo.operatorShip=e,this.oiShipInfo.operatorId=t),"docmanager"===this.label&&(this.oiShipInfo.docmanager=e,this.oiShipInfo.docId=t),"client"===this.label){this.oiShipInfo.clientName="",this.oiShipInfo.clientId.length=0;var i=!0,a=!1,o=void 0;try{for(var n,s=this.tableChecked[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var r=n.value;this.oiShipInfo.clientId.push(r.id),this.oiShipInfo.clientName=this.oiShipInfo.clientName+e+"/"}}catch(l){a=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}this.dialogShipCompanyFormVisible=!1},handleCreateRelation:function(e){this.label=e,this.dialogShipCompanyFormVisible=!0,this.getShipCompanyList()},handleSelectionChange:function(e){this.tableChecked=e},getShipCompanyList:function(){var e=this;this.listLoading=!0,Object(r["r"])(this.listShipCompanyQuery).then((function(t){e.shipCompanylist=t.data.data.items,e.total2=t.data.data.total,setTimeout((function(){e.listLoading=!1}),1.5)}))},handleShipCompanyFilter:function(){this.getShipCompanyList()},handleShipCompanyReset:function(){this.listShipCompanyQuery={pageNum:1,pageSize:20,nameCn:"",nameEn:"",ccsCode:""},this.getShipCompanyList()},querySearch:function(e,t){var i=this.restaurants,a=e?i.filter(this.createFilter(e)):i;t(a)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},docRemoteMethod:function(e){var t=this;""!==e?(this.docLoading=!0,setTimeout((function(){t.docLoading=!1,t.docOptions=t.docList.filter((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))}),200)):this.docOptions=[]},operateRemoteMethod:function(e){var t=this;""!==e?(this.operateLoading=!0,setTimeout((function(){t.operateLoading=!1,t.operateOptions=t.operateList.filter((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))}),200)):this.operateOptions=[]},ownerRemoteMethod:function(e){var t=this;""!==e?(this.ownerLoading=!0,setTimeout((function(){t.ownerLoading=!1,t.ownerOptions=t.ownerList.filter((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))}),200)):this.ownerOptions=[]},clientRemoteMethod:function(e){var t=this;""!==e?(this.clientLoading=!0,setTimeout((function(){t.clientLoading=!1,t.clientOptions=t.clientList.filter((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))}),200)):this.clientOptions=[]},builderRemoteMethod:function(e){var t=this;""!==e?(this.builderLoading=!0,setTimeout((function(){t.builderLoading=!1,t.builderOptions=t.builderList.filter((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))}),200)):this.builderOptions=[]},resetForm:function(){this.docOptions=[],this.operateOptions=[],this.ownerOptions=[],this.builderOptions=[],this.oiShipInfo={id:void 0,homePort:"",imono:"",owner:"",ownerAddr:"",ownerId:"",registerno:"",spname:"",spnameCn:"",flagCode:"",builderId:"",builder:"",operatorId:"",operatorShip:"",docId:"",title:"",jobtitle:"",telephone:"",email:"",class_:"",sptype:"",sptypeSub:"",serviceSpeed:"",gross:"",dw:"",net:"",finish:"",passengers:"",cars:"",buildContractTm:"",teus:"",ice:"",lastwu:"",operateType:"",consMethod:"",eedi:"",eedivalue:"",eeoi:"",eiv:"",remark:"",clientId:[],clientName:"",ccsno:"",fuelIds:[]}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetForm(),this.$nextTick((function(){e.$refs["oiShipInfo"].clearValidate()}))},EditRowData:function(e){var t=this;this.oiShipInfo=Object.assign({},e),this.oiShipInfo.clientId.length=0,this.oiShipInfo.clientName="";var i=!0,a=!1,o=void 0;try{for(var n,s=this.oiShipInfo.oiShipCmsaMaps[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var r=n.value;this.oiShipInfo.clientId.push(r.clientId),this.oiShipInfo.clientName=this.oiShipInfo.clientName+r.cmsaName+"/"}}catch(h){a=!0,o=h}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}this.oiShipInfo.fuelIds.length=0;var l=!0,p=!1,d=void 0;try{for(var c,m=this.oiShipInfo.shipEquipmentFuelMaps[Symbol.iterator]();!(l=(c=m.next()).done);l=!0){var u=c.value;null===u.equipmentId&&this.oiShipInfo.fuelIds.push(u.fuelId)}}catch(h){p=!0,d=h}finally{try{l||null==m.return||m.return()}finally{if(p)throw d}}this.$nextTick((function(){t.$refs["oiShipInfo"].clearValidate()}))}}},_=$,T=(i("d03f"),i("2877")),w=Object(T["a"])(_,a,o,!1,null,null,null);t["default"]=w.exports},"817d":function(e,t,i){var a,o,n;(function(s,r){o=[t,i("313e")],a=r,n="function"===typeof a?a.apply(t,o):a,void 0===n||(e.exports=n)})(0,(function(e,t){var i=function(e){"undefined"!==typeof console&&console};if(t){var a=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],o={color:a,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:a[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:a},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};t.registerTheme("macarons",o)}else i("ECharts is not Loaded")}))},8963:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},on:{change:e.xhSelectChange},model:{value:e.oiShipTurbineId,callback:function(t){e.oiShipTurbineId=t},expression:"oiShipTurbineId"}},e._l(e.oiShipTurbineIds,(function(e){return i("el-option",{key:e.id,attrs:{label:e.xh,value:e.id}})})),1)],1),e._v(" "),i("el-form",{ref:"shipGasTurbinesForm",attrs:{rules:e.oiShipTurbineRules,model:e.oiShipTurbine,"label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.type"),prop:"engineType"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipTurbine.engineType,callback:function(t){e.$set(e.oiShipTurbine,"engineType",t)},expression:"oiShipTurbine.engineType"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedPower"),prop:"ratePower"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipTurbine.ratePower,callback:function(t){e.$set(e.oiShipTurbine,"ratePower",t)},expression:"oiShipTurbine.ratePower"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kw")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.oilType")}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.oiShipTurbine.energyid,callback:function(t){e.$set(e.oiShipTurbine,"energyid",t)},expression:"oiShipTurbine.energyid"}},e._l(e.oilTypeOptions,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.equipmentXh"),prop:"xh"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipTurbine.xh,callback:function(t){e.$set(e.oiShipTurbine,"xh",t)},expression:"oiShipTurbine.xh"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.deviceSerial"),prop:"serialNo"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipTurbine.serialNo,callback:function(t){e.$set(e.oiShipTurbine,"serialNo",t)},expression:"oiShipTurbine.serialNo"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.fuelId"),prop:"fuelIds"}},[i("el-button",{attrs:{type:"primary",disabled:this.formIsDisabled},on:{click:e.shipTypes}},[e._v(e._s(e.$t("common.select")))]),e._v(" "),e.oiShipTurbine.shipEquipmentFuelMaps.length?i("div",{staticStyle:{width:"100%",height:"auto",border:"1px #ccc solid","margin-top":"10px",padding:"0 15px"}},[i("el-row",e._l(e.oiShipTurbine.shipEquipmentFuelMaps,(function(t,a){return i("el-col",{key:a,attrs:{span:12}},[i("span",[e._v(e._s(e.$t("ship.fuel"))+":"+e._s(t.fuelName))]),e._v(" "),"1"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method1")))]):e._e(),e._v(" "),"2"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method2")))]):e._e(),e._v(" "),"3"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method3")))]):e._e()])})),1)],1):e._e()],1)],1),e._v(" "),e.shipComPanyNamevicode?i("shipType",{attrs:{shipComPanyNamevicode:e.shipComPanyNamevicode,listData:e.oiShipTurbine.shipEquipmentFuelMaps},on:{shipComPanyNameDatas:e.shipComPanyNameDatas,shipComPanyNameData:e.shipComPanyNameData}}):e._e()],1)},o=[],n=i("4a5a"),s=i("bff4"),r=i("4624"),l={name:"ShipGasTurbines",components:{shipType:n["default"]},props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{shipComPanyNamevicode:!1,consMethodArray:[{value:"1",label:"使用燃油交付单的方法"},{value:"2",label:"使用流量计的方法"},{value:"3",label:"使用燃油舱柜监测的方法"}],oiShipTurbineId:"",formIsDisabled:!1,oiShipTurbineIds:[],oilTypeOptions:["柴油","汽油","轻燃油","重燃油"],oiShipTurbine:{id:"",shipId:"",engineType:"",ratePower:"",energyid:"",xh:"",fuelIds:[],serialNo:"",shipEquipmentFuelMaps:[]},oiShipTurbineRules:{engineType:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],ratePower:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],xh:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],serialNo:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}]}}},watch:{oiShipTurbineIds:function(e){e.length&&(this.oiShipTurbineId=e[0].id,this.xhSelectChange())}},methods:{shipTypes:function(){this.shipComPanyNamevicode=!0},shipComPanyNameData:function(){this.shipComPanyNamevicode=!1},shipComPanyNameDatas:function(e){this.oiShipTurbine.shipEquipmentFuelMaps=e,this.shipComPanyNamevicode=!1},resetTemp:function(){this.oiShipTurbineId="",this.oiShipTurbine={id:"",shipId:"",engineType:"",ratePower:"",energyid:"",xh:"",fuelIds:[],serialNo:"",shipEquipmentFuelMaps:[]}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["shipGasTurbinesForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.temp=i.shipGasTurbines[1],this.$nextTick((function(){t.$refs["shipGasTurbinesForm"].clearValidate()}))},xhSelectChange:function(){var e=this;Object(s["k"])("/shipManager/getShipTurbine",{turbineId:this.oiShipTurbineId}).then((function(t){e.oiShipTurbine=t.data.data,e.oiShipTurbine.fuelIds.length=0;var i=!0,a=!1,o=void 0;try{for(var n,s=e.oiShipTurbine.shipEquipmentFuelMaps[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var r=n.value;e.oiShipTurbine.fuelIds.push(r.fuelId)}}catch(l){a=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}))}},mixins:[r["a"]]},p=l,d=i("2877"),c=Object(d["a"])(p,a,o,!1,null,null,null);t["default"]=c.exports},"99e5":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},on:{change:e.xhSelectChange},model:{value:e.oiShipInertId,callback:function(t){e.oiShipInertId=t},expression:"oiShipInertId"}},e._l(e.oiShipInertIds,(function(e){return i("el-option",{key:e.id,attrs:{label:e.xh,value:e.id}})})),1)],1),e._v(" "),i("el-form",{ref:"shipInertForm",attrs:{rules:e.shipInertRules,model:e.oiShipInert,"label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.type"),prop:"inertOiltype"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInert.inertOiltype,callback:function(t){e.$set(e.oiShipInert,"inertOiltype",t)},expression:"oiShipInert.inertOiltype"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedPower")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInert.power,callback:function(t){e.$set(e.oiShipInert,"power",t)},expression:"oiShipInert.power"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kw")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.source")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInert.mfrsName,callback:function(t){e.$set(e.oiShipInert,"mfrsName",t)},expression:"oiShipInert.mfrsName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.produceTime")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"year",size:"small",align:"left",placeholder:e.$t("common.selectRemind")},model:{value:e.oiShipInert.produceTime,callback:function(t){e.$set(e.oiShipInert,"produceTime",t)},expression:"oiShipInert.produceTime"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.energyId"),prop:"energyid"}},[i("el-checkbox-group",{on:{change:e.checkboxChange},model:{value:e.engineIds,callback:function(t){e.engineIds=t},expression:"engineIds"}},e._l(e.situations,(function(t,a){return i("el-checkbox",{key:a,attrs:{label:t.formCode}},[e._v(e._s(t.formName))])})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.equipmentXh"),prop:"xh"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipInert.xh,callback:function(t){e.$set(e.oiShipInert,"xh",t)},expression:"oiShipInert.xh"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.fuelId"),prop:"fuelIds"}},[i("el-button",{attrs:{type:"primary",disabled:this.formIsDisabled},on:{click:e.shipTypes}},[e._v("选择")]),e._v(" "),e.oiShipInert.shipEquipmentFuelMaps.length?i("div",{staticStyle:{width:"100%",height:"auto",border:"1px #ccc solid","margin-top":"10px",padding:"0 15px"}},[i("el-row",e._l(e.oiShipInert.shipEquipmentFuelMaps,(function(t,a){return i("el-col",{key:a,attrs:{span:12}},[i("span",[e._v(e._s(e.$t("ship.fuel"))+":"+e._s(t.fuelName))]),e._v(" "),"1"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method1")))]):e._e(),e._v(" "),"2"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method2")))]):e._e(),e._v(" "),"3"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method3")))]):e._e()])})),1)],1):e._e()],1)],1),e._v(" "),e.shipComPanyNamevicode?i("shipType",{attrs:{shipComPanyNamevicode:e.shipComPanyNamevicode,listData:e.oiShipInert.shipEquipmentFuelMaps},on:{shipComPanyNameDatas:e.shipComPanyNameDatas,shipComPanyNameData:e.shipComPanyNameData}}):e._e()],1)},o=[],n=i("bff4"),s=i("4624"),r=i("4a5a"),l={name:"ShipInert",components:{shipType:r["default"]},props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{shipComPanyNamevicode:!1,consMethodArray:[{value:"1",label:"使用燃油交付单的方法"},{value:"2",label:"使用流量计的方法"},{value:"3",label:"使用燃油舱柜监测的方法"}],engineIds:[],oiShipInertId:"",formIsDisabled:!1,oiShipInertIds:[],oiShipInert:{id:"",shipId:"",inertOiltype:"",energyid:"",mfrsName:"",produceTime:"",power:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[]},shipInertRules:{inertOiltype:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],energyid:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],xh:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}]}}},watch:{oiShipInertIds:function(e){e.length&&(this.oiShipInertId=e[0].id,this.xhSelectChange())}},methods:{shipTypes:function(){this.shipComPanyNamevicode=!0},shipComPanyNameData:function(){this.shipComPanyNamevicode=!1},shipComPanyNameDatas:function(e){this.oiShipInert.shipEquipmentFuelMaps=e,this.shipComPanyNamevicode=!1},getEngineIds:function(e){var t=[];return""!==e&&(t=e.split(",")),t},resetTemp:function(){this.engineIds=[],this.oiShipInertId="",this.oiShipInert={id:"",shipId:"",inertOiltype:"",energyid:"",mfrsName:"",produceTime:"",power:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[]}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["shipInertForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.oiShipInert=i.shipInert[1],this.$nextTick((function(){t.$refs["shipInertForm"].clearValidate()}))},xhSelectChange:function(){var e=this;Object(n["k"])("/shipManager/getShipInert",{shipInertId:this.oiShipInertId}).then((function(t){e.oiShipInert=t.data.data,e.engineIds=e.getEngineIds(t.data.data.energyid),e.oiShipInert.fuelIds.length=0;var i=!0,a=!1,o=void 0;try{for(var n,s=e.oiShipInert.shipEquipmentFuelMaps[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var r=n.value;e.oiShipInert.fuelIds.push(r.fuelId)}}catch(l){a=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}))},checkboxChange:function(){this.engineIds.length>0?this.oiShipInert.energyId=this.engineIds[0]:this.oiShipInert.energyId=""}},mixins:[s["a"]]},p=l,d=i("2877"),c=Object(d["a"])(p,a,o,!1,null,null,null);t["default"]=c.exports},"9a74":function(e,t,i){"use strict";var a=i("6bcd"),o=i.n(a);o.a},"9b41":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},model:{value:e.temp.num,callback:function(t){e.$set(e.temp,"num",t)},expression:"temp.num"}},e._l(e.mainEngineIds,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),e._v(" "),i("el-form",{ref:"shipMainPropForm",attrs:{model:e.temp,"label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.type")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind")},model:{value:e.temp.type,callback:function(t){e.$set(e.temp,"type",t)},expression:"temp.type"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedPower")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind")},model:{value:e.temp.ratedPower,callback:function(t){e.$set(e.temp,"ratedPower",t)},expression:"temp.ratedPower"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kw")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedSpeed")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind")},model:{value:e.temp.ratedSpeed,callback:function(t){e.$set(e.temp,"ratedSpeed",t)},expression:"temp.ratedSpeed"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Rpm")])])],1)],1)],1)],1)],1)},o=[],n={name:"ShipMainProp",props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{mainEngineIds:["1","2"],temp:{id:void 0,type:"",ratedPower:"",ratedSpeed:""}}},methods:{resetTemp:function(){this.temp={id:void 0,type:"",ratedPower:"",ratedSpeed:""}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["shipMainPropForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.temp=i.shipMainProp[1],this.$nextTick((function(){t.$refs["shipMainPropForm"].clearValidate()}))}}},s=n,r=i("2877"),l=Object(r["a"])(s,a,o,!1,null,null,null);t["default"]=l.exports},"9e0b":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[e.eeDataVisiable?i("div",{staticClass:"filter-container"},[i("div",{staticStyle:{display:"inline-block"}},[i("label",{staticClass:"radio-label",staticStyle:{"padding-left":"15px"}},[e._v(e._s(e.$t("voyage.searchShipCompany")))]),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:e.$t("common.inputRemind")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.shipComPany,callback:function(t){e.shipComPany=t},expression:"shipComPany"}}),e._v(" "),i("el-button",{attrs:{plain:""},on:{click:e.selectShipComPany}},[e._v(e._s(e.$t("common.select")))]),e._v(" "),i("label",{staticClass:"radio-label",staticStyle:{"padding-left":"20px"}},[e._v(e._s(e.$t("voyage.searchShip")))]),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:e.$t("common.inputRemind")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.shipNameOrImoOrRegisterNo,callback:function(t){e.$set(e.listQuery,"shipNameOrImoOrRegisterNo",t)},expression:"listQuery.shipNameOrImoOrRegisterNo"}})],1),e._v(" "),i("div",{staticStyle:{display:"inline-block"}},[i("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v(e._s(e.$t("voyage.searchVoyageName")))]),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:e.$t("common.inputRemind")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.volageCode,callback:function(t){e.$set(e.listQuery,"volageCode",t)},expression:"listQuery.volageCode"}}),e._v(" "),i("label",{staticClass:"radio-label",staticStyle:{"padding-left":"100px"}},[e._v(e._s(e.$t("voyage.searchVoyageTime")))]),e._v(" "),i("el-date-picker",{staticStyle:{width:"130px"},attrs:{editable:!0,type:"date",align:"left",placeholder:e.$t("common.datePickerRemind")},model:{value:e.listQuery.startTime,callback:function(t){e.$set(e.listQuery,"startTime",t)},expression:"listQuery.startTime"}}),e._v("\n      ~\n      "),i("el-date-picker",{staticStyle:{width:"130px"},attrs:{editable:!0,type:"date",align:"left",placeholder:e.$t("common.datePickerRemind")},model:{value:e.listQuery.endTime,callback:function(t){e.$set(e.listQuery,"endTime",t)},expression:"listQuery.endTime"}}),e._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"},attrs:{icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("common.search"))+"\n      ")]),e._v(" "),i("el-button",{staticClass:"filter-item",attrs:{type:"info",icon:"el-icon-setting"},on:{click:e.handleResetFilter}},[e._v(e._s(e.$t("common.reset"))+"\n      ")])],1)]):e._e(),e._v(" "),i("div",{staticClass:"optionBar"},[i("h3",{staticClass:"item-tit",staticStyle:{float:"left"}},[e._v(e._s(e.$t("voyage.Voyagesegmentinformation")))])]),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"},{name:"adaptive",rawName:"v-adaptive",value:{bottomOffset:228},expression:"{bottomOffset: 228}"}],staticStyle:{width:"100%",overflow:"auto",height:"auto"},attrs:{data:e.dataTreeGrid,border:"",fit:"",height:"95px","highlight-current-row":"","row-style":{height:"35px"},"cell-style":{padding:"0"},"tree-props":{children:"children",hasChildren:"hasChildren"},"row-key":"id"},on:{"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{label:e.$t("common.no"),type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.voyageLegCode"),"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.volageCode))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.imonoAndRegistNo"),"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.imo)+"/"+e._s(a.registerNo))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.shipNameView"),"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.shipName)+"/"+e._s(a.shipNameEn))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.startDate"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(e._f("datesformat")(a.startTime,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.endDate"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(e._f("datesformat")(a.endTime,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.EEOI"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.eeoiValue))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.CO2Emission"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.carbonDioxideEmission))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.speedRatio"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.dropRatio))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.LoadUtilization"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.capacityUtilization))])]}}])})],1),e._v(" "),e.eeDataVisiable?i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.currentPage,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"currentPage",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)}}}):e._e(),e._v(" "),i("div",[i("el-tabs",{model:{value:e.activeSpectName,callback:function(t){e.activeSpectName=t},expression:"activeSpectName"}},[i("el-tab-pane",{attrs:{label:e.$t("voyagePort.arrival"),name:"first"}},[i("el-table",{staticStyle:{width:"100%",overflow:"auto"},attrs:{data:e.portlist,height:"155px",border:"","highlight-current-row":"","row-style":{height:"35px"},"cell-style":{padding:"0"}}},[i("el-table-column",{attrs:{label:e.$t("voyagePort.NameCn"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.portNameCn))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.NameEn"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.portName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.inPort"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s("0"===a.inPort?e.$t("voyagePort.boundary"):e.$t("voyagePort.Outside")))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.arrTime"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(e._f("datesformat")(a.localArrivalTime,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.deptTime"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(e._f("datesformat")(a.localFormThePortTime,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.objective"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.portWork))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.distance"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.distance))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("common.operate"),align:"center","class-name":"small-padding fixed-width","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleDetailPort(a)}}},[e._v(e._s(e.$t("common.detail"))+"\n              ")])]}}])})],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.$t("voyagePort.iceOrRescue"),name:"second"}},[i("el-table",{staticStyle:{width:"100%",overflow:"auto"},attrs:{data:e.speclist,height:"155px",border:"","highlight-current-row":"","row-style":{height:"35px"},"cell-style":{padding:"0"}}},[i("el-table-column",{attrs:{label:e.$t("voyagePort.specNameCn"),align:"center",width:"120","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s("1"===a.recodeType?e.$t("voyage.rescue"):e.$t("voyage.Icenavigation")))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.specTime"),width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(e._f("datesformat")(a.iceStartTime,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.specEndTime"),width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(e._f("datesformat")(a.iceEndTime,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.specDistance"),width:"108",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.distance))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.hfo"),width:"108",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.hfo))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.lfo"),width:"108",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.lfo))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.chaifo"),width:"108",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.diesel))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyagePort.otherfo"),width:"108",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.otherOil))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("common.operate"),align:"center",width:"230","class-name":"small-padding fixed-width","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpdateSpec(a)}}},[e._v(e._s(e.$t("common.edit"))+"\n              ")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleDetailSpec(a)}}},[e._v(e._s(e.$t("common.detail"))+"\n              ")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDeleteSpec(a)}}},[e._v(e._s(e.$t("common.delete"))+"\n              ")])]}}])})],1)],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.$t("voyage.voyageEditText"),visible:e.voyagedialogFormVisible,"close-on-click-modal":e.voyagedialogFormVisible2,width:"80%","append-to-body":!0},on:{"update:visible":function(t){e.voyagedialogFormVisible=t}}},[i("el-form",{ref:"voyagedataForm",staticStyle:{width:"400px","margin-left":"20px"},attrs:{rules:e.voyageRules,model:e.voyageTemp,"label-position":"left","label-width":"70px"}},[i("el-form-item",{attrs:{"label-width":"150px",label:e.$t("voyage.shipName"),prop:"shipName"}},[i("el-input",{staticStyle:{width:"250px"},model:{value:e.voyageTemp.shipName,callback:function(t){e.$set(e.voyageTemp,"shipName",t)},expression:"voyageTemp.shipName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("voyage.voyageCode"),prop:"voyageCode","label-width":"150px"}},[i("el-input",{staticStyle:{width:"250px"},model:{value:e.voyageTemp.voyageCode,callback:function(t){e.$set(e.voyageTemp,"voyageCode",t)},expression:"voyageTemp.voyageCode"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.voyagedialogFormVisiblea}},[e._v(e._s(e.$t("common.close")))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.voyagedialogStatus?e.createVoyageData():e.updateVoyageData()}}},[e._v(e._s(e.$t("common.save"))+"55\n      ")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.$t("voyage.batchImportText"),visible:e.batchImportFormVisible,width:"80%","close-on-click-modal":!1,"append-to-body":!0},on:{"update:visible":function(t){e.batchImportFormVisible=t}}},[i("el-form",{staticStyle:{width:"400px","margin-left":"20px"},attrs:{"label-width":"70px"}}),e._v(" "),i("uploadFiles"),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.batchImportFormVisible=!1}}},[e._v(e._s(e.$t("common.close")))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.batchImportStatus?e.createVoyageData():e.updateVoyageData()}}},[e._v(e._s(e.$t("common.save"))+"\n      ")])],1)],1),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.$t("voyage.portEditText"),visible:e.portdialogFormVisible,"close-on-click-modal":!1,"custom-class":"customwh","append-to-body":!0,width:"70%"},on:{"update:visible":function(t){e.portdialogFormVisible=t}}},[i("el-form",{ref:"portdataForm",attrs:{rules:e.portRules,model:e.portTemp,"label-position":"left","label-width":"130px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.NameEn"),prop:"porten"}},[i("el-input",{attrs:{readonly:!0},model:{value:e.portTemp.porten,callback:function(t){e.$set(e.portTemp,"porten",t)},expression:"portTemp.porten"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.NameCn"),prop:"portcn"}},[i("el-input",{attrs:{readonly:!0},model:{value:e.portTemp.portcn,callback:function(t){e.$set(e.portTemp,"portcn",t)},expression:"portTemp.portcn"}})],1)],1),e._v(" "),i("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:1}},[i("el-button",{attrs:{plain:""},on:{click:e.selectPort}},[e._v(e._s(e.$t("common.select")))])],1),e._v(" "),i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:e.$t("ship.selectShip"),prop:"shipName"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:!0},model:{value:e.portTemp.shipName,callback:function(t){e.$set(e.portTemp,"shipName",t)},expression:"portTemp.shipName"}})],1)],1),e._v(" "),i("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:1}},[i("el-button",{attrs:{plain:""},on:{click:e.selectShip}},[e._v(e._s(e.$t("common.select")))])],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.firstVolageCode"),prop:"firstVolageCode"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.readOnly},model:{value:e.portTemp.firstVolageCode,callback:function(t){e.$set(e.portTemp,"firstVolageCode",t)},expression:"portTemp.firstVolageCode"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.secondVolageCode"),prop:"secondVolageCode"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.readOnly},model:{value:e.portTemp.secondVolageCode,callback:function(t){e.$set(e.portTemp,"secondVolageCode",t)},expression:"portTemp.secondVolageCode"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.arrTime"),prop:"arrTm"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"datetime",placeholder:e.$t("common.dateTimeRemind")},model:{value:e.portTemp.arrTm,callback:function(t){e.$set(e.portTemp,"arrTm",t)},expression:"portTemp.arrTm"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.arrZone"),prop:"arrZone"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.portTemp.arrZone,callback:function(t){e.$set(e.portTemp,"arrZone",t)},expression:"portTemp.arrZone"}},e._l(e.ZoneOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.deptTime"),prop:"deptTm"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"datetime",placeholder:e.$t("common.dateTimeRemind")},model:{value:e.portTemp.deptTm,callback:function(t){e.$set(e.portTemp,"deptTm",t)},expression:"portTemp.deptTm"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.deptZone"),prop:"deptZone"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.portTemp.deptZone,callback:function(t){e.$set(e.portTemp,"deptZone",t)},expression:"portTemp.deptZone"}},e._l(e.ZoneOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.distance"),prop:"distance"}},[i("el-input",{attrs:{type:"number",min:"",readonly:e.readOnly},model:{value:e.portTemp.distance,callback:function(t){e.$set(e.portTemp,"distance",t)},expression:"portTemp.distance"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("nm")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.inPort"),prop:"inPort"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.portTemp.inPort,callback:function(t){e.$set(e.portTemp,"inPort",t)},expression:"portTemp.inPort"}},e._l(e.inPortOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.objective")}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind"),"multiple-limit":10},model:{value:e.portTemp.anchorPurpose,callback:function(t){e.$set(e.portTemp,"anchorPurpose",t)},expression:"portTemp.anchorPurpose"}},e._l(e.objectiveOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.display_name}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.shorePower")}},[i("el-input",{attrs:{readonly:e.readOnly},model:{value:e.portTemp.shorePower,callback:function(t){e.$set(e.portTemp,"shorePower",t)},expression:"portTemp.shorePower"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("KWH")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.isEU")}},[i("el-checkbox",{model:{value:e.portTemp.isEu,callback:function(t){e.$set(e.portTemp,"isEu",t)},expression:"portTemp.isEu"}})],1)],1)],1)],1),e._v(" "),i("el-row",[i("el-tabs",{staticStyle:{height:"100%","overflow-y":"auto","overflow-x":"hidden"},attrs:{value:"first",type:"border-card"}},[i("el-tab-pane",{attrs:{label:e.$t("voyageOil.Arrivalcargo"),name:"first"}},[i("arrCargoInfo",{ref:"arrCargoInfo",attrs:{"edit-status":this.portdialogStatus,"port-edit-row-id":this.portEditRowId}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.$t("voyageOil.Departurecargo"),name:"second"}},[i("deptCargoInfo",{ref:"deptCargoInfo",attrs:{"edit-status":this.portdialogStatus,"port-edit-row-id":this.portEditRowId}})],1)],1)],1),e._v(" "),i("el-row",[i("el-tabs",{staticStyle:{height:"100%","overflow-y":"auto","overflow-x":"hidden"},attrs:{value:"one",type:"border-card"}},[i("el-tab-pane",{attrs:{label:e.$t("voyageOil.arrDeptPortOil"),name:"one"}},[i("oilTons",{ref:"oilTons",attrs:{"edit-status":this.portdialogStatus,"port-edit-row-id":this.portEditRowId,"port-row-model":this.portRowModel}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.$t("voyageOil.addOil"),name:"two"}},[i("Fuelquantity")],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.$t("voyageOil.outOil"),name:"star"}},[i("Bargeoilvolume")],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.$t("voyageOil.barge"),name:"tvit"}},[i("bargeInfo")],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.portdialogFormVisible=!1}}},[e._v(e._s(e.$t("common.close")))]),e._v(" "),e.readOnly?e._e():i("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.portdialogStatus?e.createPortData():e.updatePortData()}}},[e._v(e._s(e.$t("common.save"))+"\n      ")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.$t("voyage.driftEditText"),visible:e.driftdialogFormVisible,"close-on-click-modal":!1,width:"80%","append-to-body":!0},on:{"update:visible":function(t){e.driftdialogFormVisible=t}}},[i("el-form",{ref:"driftdataForm",attrs:{rules:e.rules,model:e.driftTemp,"label-position":"left","label-width":"200px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyageSpec.recordType"),"label-width":"100px"}},[i("el-radio-group",{staticStyle:{width:"200px"},model:{value:e.driftTemp.recordType,callback:function(t){e.$set(e.driftTemp,"recordType",t)},expression:"driftTemp.recordType"}},[i("span",{staticClass:"anchoring_pm",on:{click:function(t){return e.anchoring(1)}}},[i("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("voyageOil.Anchoringontheway")))])],1),e._v(" "),i("span",{on:{click:function(t){return e.anchoring(2)}}},[i("el-radio",{attrs:{label:2}},[e._v(e._s(e.$t("voyageOil.Floatingontheway")))])],1)])],1)],1),e._v(" "),i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:e.$t("ship.selectShip"),prop:"shipName"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:!0},model:{value:e.driftTemp.shipName,callback:function(t){e.$set(e.driftTemp,"shipName",t)},expression:"driftTemp.shipName"}})],1)],1),e._v(" "),i("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:1}},[i("el-button",{attrs:{plain:""},on:{click:e.selectShip}},[e._v(e._s(e.$t("common.select")))])],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.volageCode"),prop:"firstVolageCode"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.readOnly},model:{value:e.driftTemp.firstVolageCode,callback:function(t){e.$set(e.driftTemp,"firstVolageCode",t)},expression:"driftTemp.firstVolageCode"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:e.$t("voyageSpec.beginTime"),"label-width":"100px"}},[i("el-date-picker",{staticStyle:{width:"200px"},attrs:{editable:!0,type:"datetime",placeholder:e.$t("common.dateTimeRemind"),align:"left"},model:{value:e.driftTemp.arrTm,callback:function(t){e.$set(e.driftTemp,"arrTm",t)},expression:"driftTemp.arrTm"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("voyageSpec.endTime"),"label-width":"150px"}},[i("el-date-picker",{staticStyle:{width:"200px"},attrs:{editable:!0,type:"datetime",placeholder:e.$t("common.dateTimeRemind"),align:"left"},model:{value:e.driftTemp.deptTm,callback:function(t){e.$set(e.driftTemp,"deptTm",t)},expression:"driftTemp.deptTm"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("voyageSpec.zone"),prop:"name","label-width":"150px"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.driftTemp.arrZone,callback:function(t){e.$set(e.driftTemp,"arrZone",t)},expression:"driftTemp.arrZone"}},e._l(e.ZoneOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1)],1),e._v(" "),e.Anchoringontheway?i("el-row",[i("oilTons",{ref:"driftOilTons",attrs:{"edit-status":e.portdialogStatus,"port-edit-row-id":e.portEditRowId,"port-row-model":{portRowModel:e.portRowModel}}})],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.driftdialogFormVisible=!1}}},[e._v(e._s(e.$t("common.close")))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createDriftData()}}},[e._v(e._s(e.$t("common.save")))])],1)],1),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{height:"80%"},attrs:{title:e.$t("voyage.specEditText"),visible:e.specdialogFormVisible,"close-on-click-modal":!1,"custom-class":"customwh","append-to-body":!0},on:{"update:visible":function(t){e.specdialogFormVisible=t}}},[i("el-form",{ref:"specdataForm",attrs:{rules:e.rules,model:e.specTemp,"label-position":"left","label-width":"130px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyageSpec.recordType")}},[i("el-radio-group",{model:{value:e.specTemp.recordType,callback:function(t){e.$set(e.specTemp,"recordType",t)},expression:"specTemp.recordType"}},[i("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("voyage.Icenavigation")))]),e._v(" "),i("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("voyage.Rescue")))])],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:e.$t("ship.selectShip"),prop:"shipName"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:!0},model:{value:e.specTemp.shipName,callback:function(t){e.$set(e.specTemp,"shipName",t)},expression:"specTemp.shipName"}})],1)],1),e._v(" "),i("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:1}},[i("el-button",{attrs:{plain:""},on:{click:e.selectShip}},[e._v(e._s(e.$t("common.select")))])],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.volageCode"),prop:"voyageCode"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.specReadOnly},model:{value:e.specTemp.voyageCode,callback:function(t){e.$set(e.specTemp,"voyageCode",t)},expression:"specTemp.voyageCode"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("voyagePort.specDistance"),prop:"distance"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.specReadOnly},model:{value:e.specTemp.distance,callback:function(t){e.$set(e.specTemp,"distance",t)},expression:"specTemp.distance"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("voyageSpec.beginTime")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"datetime",placeholder:e.$t("common.dateTimeRemind")},model:{value:e.specTemp.beginTm,callback:function(t){e.$set(e.specTemp,"beginTm",t)},expression:"specTemp.beginTm"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("voyageSpec.endTime")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"datetime",placeholder:e.$t("common.dateTimeRemind")},model:{value:e.specTemp.endTm,callback:function(t){e.$set(e.specTemp,"endTm",t)},expression:"specTemp.endTm"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("voyageSpec.zone")}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind")},model:{value:e.specTemp.beginZone,callback:function(t){e.$set(e.specTemp,"beginZone",t)},expression:"specTemp.beginZone"}},e._l(e.ZoneOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.specOilFormData,stripe:"",border:"",size:"mini"}},[i("el-table-column",{attrs:{label:e.$t("voyageOil.oilType"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.oilName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyageOil.fuelConsumption"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-input",{staticClass:"el_input",attrs:{readonly:e.specReadOnly},model:{value:a.consTons,callback:function(t){e.$set(a,"consTons",t)},expression:"row.consTons"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyageOil.outOil"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-input",{staticClass:"el_input",attrs:{readonly:e.specReadOnly},model:{value:a.outTons,callback:function(t){e.$set(a,"outTons",t)},expression:"row.outTons"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyageOil.outOilTime"),align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-date-picker",{staticStyle:{width:"95%"},attrs:{editable:!0,type:"datetime",placeholder:e.$t("common.dateTimeRemind")},model:{value:a.outTm,callback:function(t){e.$set(a,"outTm",t)},expression:"row.outTm"}})]}}])})],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.specdialogFormVisible=!1}}},[e._v(e._s(e.$t("common.close")))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.specdialogStatus?e.createData():e.updateSpecData()}}},[e._v(e._s(e.$t("common.save"))+"\n      ")])],1)],1),e._v(" "),i("shipSelect",{ref:"shipSelect"}),e._v(" "),i("portSelect",{ref:"portSelect"}),e._v(" "),i("ShipComPanySelect",{ref:"shipComPanySelect"}),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{height:"80%"},attrs:{title:"$t('voyage.Energyefficiencystatus')",visible:e.eestatusVisible,"close-on-click-modal":!1,"custom-class":"customwh","append-to-body":!0},on:{"update:visible":function(t){e.eestatusVisible=t}}})],1)},o=[],n=i("97e4"),s=i("333d"),r=i("f2ea"),l=i("3e84"),p=i("9606"),d=i("1593"),c=i("c061"),m=i("1905"),u=i("c297"),h=i("066f"),f=i("bff4"),y=i("2e0b"),v=i("cd38"),g=i("e244"),b=i("0b96"),S=[{key:"-8",display_name:"-8"},{key:"0",display_name:"0"},{key:"8",display_name:"8"}],I=[{key:"0",display_name:"港界内"},{key:"1",display_name:"港界外"}],$=[{key:"1",display_name:"装货/登离乘客"},{key:"2",display_name:"卸货/登离乘客"},{key:"3",display_name:"等待泊位"}],_={name:"EnergyEfficiency",components:{ElRow:y["a"],Pagination:s["a"],arrCargoInfo:r["default"],deptCargoInfo:l["default"],oilTons:p["default"],uploadFiles:c["default"],shipSelect:m["a"],portSelect:u["a"],ShipComPanySelect:h["a"],Fuelquantity:v["default"],Bargeoilvolume:g["default"],bargeInfo:b["default"]},directives:{adaptive:d["a"]},filters:{statusFilter:function(e){var t={0:"lock",1:"unlock",null:"--"};return t[e]}},data:function(){var e=this,t=function(t,i,a){""!==i&&""===e.portTemp.firstVolageCode?a(new Error("Please input the arrival voyage number.")):a()};return{value:[],multipleSelection:[],specOilForm:{},shipComPany:"",speclist:[],activeSpectName:"first",oilFormData:[],specOilFormData:[],specTempOilFormData:[],lockStatus:0,readOnly:!1,specReadOnly:!1,Anchoringontheway:!0,portlist:[],dataTreeGrid:[],total:0,listLoading:!0,portListLoading:!0,listQuery:{currentPage:1,pageSize:20,shipComPanyName:"",shipNameOrImoOrRegisterNo:"",volageCode:"",startTime:null,endTime:null},ZoneOptions:S,inPortOptions:I,objectiveOptions:$,voyageTemp:{id:void 0,shipName:"",voyageCode:""},portTemp:{id:"",shipId:"",shipName:"",firstVolageCode:"",secondVolageCode:"",portid:"",porten:"",portcn:"",arrTm:"",arrZone:"",deptTm:"",deptZone:"",isEu:"",inPort:"0",distance:"",anchorPurpose:"",recordType:"0",shorePower:"",portOilInfos:[],volagePortLoadingInfos:[]},portEditRowId:"",portRowModel:[],driftTemp:{id:"",porten:"anchor",portcn:"抛锚",shipId:"",shipName:"",firstVolageCode:"",arrTm:"",arrZone:"",deptTm:"",recordType:1,portOilInfos:[],volagePortLoadingInfos:[]},specTemp:{id:"",shipId:"",shipName:"",voyageCode:"",distance:0,recordType:0,beginZone:"",beginTm:null,endTm:null,volageSpecCons:[]},portdialogFormVisible:!1,driftdialogFormVisible:!1,voyagedialogFormVisible:!1,voyagedialogFormVisible2:!1,specdialogFormVisible:!1,batchImportFormVisible:!1,voyagedialogStatus:"",portdialogStatus:"",driftdialogStatus:"",specdialogStatus:"",batchImportStatus:"",voyageRules:{voyageCode:[{required:!0,message:"必填项",trigger:"blur"}],shipName:[{required:!0,message:"必填项",trigger:"blur"}]},portRules:{porten:[{required:!0,message:"必填项",trigger:"change"}],portcn:[{required:!0,message:"必填项",trigger:"change"}],arrTm:[{required:!0,message:"必填项",trigger:"change"}],arrZone:[{required:!0,message:"必填项",trigger:"change"}],deptTm:[{required:!0,message:"必填项",trigger:"change"}],deptZone:[{required:!0,message:"必填项",trigger:"change"}],inPort:[{required:!0,message:"必填项",trigger:"change"}],distance:[{required:!0,message:"必填项",trigger:"blur"}],shipName:[{required:!0,message:"必填项",trigger:"change"}],secondVolageCode:[{validator:t,trigger:"blur"}]},rules:{},eeDataVisiable:!0,eestatusVisible:!1}},created:function(){this.getFuelList()},methods:{handTime:function(){this.listQuery.startTime=this.value[0],this.listQuery.endTime=this.value[1]},voyagedialogFormVisiblea:function(){this.voyagedialogFormVisible=!1,this.voyagedialogFormVisible2=!0},handleGeneratorVolage:function(){var e=this;0!==this.multipleSelection.length?Object(n["g"])({generatorVolageDtos:this.multipleSelection}).then((function(t){t.data.result?e.$notify({title:"Success",message:t.data.data,type:"success",duration:2e3}):e.$notify({title:"Error",message:t.data.data,type:"error",duration:2e3})})):this.$notify({message:"请选择航次",type:"info",duration:2e3})},handleSelectionChange:function(e){this.multipleSelection=e},resetListQuery:function(){this.value=[],this.listQuery={currentPage:1,pageSize:20,shipComPanyName:"",shipNameOrImoOrRegisterNo:"",volageCode:"",startTime:null,endTime:null}},resetOilFormData:function(){var e=!0,t=!1,i=void 0;try{for(var a,o=this.oilFormData[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var n=a.value;n.id="",n.arrTons=0,n.deptTons=0,n.addTons=0,n.addBillNo="",n.addTm=null,n.outTons=0,n.outTm=null,n.correctTons=0}}catch(s){t=!0,i=s}finally{try{e||null==o.return||o.return()}finally{if(t)throw i}}},resetSpecFormData:function(){var e=!0,t=!1,i=void 0;try{for(var a,o=this.specTempOilFormData[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var n=a.value;n.id="",n.outTons=0,n.outTm=null,n.consTons=0}}catch(s){t=!0,i=s}finally{try{e||null==o.return||o.return()}finally{if(t)throw i}}},getFuelList:function(){var e=this;Object(f["k"])("/fuel/findFuelList",{pageSize:50,pageNum:1}).then((function(t){var i=[],a=[],o=!0,n=!1,s=void 0;try{for(var r,l=t.data.data.items[Symbol.iterator]();!(o=(r=l.next()).done);o=!0){var p=r.value,d={id:"",oilId:"",oilName:"",arrTons:0,deptTons:0,addTons:0,addBillNo:"",addTm:null,outTons:0,outTm:null,correctTons:0},c={id:"",oilId:"",oilName:"",consTons:0,outTons:0,outTm:null};d.oilId=p.fuelCode,d.oilName=p.fuelName,c.oilId=p.fuelCode,c.oilName=p.fuelName,i.push(d),a.push(c)}}catch(m){n=!0,s=m}finally{try{o||null==l.return||l.return()}finally{if(n)throw s}}e.oilFormData=i,e.specTempOilFormData=a}))},lockOrUnLock:function(e){var t=this;Object(n["i"])(e).then((function(e){e.data.result?t.$notify({title:"Success",message:"Successfully",type:"success",duration:2e3}):t.$notify({title:"Error",message:"Failed",type:"error",duration:2e3})}))},handleCurrentChange:function(e){this.portlist=e.voyagePortVos,this.speclist=e.voyageSpecVos},selectShip:function(){this.$refs.shipSelect.handleCreateRelation()},selectPort:function(){this.$refs.portSelect.handleCreateRelation()},selectShipComPany:function(){this.$refs.shipComPanySelect.handleCreateRelation()},anchoring:function(e){1===e&&(this.driftTemp.portcn="抛锚",this.driftTemp.porten="anchor",this.Anchoringontheway=!0),2===e&&(this.driftTemp.portcn="漂航",this.driftTemp.porten="drifting",this.Anchoringontheway=!1)},getList:function(){var e=this;this.listLoading=!0,null!==this.listQuery.startTime&&null!==this.listQuery.endTime&&(this.listQuery.startTime=this.listQuery.startTime.toString(),this.listQuery.endTime=this.listQuery.endTime.toString()),Object(n["m"])(this.listQuery).then((function(t){e.dataTreeGrid=t.data.data.items,0!==t.data.data.items.length&&(e.portlist=t.data.data.items[0].voyagePortVos,e.speclist=t.data.data.items[0].voyageSpecVos),e.total=t.data.data.total,setTimeout((function(){e.listLoading=!1}),20)}))},getPortList:function(){var e=this;this.portListLoading=!0,Object(n["j"])().then((function(t){e.portlist=t.data.items,e.total=t.data.total,setTimeout((function(){e.portListLoading=!1}),1500)}))},handleFilter:function(){this.listQuery.page=1,this.getList()},handleResetFilter:function(){this.resetListQuery(),this.shipComPany="",this.getList()},handleModifyStatus:function(e){alert(e.recStatus),"0"===e.recStatus&&this.lockOrUnLock({volageId:e.id,recStatus:"1"}),"1"===e.recStatus&&this.lockOrUnLock({volageId:e.id,recStatus:"0"}),this.getList()},resetVoyageTemp:function(){this.voyageTemp={id:void 0,shipName:"",voyageCode:""}},handleCreateVoyage:function(){var e=this;this.resetVoyageTemp(),this.voyagedialogStatus="create",this.voyagedialogFormVisible=!0,this.voyagedialogFormVisible2=!1,this.$nextTick((function(){e.$refs["voyagedataForm"].clearValidate()}))},resetPortTemp:function(){this.portTemp={id:void 0,shipId:"",shipName:"",firstVolageCode:"",secondVolageCode:"",portid:"",porten:"",portcn:"",arrTm:"",arrZone:"",deptTm:"",deptZone:"",isEu:"",inPort:"0",distance:"",anchorPurpose:"",recordType:"0",shorePower:"",portOilInfos:[],volagePortLoadingInfos:[]}},handleCreatePort:function(){var e=this;this.resetPortTemp(),this.resetOilFormData(),this.portdialogStatus="create",this.portdialogFormVisible=!0,this.readOnly=!1,setTimeout((function(){e.resetOilFormData(),e.$refs.oilTons.oilFormData=e.oilFormData}),100),this.$nextTick((function(){e.$refs.oilTons.readOnly=!1,e.$refs.arrCargoInfo.readonly=!1,e.$refs.deptCargoInfo.readonly=!1,e.$refs["portdataForm"].clearValidate(),e.$refs.arrCargoInfo.resetArrTemp(),e.$refs.deptCargoInfo.resetDeptTemp()}))},resetDriftTemp:function(){this.driftTemp={id:"",shipId:"",shipName:"",porten:"anchor",portcn:"抛锚",firstVolageCode:"",arrTm:"",arrZone:"",deptTm:"",recordType:1,portOilInfos:[],volagePortLoadingInfos:[]}},handleCreateDrift:function(){var e=this;this.resetDriftTemp(),this.driftdialogStatus="create",this.driftdialogFormVisible=!0,this.Anchoringontheway=!0,setTimeout((function(){e.readOnly=!1,e.$refs.driftOilTons.readOnly=!1,e.resetOilFormData(),e.$refs.driftOilTons.oilFormData=e.oilFormData}),100),this.$nextTick((function(){e.$refs["driftdataForm"].clearValidate()}))},resetSpecTemp:function(){this.specTemp={id:"",shipId:"",shipName:"",voyageCode:"",distance:0,recordType:0,beginZone:"",beginTm:null,endTm:null,volageSpecCons:[]}},handleCreateBatch:function(){this.resetSpecTemp(),this.batchImportFormVisible=!0,this.batchImportStatus="create"},handleCreateSpec:function(){var e=this;this.resetSpecTemp(),this.resetSpecFormData(),this.specOilFormData=this.specTempOilFormData,this.specdialogStatus="create",this.specdialogFormVisible=!0,this.specReadOnly=!1,this.$nextTick((function(){e.$refs["specdataForm"].clearValidate()}))},createVoyageData:function(){var e=this;this.$refs["voyagedataForm"].validate((function(t){t&&(e.voyageTemp.id=parseInt(100*Math.random())+1024,e.voyageTemp.author="vue-element-admin",Object(n["c"])(e.voyageTemp).then((function(){e.dataTreeGrid.unshift(e.voyageTemp),e.voyagedialogFormVisible=!1,e.voyagedialogFormVisible2=!0,e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3})})))}))},createPortData:function(){var e=this,t=[],i=!0,a=!1,o=void 0;try{for(var s,r=this.$refs.oilTons.oilFormData[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value;0!==l.arrTons&&0!==l.deptTons&&t.push(l)}}catch(d){a=!0,o=d}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}this.portTemp.portOilInfos=t;var p=[];p.push(this.$refs.arrCargoInfo.arrTemp),p.push(this.$refs.deptCargoInfo.deptTemp),this.portTemp.volagePortLoadingInfos=p,this.$refs["portdataForm"].validate((function(t){t&&Object(n["b"])(e.portTemp).then((function(t){t.data.result?e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}):e.$notify({title:"Error",message:"Created Failed",type:"error",duration:2e3}),e.getList(),e.portdialogFormVisible=!1}))}))},handleUpdateVoyage:function(e){var t=this;this.voyageTemp=Object.assign({},e),this.voyageTemp.timestamp=new Date(this.voyageTemp.timestamp),this.voyagedialogStatus="update",this.voyagedialogFormVisible=!0,this.$nextTick((function(){t.$refs["voyagedataForm"].clearValidate()}))},updateVoyageData:function(){var e=this;this.$refs["voyagedataForm"].validate((function(t){if(t){var i=Object.assign({},e.voyageTemp);i.timestamp=+new Date(i.timestamp),Object(n["l"])(i).then((function(){var t=!0,i=!1,a=void 0;try{for(var o,n=e.dataTreeGrid[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var s=o.value;if(s.id===e.temp.id){var r=e.dataTreeGrid.indexOf(s);e.dataTreeGrid.splice(r,1,e.temp);break}}}catch(l){i=!0,a=l}finally{try{t||null==n.return||n.return()}finally{if(i)throw a}}e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3})}))}}))},handleDeleteVoyage:function(e){var t=this;!0===confirm("确认是否删除航次")&&Object(n["f"])({volageIdList:[e.id]}).then((function(e){e.data.result?t.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}):t.$notify({title:"Error",message:"Delete Failed",type:"error",duration:2e3})}))},handleUpdatePort:function(e){var t=this;this.resetDriftTemp(),this.resetOilFormData(),1===e.recodeType?(this.driftTemp.id=e.id,this.driftTemp.recordType=e.recodeType,this.driftTemp.porten=e.portName,this.driftTemp.portcn=e.portNameCn,this.driftTemp.arrTm=e.arrivalTime,this.driftTemp.deptTm=e.formThePortTime,this.driftTemp.arrZone=e.arrZone,this.driftTemp.shipId=e.shipId,this.driftTemp.shipName=e.shipName,this.driftTemp.firstVolageCode=e.firstVolageCode,this.driftdialogFormVisible=!0,this.Anchoringontheway=!0,setTimeout((function(){t.readOnly=!1,t.$refs.driftOilTons.readOnly=!1;var i=e.voyagePortOilVos,a=[],o=!0,n=!1,s=void 0;try{for(var r,l=t.oilFormData[Symbol.iterator]();!(o=(r=l.next()).done);o=!0){var p=r.value;a.push(p)}}catch(m){n=!0,s=m}finally{try{o||null==l.return||l.return()}finally{if(n)throw s}}for(var d=0;d<i.length;d++)if(0!==i[d].arrTons&&0!==i[d].deptTons&&null!==i[d].arrTons&&null!==i[d].deptTons)for(var c=0;c<a.length;c++)a[c].oilId===i[d].oilId&&a.splice(c,1,i[d]);t.$refs.driftOilTons.oilFormData=a}),100),this.$nextTick((function(){t.$refs["driftdataForm"].clearValidate()}))):2===e.recodeType?(this.driftTemp.id=e.id,this.driftTemp.recordType=e.recodeType,this.driftTemp.porten=e.portName,this.driftTemp.portcn=e.portNameCn,this.driftTemp.arrTm=e.arrivalTime,this.driftTemp.deptTm=e.formThePortTime,this.driftTemp.arrZone=e.arrZone,this.driftTemp.shipId=e.shipId,this.driftTemp.shipName=e.shipName,this.driftTemp.firstVolageCode=e.firstVolageCode,this.driftdialogFormVisible=!0,this.Anchoringontheway=!1,this.$nextTick((function(){t.readOnly=!1,t.$refs["driftdataForm"].clearValidate()}))):(this.portTemp.shipName=e.shipName,this.portTemp.shipId=e.shipId,this.portTemp.firstVolageCode=e.firstVolageCode,this.portTemp.secondVolageCode=e.secondVolageCode,this.portTemp.arrZone=e.arrZone,this.portTemp.deptZone=e.deptZone,this.portTemp.shorePower=e.shorePower,this.portTemp.distance=e.distance,this.portTemp.isEu=1===e.isEu,this.portTemp.portid=e.portId,this.portTemp.id=e.id,this.portTemp.porten=e.portName,this.portTemp.portcn=e.portNameCn,this.portTemp.arrTm=e.arrivalTime,this.portTemp.deptTm=e.formThePortTime,this.portTemp.anchorPurpose=null===e.portWork?"":e.portWork,this.portdialogStatus="update",this.portdialogFormVisible=!0,this.readOnly=!1,setTimeout((function(){t.$refs.oilTons.readOnly=!1,t.$refs.arrCargoInfo.readonly=!1,t.$refs.deptCargoInfo.readonly=!1;var i=e.voyagePortOilVos,a=[],o=!0,n=!1,s=void 0;try{for(var r,l=t.oilFormData[Symbol.iterator]();!(o=(r=l.next()).done);o=!0){var p=r.value;a.push(p)}}catch(g){n=!0,s=g}finally{try{o||null==l.return||l.return()}finally{if(n)throw s}}for(var d=0;d<i.length;d++)if(0!==i[d].arrTons&&0!==i[d].deptTons&&null!==i[d].arrTons&&null!==i[d].deptTons)for(var c=0;c<a.length;c++)a[c].oilId===i[d].oilId&&a.splice(c,1,i[d]);t.$refs.oilTons.oilFormData=a,t.$refs.deptCargoInfo.resetDeptTemp(),t.$refs.arrCargoInfo.resetArrTemp();var m=!0,u=!1,h=void 0;try{for(var f,y=e.volagePortLordingVos[Symbol.iterator]();!(m=(f=y.next()).done);m=!0){var v=f.value;"0"===v.loadingType?t.$refs.deptCargoInfo.deptTemp=v:"1"===v.loadingType&&(t.$refs.arrCargoInfo.arrTemp=v)}}catch(g){u=!0,h=g}finally{try{m||null==y.return||y.return()}finally{if(u)throw h}}}),100),this.$nextTick((function(){t.$refs["portdataForm"].clearValidate()})))},handleDetailPort:function(e){var t=this;this.resetOilFormData(),this.resetDriftTemp(),1===e.recodeType?(this.driftTemp.id=e.id,this.driftTemp.recordType=e.recodeType,this.driftTemp.porten=e.portName,this.driftTemp.portcn=e.portNameCn,this.driftTemp.arrTm=e.arrivalTime,this.driftTemp.deptTm=e.formThePortTime,this.driftTemp.arrZone=e.arrZone,this.driftTemp.shipId=e.shipId,this.driftTemp.shipName=e.shipName,this.driftTemp.firstVolageCode=e.firstVolageCode,this.driftdialogFormVisible=!0,this.Anchoringontheway=!0,setTimeout((function(){t.readOnly=!0,t.$refs.driftOilTons.readOnly=!0;var i=e.voyagePortOilVos,a=[],o=!0,n=!1,s=void 0;try{for(var r,l=t.oilFormData[Symbol.iterator]();!(o=(r=l.next()).done);o=!0){var p=r.value;a.push(p)}}catch(m){n=!0,s=m}finally{try{o||null==l.return||l.return()}finally{if(n)throw s}}for(var d=0;d<i.length;d++)if(0!==i[d].arrTons&&0!==i[d].deptTons&&null!==i[d].arrTons&&null!==i[d].deptTons)for(var c=0;c<a.length;c++)a[c].oilId===i[d].oilId&&a.splice(c,1,i[d]);t.$refs.driftOilTons.oilFormData=a}),100),this.$nextTick((function(){t.$refs["driftdataForm"].clearValidate()}))):2===e.recodeType?(this.driftTemp.id=e.id,this.driftTemp.recordType=e.recodeType,this.driftTemp.porten=e.portName,this.driftTemp.portcn=e.portNameCn,this.driftTemp.arrTm=e.arrivalTime,this.driftTemp.deptTm=e.formThePortTime,this.driftTemp.arrZone=e.arrZone,this.driftTemp.shipId=e.shipId,this.driftTemp.shipName=e.shipName,this.driftTemp.firstVolageCode=e.firstVolageCode,this.driftdialogFormVisible=!0,this.Anchoringontheway=!1,this.$nextTick((function(){t.readOnly=!0,t.$refs["driftdataForm"].clearValidate()}))):(this.portTemp.shipName=e.shipName,this.portTemp.shipId=e.shipId,this.portTemp.firstVolageCode=e.firstVolageCode,this.portTemp.secondVolageCode=e.secondVolageCode,this.portTemp.arrZone=e.arrZone,this.portTemp.deptZone=e.deptZone,this.portTemp.shorePower=e.shorePower,this.portTemp.distance=e.distance,this.portTemp.isEu=1===e.isEu,this.portTemp.portid=e.portId,this.portTemp.id=e.id,this.portTemp.porten=e.portName,this.portTemp.portcn=e.portNameCn,this.portTemp.arrTm=e.arrivalTime,this.portTemp.deptTm=e.formThePortTime,this.portTemp.anchorPurpose=null===e.portWork?"":e.portWork,this.portdialogStatus="update",this.portdialogFormVisible=!0,setTimeout((function(){t.readOnly=!0,t.$refs.oilTons.readOnly=!0,t.$refs.arrCargoInfo.readonly=!0,t.$refs.deptCargoInfo.readonly=!0;var i=e.voyagePortOilVos,a=[],o=!0,n=!1,s=void 0;try{for(var r,l=t.oilFormData[Symbol.iterator]();!(o=(r=l.next()).done);o=!0){var p=r.value;a.push(p)}}catch(g){n=!0,s=g}finally{try{o||null==l.return||l.return()}finally{if(n)throw s}}for(var d=0;d<i.length;d++)if(0!==i[d].arrTons&&0!==i[d].deptTons&&null!==i[d].arrTons&&null!==i[d].deptTons)for(var c=0;c<a.length;c++)a[c].oilId===i[d].oilId&&a.splice(c,1,i[d]);if(t.$refs.oilTons.oilFormData=a,t.$refs.deptCargoInfo.resetDeptTemp(),t.$refs.arrCargoInfo.resetArrTemp(),void 0!=e.volagePortLordingVos){var m=!0,u=!1,h=void 0;try{for(var f,y=e.volagePortLordingVos[Symbol.iterator]();!(m=(f=y.next()).done);m=!0){var v=f.value;"0"===v.loadingType?t.$refs.deptCargoInfo.deptTemp=v:"1"===v.loadingType&&(t.$refs.arrCargoInfo.arrTemp=v)}}catch(g){u=!0,h=g}finally{try{m||null==y.return||y.return()}finally{if(u)throw h}}}}),100),this.$nextTick((function(){t.$refs["portdataForm"].clearValidate()})))},updatePortData:function(){var e=this,t=[],i=!0,a=!1,o=void 0;try{for(var s,r=this.$refs.oilTons.oilFormData[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value;0!==l.arrTons&&0!==l.deptTons&&t.push(l)}}catch(d){a=!0,o=d}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}this.portTemp.portOilInfos=t;var p=[];p.push(this.$refs.arrCargoInfo.arrTemp),p.push(this.$refs.deptCargoInfo.deptTemp),this.portTemp.volagePortLoadingInfos=p,this.$refs["portdataForm"].validate((function(t){t&&Object(n["k"])(e.portTemp).then((function(t){t.data.result?e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}):e.$notify({title:"Error",message:"Update Failed",type:"error",duration:2e3}),e.getList(),e.portdialogFormVisible=!1}))}))},handleDeletePort:function(e){var t=this;!0===confirm("确认是否删除")&&(Object(n["d"])({volagePortIdList:[e.id]}).then((function(e){e.data.result?t.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}):t.$notify({title:"Error",message:"Delete Failed",type:"error",duration:2e3})})),this.getList())},handleDeleteSpec:function(e){var t=this;!0===confirm("确认是否删除")&&(Object(n["e"])({volageIceAndRescueIdList:[e.id]}).then((function(e){e.data.result?t.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}):t.$notify({title:"Error",message:"Delete Failed",type:"error",duration:2e3})})),this.getList())},handleUpdateSpec:function(e){var t=this;this.resetSpecFormData(),this.specdialogStatus="update",this.specTemp.id=e.id,this.specTemp.distance=e.distance,this.specTemp.beginTm=e.iceStartTime,this.specTemp.endTm=e.iceEndTime,this.specTemp.shipId=e.shipId,this.specTemp.shipName=e.shipName,this.specTemp.distance=e.distance,this.specTemp.voyageCode=e.voyageCode,this.specTemp.beginZone=e.beginZone;var i=e.rawVoyageSpecConsVos;setTimeout((function(){var e=[],a=!0,o=!1,n=void 0;try{for(var s,r=t.specTempOilFormData[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var l=s.value;e.push(l)}}catch(c){o=!0,n=c}finally{try{a||null==r.return||r.return()}finally{if(o)throw n}}for(var p=0;p<i.length;p++)if(0!==i[p].consTons&&""!==i[p].consTons||0!==i[p].outTons&&""!==i[p].outTons)for(var d=0;d<e.length;d++)e[d].oilId===i[p].oilId&&e.splice(d,1,i[p]);t.specOilFormData=e}),100),this.specdialogFormVisible=!0,this.specReadOnly=!1},handleDetailSpec:function(e){var t=this;this.specdialogStatus="update",this.specTemp.id=e.id,this.specTemp.distance=e.distance,this.specTemp.beginTm=e.iceStartTime,this.specTemp.endTm=e.iceEndTime,this.specTemp.shipId=e.shipId,this.specTemp.shipName=e.shipName,this.specTemp.distance=e.distance,this.specTemp.voyageCode=e.voyageCode,this.specTemp.beginZone=e.beginZone;var i=e.rawVoyageSpecConsVos;setTimeout((function(){var e=[],a=!0,o=!1,n=void 0;try{for(var s,r=t.specTempOilFormData[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var l=s.value;e.push(l)}}catch(c){o=!0,n=c}finally{try{a||null==r.return||r.return()}finally{if(o)throw n}}for(var p=0;p<i.length;p++)if(0!==i[p].consTons&&""!==i[p].consTons||0!==i[p].outTons&&""!==i[p].outTons)for(var d=0;d<e.length;d++)e[d].oilId===i[p].oilId&&e.splice(d,1,i[p]);t.specOilFormData=e}),100),this.specdialogFormVisible=!0,this.specReadOnly=!0},setRawVoyageSpecConsDto:function(e){var t=[];if(0!==e.dieselOil&&""!==e.dieselOil){var i={id:e.dieselOilId,oilId:"3",oilName:"柴油/汽油",consTons:e.dieselOil};t.push(i)}if(0!==e.carbinol&&""!==e.carbinol){i={id:e.carbinolId,oilId:"7",oilName:"甲醇",consTons:e.carbinol};t.push(i)}if(0!==e.ethanol&&""!==e.ethanol){i={id:e.ethanolId,oilId:"8",oilName:"乙醇",consTons:e.ethanol};t.push(i)}if(0!==e.propane&&""!==e.propane){i={id:e.propaneId,oilId:"4",oilName:"液化石油气LPG（丙烷）",consTons:e.propane};t.push(i)}if(0!==e.butane&&""!==e.butane){i={id:e.butaneId,oilId:"5",oilName:"丁烷",consTons:e.butane};t.push(i)}if(0!==e.tianran&&""!==e.tianran){i={id:e.tianranId,oilId:"6",oilName:"液化天然气LNG",consTons:e.tianran};t.push(i)}if(0!==e.highSulfurHeavy&&""!==e.highSulfurHeavy){i={id:e.highSulfurHeavyId,oilId:"1",oilName:"重燃油HFO(高硫)",consTons:e.highSulfurHeavy};t.push(i)}if(0!==e.lowSulfurHeavy&&""!==e.lowSulfurHeavy){i={id:e.lowSulfurHeavyId,oilId:"11",oilName:"重燃油HFO(低硫)",consTons:e.lowSulfurHeavy};t.push(i)}if(0!==e.ulsdSulfurHeavy&&""!==e.ulsdSulfurHeavy){i={id:e.ulsdSulfurHeavyId,oilId:"12",oilName:"重燃油HFO(超低硫)",consTons:e.ulsdSulfurHeavy};t.push(i)}if(0!==e.highSulfurLight&&""!==e.highSulfurLight){i={id:e.highSulfurLightId,oilId:"2",oilName:"轻燃油LFO(高硫)",consTons:e.highSulfurLight};t.push(i)}if(0!==e.lowSulfurLight&&""!==e.lowSulfurLight){i={id:e.lowSulfurLightId,oilId:"21",oilName:"轻燃油LFO(低硫)",consTons:e.lowSulfurLight};t.push(i)}if(0!==e.ulsdSulfurLight&&""!==e.ulsdSulfurLight){i={id:e.ulsdSulfurLightId,oilId:"22",oilName:"轻燃油LFO(超低硫)",consTons:e.ulsdSulfurLight};t.push(i)}return t},createData:function(){var e=this,t=[],i=!0,a=!1,o=void 0;try{for(var s,r=this.specOilFormData[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value;(0!==l.consTons&&""!==l.consTons||0!==l.outTons&&""!==l.outTons)&&t.push(l)}}catch(p){a=!0,o=p}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}this.specTemp.volageSpecCons=t,Object(n["a"])(this.specTemp).then((function(t){t.data.result?e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}):e.$notify({title:"Error",message:"Created Failed",type:"error",duration:2e3})})),this.specdialogFormVisible=!1},updateSpecData:function(){var e=this,t=[],i=!0,a=!1,o=void 0;try{for(var s,r=this.specOilFormData[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value;(0!==l.consTons&&""!==l.consTons||0!==l.outTons&&""!==l.outTons)&&t.push(l)}}catch(p){a=!0,o=p}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}this.specTemp.volageSpecCons=t,Object(n["a"])(this.specTemp).then((function(t){t.data.result?e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}):e.$notify({title:"Error",message:"Update Failed",type:"error",duration:2e3})})),this.specdialogFormVisible=!1},createDriftData:function(){var e=this;if(1===this.driftTemp.recordType){var t=[],i=!0,a=!1,o=void 0;try{for(var s,r=this.$refs.driftOilTons.oilFormData[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value;0!==l.arrTons&&0!==l.deptTons&&t.push(l)}}catch(p){a=!0,o=p}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}this.driftTemp.portOilInfos=t}this.$refs["driftdataForm"].validate((function(t){t&&(Object(n["b"])(e.driftTemp).then((function(t){t.data.result?e.$notify({title:"Success",message:" Successfully",type:"success",duration:2e3}):e.$notify({title:"Error",message:"Failed",type:"error",duration:2e3})})),e.getList(),e.driftdialogFormVisible=!1)}))}}},T=_,w=(i("5361"),i("2877")),x=Object(w["a"])(T,a,o,!1,null,"7fd7e675",null);t["default"]=x.exports},a282:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("div",{staticStyle:{display:"inline-block"}},[i("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v(e._s(e.$t("shipCompany.Managementorganization"))+" ")]),e._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"280px"},attrs:{placeholder:e.$t("common.selectRemind"),clearable:""},model:{value:e.listQuery.clientId,callback:function(t){e.$set(e.listQuery,"clientId",t)},expression:"listQuery.clientId"}},e._l(e.dwOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1),e._v(" "),i("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v(e._s(e.$t("ship.searchOperator")))]),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("common.inputRemind"),size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.shipComPany,callback:function(t){e.shipComPany=t},expression:"shipComPany"}}),e._v(" "),i("el-button",{attrs:{plain:""},on:{click:e.selectComPany}},[e._v(e._s(e.$t("common.select")))]),e._v(" "),i("label",{staticClass:"radio-label",staticStyle:{"padding-left":"30px"}},[e._v(e._s(e.$t("ship.nameOrimo")))]),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("ship.shipIdxKey"),size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.shipKeyWord,callback:function(t){e.$set(e.listQuery,"shipKeyWord",t)},expression:"listQuery.shipKeyWord"}})],1),e._v(" "),i("div",{staticStyle:{display:"inline-block"}},[i("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v(e._s(e.$t("ship.shipType")))]),e._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{placeholder:e.$t("common.selectRemind"),clearable:"",size:"mini"},model:{value:e.listQuery.sptype,callback:function(t){e.$set(e.listQuery,"sptype",t)},expression:"listQuery.sptype"}},e._l(e.shipTypeOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1),e._v(" "),i("label",{staticClass:"radio-label",staticStyle:{"padding-left":"30px"}},[e._v(e._s(e.$t("ship.searchGross")))]),e._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("common.selectRemind"),clearable:"",size:"mini"},model:{value:e.dw,callback:function(t){e.dw=t},expression:"dw"}},e._l(e.grossOptions,(function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.display_name}})})),1),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"20px"},attrs:{icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("\n          "+e._s(e.$t("common.query"))+"\n      ")]),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"info",icon:"el-icon-setting"},on:{click:e.reset}},[e._v("\n          "+e._s(e.$t("common.reset"))+"\n      ")])],1)]),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"},{name:"adaptive",rawName:"v-adaptive",value:{bottomOffset:38},expression:"{bottomOffset: 38}"}],key:e.tableKey,staticStyle:{width:"100%",overflow:"auto"},attrs:{data:e.list,border:"",fit:"",height:"100px","highlight-current-row":"","row-style":{height:"35px"},"cell-style":{padding:"0"}},on:{"sort-change":e.sortChange}},[i("el-table-column",{attrs:{label:e.$t("common.no"),type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.shipName"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",{staticClass:"link-type",on:{click:function(t){return e.handleUpdate(a,"detail")}}},[e._v(e._s(a.spnameCn))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.Shipinspection"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.registerno))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.Shipmanagementcompany"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.CMSA_NAME))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("shipCompany.Managementorganization"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.CMSA_NAME))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("ship.designSpeed"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.speed))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.Constructiondate"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(e._f("datesformat")(a.finish,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.Constructiondate"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.gross))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("voyage.DWTofship"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.dw))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("common.operate"),align:"left",width:"400","class-name":"small-padding fixed-width2"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showEnergyEfficiency(a)}}},[e._v("\n          "+e._s(e.$t("voyage.Energyefficiencydata"))+"\n        ")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showEnergyEfficiencyStatus(a)}}},[e._v("\n           "+e._s(e.$t("voyage.Energyefficiencystatus"))+"\n        ")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleDeleteUser(a)}}},[e._v("\n          "+e._s(e.$t("voyage.Energyefficiencycomparison"))+"  \n        ")]),e._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.handlApp(a)}}},[e._v("\n          "+e._s(e.$t("voyage.Appaccountnumber"))+"   \n        ")])]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.currentPage,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"currentPage",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),i("ShipComPanySelect",{ref:"ShipComPanySelect"}),e._v(" "),i("el-dialog",{attrs:{"append-to-body":!0,title:e.$t("ship.shipEditText"),visible:e.dialogFormVisible,"close-on-click-modal":!1,width:"80%","custom-class":"customwh"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-tabs",{staticStyle:{"overflow-y":"auto"},attrs:{value:"first",type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{key:"first",attrs:{label:e.$t("ship.shipInfo"),name:"first"}},[i("shipInfo",{ref:"shipInfo",attrs:{"edit-status":e.dialogStatus,"edit-row-id":e.editRowId,"row-model":e.rowModel}})],1),e._v(" "),i("el-tab-pane",{key:"second",attrs:{label:e.$t("ship.shipMde"),name:"second"}},[i("shipMde",{ref:"shipMde",attrs:{"edit-status":e.dialogStatus,"edit-row-id":e.editRowId,"row-model":e.rowModel}})],1),e._v(" "),i("el-tab-pane",{key:"third",attrs:{label:e.$t("ship.shipPM"),name:"third"}},[i("shipPM",{ref:"shipPM",attrs:{"edit-status":e.dialogStatus,"edit-row-id":e.editRowId,"row-model":e.rowModel}})],1),e._v(" "),i("el-tab-pane",{key:"eighth",attrs:{label:e.$t("ship.shipGenerator"),name:"eighth"}},[i("shipGenerator",{ref:"shipGenerator",attrs:{"edit-status":e.dialogStatus,"edit-row-id":e.editRowId,"row-model":e.rowModel}})],1),e._v(" "),i("el-tab-pane",{key:"eleven",attrs:{label:e.$t("ship.battery"),name:"eleven"}},[i("battery",{ref:"battery",attrs:{"edit-status":e.dialogStatus,"edit-row-id":e.editRowId,"row-model":e.rowModel}})],1),e._v(" "),i("el-tab-pane",{key:"fourth",attrs:{label:e.$t("ship.shipBoiler"),name:"fourth"}},[i("shipBoiler",{ref:"shipBoiler",attrs:{"edit-status":e.dialogStatus,"edit-row-id":e.editRowId,"row-model":e.rowModel}})],1),e._v(" "),i("el-tab-pane",{key:"fifth",attrs:{label:e.$t("ship.shipIncinerator"),name:"fifth"}},[i("shipIncinerator",{ref:"shipIncinerator",attrs:{"edit-status":e.dialogStatus,"edit-row-id":e.editRowId,"row-model":e.rowModel}})],1),e._v(" "),i("el-tab-pane",{key:"sixth",attrs:{label:e.$t("ship.shipInert"),name:"sixth"}},[i("shipInert",{ref:"shipInert",attrs:{"edit-status":e.dialogStatus,"edit-row-id":e.editRowId,"row-model":e.rowModel}})],1),e._v(" "),i("el-tab-pane",{key:"seventh",attrs:{label:e.$t("ship.shipGasTurbines"),name:"seventh"}},[i("shipGasTurbines",{ref:"shipGasTurbines",attrs:{"edit-status":e.dialogStatus,"edit-row-id":e.editRowId,"row-model":e.rowModel}})],1),e._v(" "),i("el-tab-pane",{key:"ninth",attrs:{label:e.$t("ship.shipMainProp"),name:"ninth"}},[i("shipMainProp",{ref:"shipMainProp",attrs:{"edit-status":e.dialogStatus,"edit-row-id":e.editRowId,"row-model":e.rowModel}})],1),e._v(" "),i("el-tab-pane",{key:"tenth",attrs:{label:e.$t("ship.shipPropeller"),name:"tenth"}},[i("shipPropeller",{ref:"shipPropeller",attrs:{"edit-status":e.dialogStatus,"edit-row-id":e.editRowId,"row-model":e.rowModel}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        "+e._s(e.$t("common.close"))+"\n      ")]),e._v(" "),e.saveButtonIsDisabled?i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createData()}}},[e._v("\n        "+e._s(e.$t("common.save"))+"\n      ")]):e._e(),e._v(" "),e.saveButtonIsDisabled&&"update"===e.dialogStatus?i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.createData("updateAdd")}}},[e._v("\n        "+e._s(e.$t("common.add"))+"\n      ")]):e._e(),e._v(" "),e.saveButtonIsDisabled?i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.resetForm}},[e._v("\n        "+e._s(e.$t("common.reset"))+"\n      ")]):e._e(),e._v(" "),"first"!==e.activeName&&e.saveButtonIsDisabled?i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"mini"},on:{click:e.deleteEquipment}},[e._v("\n        "+e._s(e.$t("common.delete"))+"\n      ")]):e._e()],1)],1),e._v(" "),i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{"append-to-body":!0,visible:e.cmsaEEVisiable,"modal-append-to-body":!1,title:e.textMap[e.dialogStatus],"close-on-click-modal":!1,"custom-class":"customwh"},on:{"update:visible":function(t){e.cmsaEEVisiable=t}}},[i("cmsaEnergyEfficiency",{ref:"cmsaEnergyEfficiency"})],1),e._v(" "),i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{"append-to-body":!0,title:e.$t("voyage.Energyefficiencystatus"),width:"80%",visible:e.eeStatusVisiable,"close-on-click-modal":!1,"custom-class":"customwh"},on:{"update:visible":function(t){e.eeStatusVisiable=t}}},[i("div",{staticClass:"chart-container"},[e.chartFlag?i("chart",{ref:"chart",attrs:{height:"100%",width:"100%",chartTitle:this.chartTitle,xData:this.xData,legendData:this.legendData,seriesData:this.seriesData}}):e._e()],1)]),e._v(" "),e.dialogVisible.dalog?i("shipManagerApp",{attrs:{dialogVisible:e.dialogVisible},on:{app:e.app}}):e._e()],1)},o=[],n=i("d472"),s=i("d3e3"),r=i("bff4"),l=i("6724"),p=i("ed08"),d=i("333d"),c=i("1593"),m=i("a888"),u=i("066f"),h=i("7687"),f=i("5b36"),y=i("38cc"),v=i("80a5"),g=i("aea2"),b=i("2194"),S=i("d468"),I=i("dd19"),$=i("99e5"),_=i("8963"),T=i("6fad"),w=i("65bc"),x=i("9b41"),k=i("e336"),C=i("9e0b"),D=i("9f9e"),M=[{key:"1",display_name:"0~500"},{key:"2",display_name:"500-1000"},{key:"3",display_name:"1000-2000"},{key:"4",display_name:"2000-5000"}],N=[{key:"1",display_name:"散货船"},{key:"4",display_name:"集装箱船"},{key:"5",display_name:"滚装货船"},{key:"7",display_name:"客船"}],O=[{key:1,display_name:"长江航运管理局"},{key:2,display_name:"珠江航运管理局"}],P=O.reduce((function(e,t){return e[t.key]=t.display_name,e}),{}),R=(M.reduce((function(e,t){return e[t.key]=t.display_name,e}),{}),N.reduce((function(e,t){return e[t.key]=t.display_name,e}),{}),{name:"shipManager",components:{Pagination:d["a"],Chart:D["a"],ShipComPanySelect:u["a"],SsmisShipInfo:h["default"],SsmisShipPM:f["default"],SsmisShipMde:y["default"],shipInfo:v["default"],shipPM:g["default"],shipMde:b["default"],shipBoiler:S["default"],shipIncinerator:I["default"],shipInert:$["default"],shipGasTurbines:_["default"],shipGenerator:T["default"],battery:w["default"],shipMainProp:x["default"],shipPropeller:k["default"],cmsaEnergyEfficiency:C["default"],shipManagerApp:n["default"]},directives:{waves:l["a"],adaptive:c["a"],elDragDialog:m["a"]},filters:{dwFilter:function(e){return P[e]},userDeptFilter:function(e){return userDeptKeyValue[e]}},data:function(){return{tableKey:0,grossOptions:M,shipTypeOptions:N,list:null,total:0,total2:0,dw:"",eeStatusVisiable:!1,listLoading:!0,shipComPany:"",activeName:"first",relationedShipCompanyList:[],shipCompanylist:[],saveButtonIsDisabled:!0,listQuery:{currentPage:1,pageSize:20,dw:"",shipComPanyName:"",isCmca:0,sort:"spname"},listShipCompanyQuery:{pageNum:1,pageSize:20,nameCn:"",nameEn:"",ccsCode:""},dwOptions:O,userRoleOptions:[],dialogFormVisible:!1,shipComPanyNameReadonly:!1,statusType:!1,dialogShipCompanyFormVisible:!1,dialogStatus:"",textMap:{eeData:"能效数据",eeStatus:"能效状态",eeCompare:"能效比较"},rules:{shipComPanyName:[{required:!0,message:"必填项",trigger:"blur"}],nameEn:[{required:!0,message:"必填项",trigger:"blur"}],nameCn:[{required:!0,message:"必填项",trigger:"blur"}],userDept:[{required:!0,message:"必填项",trigger:"change"}],dw:[{required:!0,message:"必填项",trigger:"change"}]},tableChecked:[],tableChecked2:[],oiShipInfo:{shipMde:[],shipPM:[],shipGenerator:[],shipBoiler:[],shipIncinerator:[],shipInert:[],shipGasTurbines:[]},editRowId:"",rowModel:{},cmsaEEVisiable:!1,chartTitle:"",xData:[],legendData:[],seriesData:[],chartFlag:!1,dialogVisible:{dalog:!1,id:""}}},created:function(){this.getList()},methods:{handlApp:function(e){this.dialogVisible.dalog=!0,this.dialogVisible.id=e.id,this.dialogVisible.imono=e.imono},app:function(){this.dialogVisible.dalog=!1,this.getList()},selectComPany:function(){this.$refs.ShipComPanySelect.handleCreateRelation()},getList:function(){var e=this;this.listLoading=!0;var t="?&dw="+this.dw.split("~")[0]+"&dw="+this.dw.split("~")[1],i="/shipManager/shipList";""!==this.dw&&(i+=t),void 0!==this.shipComPany&&""!==this.shipComPany||(this.listQuery.shipComPanyName=""),Object(r["k"])(i,this.listQuery).then((function(t){e.list=t.data.data.items,e.total=t.data.data.total,setTimeout((function(){e.listLoading=!1}),1500)}))},getShipCompanyList:function(){var e=this;this.listLoading=!0,userShipCompanyList(this.listShipCompanyQuery).then((function(t){e.shipCompanylist=t.data.data.items,e.total2=t.data.data.total,setTimeout((function(){e.listLoading=!1}),1500)}))},handleFilter:function(){this.listQuery.currentPage=1,this.getList()},reset:function(){this.listQuery={currentPage:1,pageSize:20,dw:"",shipComPanyName:"",isCmca:0,sort:"spname"},this.getList()},handleShipCompanyFilter:function(){this.getShipCompanyList()},handleShipCompanyReset:function(){this.listShipCompanyQuery={pageNum:1,pageSize:20,nameCn:"",nameEn:"",ccsCode:""},this.getShipCompanyList()},handleDeleteUser:function(e){var t=this,i="/sysUser/deleteUser";Object(s["M"])(i,{id:e.id}).then((function(i){var a=!0,o=!1,n=void 0;try{for(var s,r=t.list[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var l=s.value;if(l.id===e.id){var p=t.list.indexOf(l);t.list.splice(p,1);break}}}catch(d){o=!0,n=d}finally{try{a||null==r.return||r.return()}finally{if(o)throw n}}!0===i.data.result?(t.dialogFormVisible=!1,t.$notify({title:"Success",message:"Success",type:"success",duration:2e3})):t.$notify({title:"Failure",message:i.data.data,type:"error"})}))},showEnergyEfficiency:function(e){var t=this;this.dialogStatus="eeData",this.cmsaEEVisiable=!0,this.$nextTick((function(){t.$refs.cmsaEnergyEfficiency.listQuery={currentPage:1,pageSize:20,shipComPanyName:"",shipNameOrImoOrRegisterNo:e.registerno,volageCode:"",startTime:null,endTime:null},t.$refs.cmsaEnergyEfficiency.getList(),t.$refs.cmsaEnergyEfficiency.eeDataVisiable=!1}))},showEnergyEfficiencyStatus:function(){var e=["054W","055E","057E","057W","058E"],t=["EEOI（g/t·nm）","每海里油耗(100吨/海里)"],i=[{name:"EEOI（g/t·nm）",type:"line",yAxisIndex:0,data:[19.82,20.53,22.59,12.52,21.05]},{name:"每海里油耗(100吨/海里)",type:"line",yAxisIndex:0,data:[16.23,10.82,11.74,18.39,11.96]}];this.chartTitle="xx公司/xx船舶 航次分析",this.xData=e,this.legendData=t,this.seriesData=i,this.chartFlag=!0,this.eeStatusVisiable=!0},handleSelectionChange:function(e){this.tableChecked=e},handleRelationCompanySelectionChange:function(e){this.tableChecked2=e},sortChange:function(e){var t=e.prop,i=e.order;"id"===t&&this.sortByID(i)},handleDeleteRelation:function(e){if(!0===confirm("确定要删除？")){var t=this.relationedShipCompanyList.indexOf(e);this.relationedShipCompanyList.splice(t,1)}},sortByID:function(e){this.listQuery.sort="ascending"===e?"+id":"-id",this.handleFilter()},handleCreate:function(){var e=this;this.resetTemp(),this.relationedShipCompanyList=[],this.dialogStatus="create",this.dialogFormVisible=!0,this.shipComPanyNameReadonly=!1,this.statusType=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},handleCreateRelation:function(){this.dialogShipCompanyFormVisible=!0,this.getShipCompanyList()},saveRelation:function(e){var t=[],i=!0,a=!1,o=void 0;try{for(var n,s=this.relationedShipCompanyList[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var r=n.value;t.push(r.companyId)}}catch(y){a=!0,o=y}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}var l=!0,p=!1,d=void 0;try{for(var c,m=e[Symbol.iterator]();!(l=(c=m.next()).done);l=!0){var u=c.value,h=Object.assign({},u),f=t.indexOf(u.id);-1===f&&this.relationedShipCompanyList.push({nameEn:h.nameEn,nameCn:h.nameCn,companyCode:h.ccsCode,iacsCode:h.iacs,companyId:h.id})}}catch(y){p=!0,d=y}finally{try{l||null==m.return||m.return()}finally{if(p)throw d}}this.dialogShipCompanyFormVisible=!1},handleUpdate:function(e,t){var i=this;this.oiShipInfo=e,this.dialogStatus="update",this.editRowId=this.oiShipInfo.id,this.rowModel=this.oiShipInfo,this.shipId=e.id,this.dialogFormVisible=!0,setTimeout((function(){i.$refs.shipMde.resetTemp(),i.$refs.shipPM.resetTemp(),i.$refs.shipGenerator.resetTemp(),i.$refs.shipInert.resetTemp(),i.$refs.shipBoiler.resetTemp(),i.$refs.shipIncinerator.resetTemp(),i.$refs.shipGasTurbines.resetTemp(),i.$refs.battery.resetTemp(),i.resetXhOptions(),i.$refs.shipInfo.EditRowData(i.oiShipInfo),i.getEqiupmentIdAndXh(i.oiShipInfo.id),"detail"===t?(i.formDisabledIsTrue(),i.saveButtonIsDisabled=!1):(i.saveButtonIsDisabled=!0,i.formDisabledIsFalse())}),500)},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return"timestamp"===e?Object(p["e"])(t[e]):t[e]}))}))},getSortClass:function(e){var t=this.listQuery.sort;return t==="+".concat(e)?"ascending":t==="-".concat(e)?"descending":""},selectTrigger:function(e){},getEqiupmentIdAndXh:function(e){var t=this,i="/shipManager/getShipEqipment";Object(r["k"])(i,{shipId:e}).then((function(e){if(0!==e.data.data.mainEngineIds.length){t.$refs.shipMde.oiMainEngineIds=e.data.data.mainEngineIds,t.$refs.shipMde.oiMainEngine=e.data.data.mainEngineIds[0],t.$refs.shipMde.oiMainEngineId=e.data.data.mainEngineIds[0].id,t.$refs.shipMde.engineIds=t.getEngineIds(e.data.data.mainEngineIds[0].energyId),t.$refs.shipMde.oiMainEngine.fuelIds.length=0;var i=!0,a=!1,o=void 0;try{for(var n,s=t.$refs.shipMde.oiMainEngine.shipEquipmentFuelMaps[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var r=n.value;t.$refs.shipMde.oiMainEngine.fuelIds.push(r.fuelId)}}catch(A){a=!0,o=A}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}if(0!==e.data.data.shipGeIds.length){t.$refs.shipPM.oiShipGeIds=e.data.data.shipGeIds,t.$refs.shipPM.oiShipGe=e.data.data.shipGeIds[0],t.$refs.shipPM.oiShipGeId=e.data.data.shipGeIds[0].id,t.$refs.shipPM.engineIds=t.getEngineIds(e.data.data.shipGeIds[0].energyid),t.$refs.shipPM.oiShipGe.fuelIds.length=0;var l=!0,p=!1,d=void 0;try{for(var c,m=t.$refs.shipPM.oiShipGe.shipEquipmentFuelMaps[Symbol.iterator]();!(l=(c=m.next()).done);l=!0){var u=c.value;t.$refs.shipPM.oiShipGe.fuelIds.push(u.fuelId)}}catch(A){p=!0,d=A}finally{try{l||null==m.return||m.return()}finally{if(p)throw d}}}if(0!==e.data.data.shipGeneratorIds.length){t.$refs.shipGenerator.oiShipGeneratorIds=e.data.data.shipGeneratorIds,t.$refs.shipGenerator.oiShipGenerator=e.data.data.shipGeneratorIds[0],t.$refs.shipGenerator.oiShipGeneratorId=e.data.data.shipGeneratorIds[0].id,t.$refs.shipGenerator.oiShipGenerator.fuelIds.length=0;var h=!0,f=!1,y=void 0;try{for(var v,g=t.$refs.shipGenerator.oiShipGenerator.shipEquipmentFuelMaps[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var b=v.value;t.$refs.shipGenerator.oiShipGenerator.fuelIds.push(b.fuelId)}}catch(A){f=!0,y=A}finally{try{h||null==g.return||g.return()}finally{if(f)throw y}}}if(0!==e.data.data.shipBoilerIds.length){t.$refs.shipBoiler.oiShipBoilerIds=e.data.data.shipBoilerIds,t.$refs.shipBoiler.oiShipBoiler=e.data.data.shipBoilerIds[0],t.$refs.shipBoiler.oiShipBoilerId=e.data.data.shipBoilerIds[0].id,t.$refs.shipBoiler.engineIds=t.getEngineIds(e.data.data.shipBoilerIds[0].energyId),t.$refs.shipBoiler.oiShipBoiler.fuelIds.length=0;var S=!0,I=!1,$=void 0;try{for(var _,T=t.$refs.shipBoiler.oiShipBoiler.shipEquipmentFuelMaps[Symbol.iterator]();!(S=(_=T.next()).done);S=!0){var w=_.value;t.$refs.shipBoiler.oiShipBoiler.fuelIds.push(w.fuelId)}}catch(A){I=!0,$=A}finally{try{S||null==T.return||T.return()}finally{if(I)throw $}}}if(0!==e.data.data.incineratorIds.length){t.$refs.shipIncinerator.oiShipIncineratorIds=e.data.data.incineratorIds,t.$refs.shipIncinerator.oiShipIncinerator=e.data.data.incineratorIds[0],t.$refs.shipIncinerator.oiShipIncineratorId=e.data.data.incineratorIds[0].id,t.$refs.shipIncinerator.engineIds=t.getEngineIds(e.data.data.incineratorIds[0].energyId),t.$refs.shipIncinerator.oiShipIncinerator.fuelIds.length=0;var x=!0,k=!1,C=void 0;try{for(var D,M=t.$refs.shipIncinerator.oiShipIncinerator.shipEquipmentFuelMaps[Symbol.iterator]();!(x=(D=M.next()).done);x=!0){var N=D.value;t.$refs.shipIncinerator.oiShipIncinerator.fuelIds.push(N.fuelId)}}catch(A){k=!0,C=A}finally{try{x||null==M.return||M.return()}finally{if(k)throw C}}}if(0!==e.data.data.shipInert.length){t.$refs.shipInert.oiShipInertIds=e.data.data.shipInert,t.$refs.shipInert.oiShipInert=e.data.data.shipInert[0],t.$refs.shipInert.oiShipInertId=e.data.data.shipInert[0].id,t.$refs.shipInert.engineIds=t.getEngineIds(e.data.data.shipInert[0].energyid),t.$refs.shipInert.oiShipInert.fuelIds.length=0;var O=!0,P=!1,R=void 0;try{for(var E,F=t.$refs.shipInert.oiShipInert.shipEquipmentFuelMaps[Symbol.iterator]();!(O=(E=F.next()).done);O=!0){var G=E.value;t.$refs.shipInert.oiShipInert.fuelIds.push(G.fuelId)}}catch(A){P=!0,R=A}finally{try{O||null==F.return||F.return()}finally{if(P)throw R}}}if(0!==e.data.data.shipTurbine.length&&(t.$refs.shipGasTurbines.oiShipTurbineIds=e.data.data.shipTurbine,t.$refs.shipGasTurbines.oiShipTurbine=e.data.data.shipTurbine[0],t.$refs.shipGasTurbines.oiShipTurbineId=e.data.data.shipTurbine[0].id),0!==e.data.data.shipBatteryIds.length){t.$refs.battery.oiShipBatteryIds=e.data.data.shipBatteryIds,t.$refs.battery.oiShipBattery=e.data.data.shipBatteryIds[0],t.$refs.battery.oiShipBatteryId=e.data.data.shipBatteryIds[0].id,t.$refs.battery.oiShipBattery.fuelIds.length=0;var V=!0,B=!1,j=void 0;try{for(var q,L=t.$refs.battery.oiShipBattery.shipEquipmentFuelMaps[Symbol.iterator]();!(V=(q=L.next()).done);V=!0){var Q=q.value;t.$refs.battery.oiShipBattery.fuelIds.push(Q.fuelId)}}catch(A){B=!0,j=A}finally{try{V||null==L.return||L.return()}finally{if(B)throw j}}}}))},resetXhOptions:function(){this.$refs.shipMde.oiMainEngineIds=[],this.$refs.shipMde.oiMainEngineId="",this.$refs.shipPM.oiShipGeIds=[],this.$refs.shipPM.oiShipGeId="",this.$refs.shipGenerator.oiShipGeneratorIds=[],this.$refs.shipGenerator.oiShipGeneratorId="",this.$refs.shipBoiler.oiShipBoilerIds=[],this.$refs.shipBoiler.oiShipBoilerId="",this.$refs.shipIncinerator.oiShipIncineratorIds=[],this.$refs.shipIncinerator.oiShipIncineratorId="",this.$refs.shipInert.oiShipInertIds=[],this.$refs.shipInert.oiShipInertId="",this.$refs.shipGasTurbines.oiShipTurbineIds=[],this.$refs.shipGasTurbines.oiShipTurbineId="",this.$refs.battery.oiShipBatteryIds=[],this.$refs.battery.oiShipBatteryId=""},formDisabledIsFalse:function(){this.$refs.shipInfo.formIsDisabled=!1,this.$refs.shipMde.formIsDisabled=!1,this.$refs.shipPM.formIsDisabled=!1,this.$refs.shipBoiler.formIsDisabled=!1,this.$refs.shipIncinerator.formIsDisabled=!1,this.$refs.shipInert.formIsDisabled=!1,this.$refs.shipGasTurbines.formIsDisabled=!1,this.$refs.shipGenerator.formIsDisabled=!1,this.$refs.battery.formIsDisabled=!1},getEngineIds:function(e){var t=[];return""!==e&&null!==e&&(t=e.split(",")),t},formDisabledIsTrue:function(){this.$refs.shipInfo.formIsDisabled=!0,this.$refs.shipMde.formIsDisabled=!0,this.$refs.shipPM.formIsDisabled=!0,this.$refs.shipBoiler.formIsDisabled=!0,this.$refs.shipIncinerator.formIsDisabled=!0,this.$refs.shipInert.formIsDisabled=!0,this.$refs.shipGasTurbines.formIsDisabled=!0,this.$refs.shipGenerator.formIsDisabled=!0,this.$refs.battery.formIsDisabled=!0},handleClick:function(){},deleteEquipment:function(){var e=this;if(!0===confirm("确认是否删除设备")){var t="",i="",a="";"second"===this.activeName?(t="/shipManager/deleteMainEngine",i={id:this.$refs.shipMde.oiMainEngineId},a=this.$refs.shipMde.oiMainEngineIds):"third"===this.activeName?(t="/shipManager/deleteShipAuEngine",i={id:this.$refs.shipPM.oiShipGeId},a=this.$refs.shipPM.oiShipGeIds):"eighth"===this.activeName?(t="/shipManager/deleteShipGenerator",i={id:this.$refs.shipGenerator.oiShipGeneratorId},a=this.$refs.shipGenerator.oiShipGeneratorIds):"fourth"===this.activeName?(t="/shipManager/deleteShipBoiler",i={id:this.$refs.shipBoiler.oiShipBoilerId},a=this.$refs.shipBoiler.oiShipBoilerIds):"fifth"===this.activeName?(t="/shipManager/deleteShipIncinerator",i={id:this.$refs.shipIncinerator.oiShipIncineratorId},a=this.$refs.shipIncinerator.oiShipIncineratorIds):"sixth"===this.activeName?(t="/shipManager/deleteShipInert",i={id:this.$refs.shipInert.oiShipInertId},a=this.$refs.shipInert.oiShipInertIds):"seventh"===this.activeName?(t="/shipManager/deleteShipTurbine",i={id:this.$refs.shipGasTurbines.oiShipTurbineId},a=this.$refs.shipGasTurbines.oiShipTurbineIds):"eleven"===this.activeName&&(t="/shipManager/deleteOiShipBattery",i={id:this.$refs.battery.oiShipBatteryId},a=this.$refs.battery.oiShipBatteryIds),Object(s["M"])(t,i).then((function(t){if(t.data.result){var o=!0,n=!1,s=void 0;try{for(var r,l=a[Symbol.iterator]();!(o=(r=l.next()).done);o=!0){var p=r.value;if(p.id===i.id){var d=a.indexOf(p);a.splice(d,1)}}}catch(c){n=!0,s=c}finally{try{o||null==l.return||l.return()}finally{if(n)throw s}}e.$notify({message:t.data.data,type:"success",duration:2e3})}else e.$notify({message:"delete failed",type:"error",duration:2e3})}))}},resetForm:function(){var e="";"first"===this.activeName?(e=this.$refs.shipInfo.oiShipInfo.id,this.$refs.shipInfo.resetForm(),"update"===this.dialogStatus&&(this.$refs.shipInfo.oiShipInfo.id=e)):"second"===this.activeName?(e=this.$refs.shipMde.oiMainEngine.id,this.$refs.shipMde.resetTemp(),"update"===this.dialogStatus&&(this.$refs.shipInfo.oiShipInfo.id=e)):"third"===this.activeName?(e=this.$refs.shipPM.oiShipGe.id,this.$refs.shipPM.resetTemp(),"update"===this.dialogStatus&&(this.$refs.shipPM.oiShipGe.id=e)):"eighth"===this.activeName?(e=this.$refs.shipGenerator.oiShipGenerator.id,this.$refs.shipGenerator.resetTemp(),"update"===this.dialogStatus&&(this.$refs.shipGenerator.oiShipGenerator.id=e)):"fourth"===this.activeName?(e=this.$refs.shipBoiler.oiShipBoiler.id,this.$refs.shipBoiler.resetTemp(),"update"===this.dialogStatus&&(this.$refs.shipBoiler.oiShipBoiler.id=e)):"fifth"===this.activeName?(e=this.$refs.shipIncinerator.oiShipIncinerator.id,this.$refs.shipIncinerator.resetTemp(),"update"===this.dialogStatus&&(this.$refs.shipIncinerator.oiShipIncinerator.id=e)):"sixth"===this.activeName?(e=this.$refs.shipInert.oiShipInert.id,this.$refs.shipInert.resetTemp(),"update"===this.dialogStatus&&(this.$refs.shipInert.oiShipInert.id=e)):"seventh"===this.activeName?(e=this.$refs.shipGasTurbines.oiShipTurbine.id,this.$refs.shipGasTurbines.resetTemp(),"update"===this.dialogStatus&&(this.$refs.shipGasTurbines.oiShipTurbine.id=e)):"eleven"===this.activeName&&(e=this.$refs.battery.oiShipBatteryId.id,this.$refs.battery.resetTemp(),"update"===this.dialogStatus&&(this.$refs.shipGasTurbines.oiShipTurbine.id=e))}}}),E=R,F=(i("9a74"),i("2877")),G=Object(F["a"])(E,a,o,!1,null,"0c2c8c3b",null);t["default"]=G.exports},a839:function(e,t,i){},aea2:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},on:{change:e.xhSelectChange},model:{value:e.oiMainEngineXh,callback:function(t){e.oiMainEngineXh=t},expression:"oiMainEngineXh"}},e._l(e.oiShipGeIds,(function(e){return i("el-option",{key:e.id,attrs:{label:e.xh,value:e.id}})})),1)],1),e._v(" "),i("el-form",{ref:"oiShipGeForm",attrs:{rules:e.oiShipGeRules,model:e.oiShipGe,"label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.type"),prop:"engineType"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGe.engineType,callback:function(t){e.$set(e.oiShipGe,"engineType",t)},expression:"oiShipGe.engineType"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedPower"),prop:"ratePower"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGe.ratePower,callback:function(t){e.$set(e.oiShipGe,"ratePower",t)},expression:"oiShipGe.ratePower"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kw")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.ratedSpeed")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGe.ratedSpeed,callback:function(t){e.$set(e.oiShipGe,"ratedSpeed",t)},expression:"oiShipGe.ratedSpeed"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Rpm")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.consumpRate"),prop:"consumpRate"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGe.consumpRate,callback:function(t){e.$set(e.oiShipGe,"consumpRate",t)},expression:"oiShipGe.consumpRate"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("g/(kW·h)")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.energyId"),prop:"energyid"}},[i("el-checkbox-group",{on:{change:e.checkboxChange},model:{value:e.engineIds,callback:function(t){e.engineIds=t},expression:"engineIds"}},e._l(e.situations,(function(t,a){return i("el-checkbox",{key:a,attrs:{label:t.formCode}},[e._v(e._s(t.formName))])})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.equipmentXh"),prop:"xh"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGe.xh,callback:function(t){e.$set(e.oiShipGe,"xh",t)},expression:"oiShipGe.xh"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:e.$t("ship.deviceSerial"),prop:"serialNo"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGe.serialNo,callback:function(t){e.$set(e.oiShipGe,"serialNo",t)},expression:"oiShipGe.serialNo"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.source")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipGe.mfrsName,callback:function(t){e.$set(e.oiShipGe,"mfrsName",t)},expression:"oiShipGe.mfrsName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.produceTime")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"year",size:"small",placeholder:e.$t("common.dataYearRemind")},model:{value:e.oiShipGe.produceTime,callback:function(t){e.$set(e.oiShipGe,"produceTime",t)},expression:"oiShipGe.produceTime"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.fuelId"),prop:"fuelIds"}},[i("el-button",{attrs:{type:"primary",disabled:this.formIsDisabled},on:{click:e.shipTypes}},[e._v(e._s(e.$t("common.select")))]),e._v(" "),e.oiShipGe.shipEquipmentFuelMaps.length?i("div",{staticStyle:{width:"100%",height:"auto",border:"1px #ccc solid","margin-top":"10px",padding:"0 15px"}},[i("el-row",e._l(e.oiShipGe.shipEquipmentFuelMaps,(function(t,a){return i("el-col",{key:a,attrs:{span:12}},[i("span",[e._v(e._s(e.$t("ship.fuel"))+":"+e._s(t.fuelName))]),e._v(" "),"1"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method1")))]):e._e(),e._v(" "),"2"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method2")))]):e._e(),e._v(" "),"3"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method3")))]):e._e()])})),1)],1):e._e()],1)],1),e._v(" "),e.shipComPanyNamevicode?i("shipType",{attrs:{shipComPanyNamevicode:e.shipComPanyNamevicode,listData:e.oiShipGe.shipEquipmentFuelMaps},on:{shipComPanyNameDatas:e.shipComPanyNameDatas,shipComPanyNameData:e.shipComPanyNameData}}):e._e()],1)},o=[],n=i("bff4"),s=i("4a5a"),r=i("4624"),l={name:"ShipPM",components:{shipType:s["default"]},mixins:[r["a"]],props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{shipComPanyNamevicode:!1,consMethodArray:[{value:"1",label:"使用燃油交付单的方法"},{value:"2",label:"使用流量计的方法"},{value:"3",label:"使用燃油舱柜监测的方法"}],engineIds:[],oiShipGeId:"",oiMainEngineXh:"",formIsDisabled:!1,oiShipGeIds:[],oiShipGe:{id:"",shipId:"",engineType:"",ratePower:"",ratedSpeed:"",consumpRate:"",energyid:"",mfrsName:"",produceTime:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[],serialNo:""},oiShipGeRules:{engineType:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],ratePower:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],consumpRate:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],energyid:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],xh:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],serialNo:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}]}}},watch:{oiShipGeIds:function(e){e.length?(this.oiShipGeId=e[0].id,this.oiMainEngineXh=e[0].xh||e[0].id,this.initData()):this.oiMainEngineXh=""}},methods:{shipTypes:function(){this.shipComPanyNamevicode=!0},shipComPanyNameData:function(){this.shipComPanyNamevicode=!1},shipComPanyNameDatas:function(e){this.oiShipGe.shipEquipmentFuelMaps=e,this.shipComPanyNamevicode=!1},initData:function(){var e=this;Object(n["k"])("/shipManager/getShipAuEngine",{id:this.oiShipGeId}).then((function(t){e.oiShipGe=t.data.data,e.engineIds=e.getEngineIds(t.data.data.energyid),e.oiShipGe.fuelIds.length=0;var i=!0,a=!1,o=void 0;try{for(var n,s=e.oiShipGe.shipEquipmentFuelMaps[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var r=n.value;e.oiShipGe.fuelIds.push(r.fuelId)}}catch(l){a=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}))},getEngineIds:function(e){var t=[];return""!==e&&(t=e.split(",")),t},resetTemp:function(){this.engineIds=[],this.oiMainEngineXh="",this.oiShipGe={id:"",shipId:"",engineType:"",ratePower:"",ratedSpeed:"",consumpRate:"",energyid:"",mfrsName:"",produceTime:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[],serialNo:""}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["oiShipGeForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.oiShipGe=i.shipPM[1],this.$nextTick((function(){t.$refs["oiShipGeForm"].clearValidate()}))},xhSelectChange:function(){this.oiShipGeId=this.oiMainEngineXh,this.initData()},checkboxChange:function(){this.engineIds.length>0?this.oiShipGe.energyId=this.engineIds[0]:this.oiShipGe.energyId=""}}},p=l,d=i("2877"),c=Object(d["a"])(p,a,o,!1,null,null,null);t["default"]=c.exports},d03f:function(e,t,i){"use strict";var a=i("a839"),o=i.n(a);o.a},d3e3:function(e,t,i){"use strict";i.d(t,"M",(function(){return o})),i.d(t,"b",(function(){return n})),i.d(t,"r",(function(){return s})),i.d(t,"U",(function(){return r})),i.d(t,"s",(function(){return l})),i.d(t,"u",(function(){return p})),i.d(t,"e",(function(){return d})),i.d(t,"G",(function(){return c})),i.d(t,"I",(function(){return m})),i.d(t,"D",(function(){return u})),i.d(t,"S",(function(){return h})),i.d(t,"T",(function(){return f})),i.d(t,"E",(function(){return y})),i.d(t,"o",(function(){return v})),i.d(t,"l",(function(){return g})),i.d(t,"j",(function(){return b})),i.d(t,"P",(function(){return S})),i.d(t,"N",(function(){return I})),i.d(t,"F",(function(){return $})),i.d(t,"g",(function(){return _})),i.d(t,"K",(function(){return T})),i.d(t,"O",(function(){return w})),i.d(t,"h",(function(){return x})),i.d(t,"C",(function(){return k})),i.d(t,"t",(function(){return C})),i.d(t,"L",(function(){return D})),i.d(t,"d",(function(){return M})),i.d(t,"i",(function(){return N})),i.d(t,"Q",(function(){return O})),i.d(t,"W",(function(){return P})),i.d(t,"q",(function(){return R})),i.d(t,"m",(function(){return E})),i.d(t,"V",(function(){return F})),i.d(t,"H",(function(){return G})),i.d(t,"R",(function(){return V})),i.d(t,"z",(function(){return B})),i.d(t,"x",(function(){return j})),i.d(t,"A",(function(){return q})),i.d(t,"y",(function(){return L})),i.d(t,"p",(function(){return Q})),i.d(t,"n",(function(){return A})),i.d(t,"f",(function(){return Z})),i.d(t,"w",(function(){return z})),i.d(t,"v",(function(){return Y})),i.d(t,"c",(function(){return H})),i.d(t,"J",(function(){return X})),i.d(t,"k",(function(){return U})),i.d(t,"a",(function(){return K})),i.d(t,"B",(function(){return W}));var a=i("b775");function o(e,t){return Object(a["a"])({url:e,method:"post",data:t})}function n(e,t){return Object(a["a"])({url:e,method:"post",data:t})}function s(e,t){return Object(a["a"])({url:e,method:"post",responseType:"blob",headers:{"Content-Type":"application/json"},data:t})}function r(e,t){return Object(a["a"])({url:e,method:"post",data:t})}function l(e,t){return Object(a["a"])({url:e,method:"post",responseType:"blob",headers:{"Content-Type":"application/json"},data:t})}function p(e){return Object(a["a"])({url:"/mrv/generatorImoRpt",method:"post",data:e,timeout:6e5})}function d(e){return Object(a["a"])({url:"/mrv/deleteImoStdRpt",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/mrv/imoLockOrUnlock",method:"post",data:e})}function m(e){return Object(a["a"])({url:"/mrv/imoReport",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/mrv/getImoStdRpts",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/mrv/saveImoRpt",method:"post",data:e})}function f(e){return Object(a["a"])({url:"/mrv/saveManualDcs",method:"post",data:e})}function y(e){return Object(a["a"])({url:"/mrv/getManuleDcs",method:"post",data:e})}function v(e){return Object(a["a"])({url:"/mrv/downLoadDcs",method:"post",responseType:"blob",headers:{"Content-Type":"application/json"},data:e})}function g(e){return Object(a["a"])({url:"/mrv/downLoadCollectionData",method:"post",responseType:"blob",headers:{"Content-Type":"application/json"},data:e})}function b(e){return Object(a["a"])({url:"/mrv/downLoadBdnData",method:"post",responseType:"blob",headers:{"Content-Type":"application/json"},data:e})}function S(e){return Object(a["a"])({url:"/sysUser/saveAppUser",method:"post",data:e})}function I(e){return Object(a["a"])({url:"/mrv/saveAndUpdatePeriodOil",method:"post",data:e})}function $(e){return Object(a["a"])({url:"/mrv/getPeriodOil",method:"post",data:e})}function _(e){return Object(a["a"])({url:"/mrv/deletePeriodOil",method:"post",data:e})}function T(e){return Object(a["a"])({url:"/mrv/lockOrUnlock",method:"post",data:e})}function w(e){return Object(a["a"])({url:"/shipManager/saveAndUpdateTfc",method:"post",data:e})}function x(e){return Object(a["a"])({url:"/shipManager/deleteTfc",method:"post",data:e})}function k(e){return Object(a["a"])({url:"/mrv/getEudcs",method:"post",data:e})}function C(e){return Object(a["a"])({url:"/mrv/generatorEuDcs",method:"post",data:e})}function D(e){return Object(a["a"])({url:"/mrv/lockOrUnlockEuDcs",method:"post",data:e})}function M(e){return Object(a["a"])({url:"/mrv/deleteEuDcs",method:"post",data:e})}function N(e){return Object(a["a"])({url:"/mrv/downEuDcs",method:"post",responseType:"blob",headers:{"Content-Type":"application/json"},data:e})}function O(e){return Object(a["a"])({url:"/mrv/saveEuDcs",method:"post",data:e})}function P(e){return Object(a["a"])({url:"/mrv/singalShipYear",method:"post",data:e})}function R(e){return Object(a["a"])({url:"/mrv/downLoadSigalShip",method:"post",responseType:"blob",headers:{"Content-Type":"application/json"},data:e})}function E(e){return Object(a["a"])({url:"/mrv/downLoadComPanyShip",method:"post",responseType:"blob",headers:{"Content-Type":"application/json"},data:e})}function F(e){return Object(a["a"])({url:"/mrv/shipComPanyYear",method:"post",data:e})}function G(e){return Object(a["a"])({url:"/mrv/imoReportLibya",method:"post",data:e})}function V(e){return Object(a["a"])({url:"/flagDocChange/saveFlagDocChange",method:"post",data:e})}function B(e){return Object(a["a"])({url:"/mrv/getEnergyEfficencyTrend",method:"post",data:e})}function j(e){return Object(a["a"])({url:"/mrv/getCompareAnalysisData",method:"post",data:e})}function q(e){return Object(a["a"])({url:"/mrv/getEnergyEfficencyTrendData",method:"post",data:e})}function L(e){return Object(a["a"])({url:"/mrv/getCompareAnalysisDatas",method:"post",data:e})}function Q(e){return Object(a["a"])({url:"/mrv/downLoadEnergyEfficencyTrendData",method:"post",responseType:"blob",headers:{"Content-Type":"application/json"},data:e})}function A(e){return Object(a["a"])({url:"/mrv/downLoadCompareAnalysisData",method:"post",responseType:"blob",headers:{"Content-Type":"application/json"},data:e})}function Z(e){return Object(a["a"])({url:"/flagDocChange/deleteMultiFlagDocChangeById",method:"post",data:e})}function z(e){return Object(a["a"])({url:"/energyEfficiency/getCmsaStdRpt",method:"post",data:e})}function Y(e){return Object(a["a"])({url:"/energyEfficiency/getCmsaRpt",method:"post",data:e})}function H(e){return Object(a["a"])({url:"/energyEfficiency/deleteCmsaRpt",method:"post",data:e})}function X(e){return Object(a["a"])({url:"/energyEfficiency/lockOrUnLockCmsaRpt",method:"post",data:e})}function U(e){return Object(a["a"])({url:"/energyEfficiency/downLoadCmsaRpt",method:"post",responseType:"blob",headers:{"Content-Type":"application/json"},data:e})}function K(e){return Object(a["a"])({url:"/energyEfficiency/cmsaRptStatusTag",method:"post",data:e})}function W(e){return Object(a["a"])({url:"/mrv/getEnergyEfficencyTrendMessage",method:"post",data:e})}},d468:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},on:{change:e.xhSelectChange},model:{value:e.oiShipBoilerId,callback:function(t){e.oiShipBoilerId=t},expression:"oiShipBoilerId"}},e._l(e.oiShipBoilerIds,(function(e){return i("el-option",{key:e.id,attrs:{label:e.xh,value:e.id}})})),1)],1),e._v(" "),i("el-form",{ref:"shipBoilerForm",attrs:{rules:e.shipBoilerRules,model:e.oiShipBoiler,"label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.type"),prop:"boilerType"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipBoiler.boilerType,callback:function(t){e.$set(e.oiShipBoiler,"boilerType",t)},expression:"oiShipBoiler.boilerType"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.source")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipBoiler.mfrsName,callback:function(t){e.$set(e.oiShipBoiler,"mfrsName",t)},expression:"oiShipBoiler.mfrsName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.produceTime")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"year",size:"small",align:"left",placeholder:e.$t("common.dataYearRemind")},model:{value:e.oiShipBoiler.produceTime,callback:function(t){e.$set(e.oiShipBoiler,"produceTime",t)},expression:"oiShipBoiler.produceTime"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.equipmentXh"),prop:"xh"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipBoiler.xh,callback:function(t){e.$set(e.oiShipBoiler,"xh",t)},expression:"oiShipBoiler.xh"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.energyId"),prop:"energyId"}},[i("el-checkbox-group",{on:{change:e.checkboxChange},model:{value:e.engineIds,callback:function(t){e.engineIds=t},expression:"engineIds"}},e._l(e.situations,(function(t,a){return i("el-checkbox",{key:a,attrs:{label:t.formCode}},[e._v(e._s(t.formName))])})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.fuelId"),prop:"fuelIds"}},[i("el-button",{attrs:{type:"primary",disabled:this.formIsDisabled},on:{click:e.shipTypes}},[e._v(e._s(e.$t("common.select")))]),e._v(" "),e.oiShipBoiler.shipEquipmentFuelMaps.length?i("div",{staticStyle:{width:"100%",height:"auto",border:"1px #ccc solid","margin-top":"10px",padding:"0 15px"}},[i("el-row",e._l(e.oiShipBoiler.shipEquipmentFuelMaps,(function(t,a){return i("el-col",{key:a,attrs:{span:12}},[i("span",[e._v(e._s(e.$t("ship.fuel"))+":"+e._s(t.fuelName))]),e._v(" "),"1"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method1")))]):e._e(),e._v(" "),"2"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method2")))]):e._e(),e._v(" "),"3"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method3")))]):e._e()])})),1)],1):e._e()],1)],1),e._v(" "),e.shipComPanyNamevicode?i("shipType",{attrs:{shipComPanyNamevicode:e.shipComPanyNamevicode,listData:e.oiShipBoiler.shipEquipmentFuelMaps},on:{shipComPanyNameDatas:e.shipComPanyNameDatas,shipComPanyNameData:e.shipComPanyNameData}}):e._e()],1)},o=[],n=i("bff4"),s=i("4624"),r=i("4a5a"),l={name:"ShipBoiler",components:{shipType:r["default"]},props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{shipComPanyNamevicode:!1,consMethodArray:[{value:"1",label:"使用燃油交付单的方法"},{value:"2",label:"使用流量计的方法"},{value:"3",label:"使用燃油舱柜监测的方法"}],engineIds:[],oiShipBoilerId:"",formIsDisabled:!1,oiShipBoilerIds:[],oiShipBoiler:{id:"",shipId:"",boilerType:"",energyId:"",mfrsName:"",produceTime:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[]},shipBoilerRules:{boilerType:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],energyId:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],xh:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}]}}},watch:{oiShipBoilerIds:function(e){e.length&&(this.oiShipBoilerId=e[0].id,this.xhSelectChange())}},methods:{shipTypes:function(){this.shipComPanyNamevicode=!0},shipComPanyNameData:function(){this.shipComPanyNamevicode=!1},shipComPanyNameDatas:function(e){this.oiShipBoiler.shipEquipmentFuelMaps=e,this.shipComPanyNamevicode=!1},checkboxChange:function(){this.engineIds.length>0?this.oiShipBoiler.energyId=this.engineIds[0]:this.oiShipBoiler.energyId=""},getEngineIds:function(e){var t=[];return""!==e&&(t=e.split(",")),t},resetTemp:function(){this.engineIds=[],this.oiShipBoilerId="",this.oiShipBoiler={id:"",shipId:"",boilerType:"",energyId:"",mfrsName:"",produceTime:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[]}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["shipBoilerForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.temp=i.shipBoiler[1],this.$nextTick((function(){t.$refs["shipBoilerForm"].clearValidate()}))},xhSelectChange:function(){var e=this;Object(n["k"])("/shipManager/getShipBolier",{shipBolierId:this.oiShipBoilerId}).then((function(t){e.oiShipBoiler=t.data.data,e.engineIds=e.getEngineIds(t.data.data.energyId),e.oiShipBoiler.fuelIds.length=0;var i=!0,a=!1,o=void 0;try{for(var n,s=e.oiShipBoiler.shipEquipmentFuelMaps[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var r=n.value;e.oiShipBoiler.fuelIds.push(r.fuelId)}}catch(l){a=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}))}},mixins:[s["a"]]},p=l,d=i("2877"),c=Object(d["a"])(p,a,o,!1,null,null,null);t["default"]=c.exports},d472:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"App账号信息",visible:e.dialogVisible.dalog,width:"80%","before-close":e.handlsole,"append-to-body":!0},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"dalog",t)}}},[i("el-form",{ref:"uploadReportTemp",attrs:{"label-position":"left","label-width":"150px",model:e.list,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"用户名(登录名)",prop:"userName"}},[i("el-input",{attrs:{disabled:!0},model:{value:e.list.userName,callback:function(t){e.$set(e.list,"userName",t)},expression:"list.userName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"姓名(cn)",prop:"cnName"}},[i("el-input",{model:{value:e.list.cnName,callback:function(t){e.$set(e.list,"cnName",t)},expression:"list.cnName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"姓名(en)",prop:"enName"}},[i("el-input",{model:{value:e.list.enName,callback:function(t){e.$set(e.list,"enName",t)},expression:"list.enName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"联系电话"}},[i("el-input",{model:{value:e.list.phoneNumber,callback:function(t){e.$set(e.list,"phoneNumber",t)},expression:"list.phoneNumber"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"密码"}},[e.falg?i("el-input",{attrs:{disabled:e.falg},model:{value:e.tetx,callback:function(t){e.tetx=t},expression:"tetx"}}):e._e(),e._v(" "),e.falg?e._e():i("el-input",{on:{change:e.passwords},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"邮箱"}},[i("el-input",{model:{value:e.list.email,callback:function(t){e.$set(e.list,"email",t)},expression:"list.email"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"用户状态",prop:"userStatus"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.list.userStatus,callback:function(t){e.$set(e.list,"userStatus",t)},expression:"list.userStatus"}},e._l(e.options,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.list.remark,callback:function(t){e.$set(e.list,"remark",t)},expression:"list.remark"}})],1)],1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.handlsole}},[e._v("关 闭")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.handlsave}},[e._v("保 存")])],1)],1)},o=[],n=i("d3e3"),s=i("bff4"),r={props:{dialogVisible:{type:Object}},data:function(){return{falg:!1,tetx:"******",password:"",list:{imoNo:null,userName:"",enName:"",cnName:"",phoneNumber:"",userStatus:1,email:"",remark:"",shipId:""},options:[{value:1,label:"启用"},{value:2,label:"冻结"}],rules:{userName:[{required:!0,message:"必填项",trigger:"blur"}],cnName:[{required:!0,message:"必填项",trigger:"blur"}],enName:[{required:!0,message:"必填项",trigger:"blur"}],userStatus:[{required:!0,message:"必填项",trigger:"change"}]}}},created:function(){this.dialogVisible.id&&(this.list.shipId=this.dialogVisible.id,this.list.imoNo=this.dialogVisible.imono,this.initData())},methods:{passwords:function(){""===this.password&&this.$message.error("请输入密码")},initData:function(){var e=this;Object(s["c"])(this.dialogVisible.id).then((function(t){t.data.result&&(e.list=t.data.data,"2"===e.list.status?e.falg=!0:e.falg=!1)}))},handlsole:function(){this.$emit("app",!1)},handlsave:function(){var e=this;this.$refs.uploadReportTemp.validate((function(t){t&&(e.falg||(e.list.password=e.password),Object(n["P"])(e.list).then((function(t){t.data.result&&e.$emit("app",!1)})))}))}}},l=r,p=i("2877"),d=Object(p["a"])(l,a,o,!1,null,"4eb8a2d6",null);t["default"]=d.exports},dd19:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},on:{change:e.xhSelectChange},model:{value:e.oiShipIncineratorId,callback:function(t){e.oiShipIncineratorId=t},expression:"oiShipIncineratorId"}},e._l(e.oiShipIncineratorIds,(function(e){return i("el-option",{key:e.id,attrs:{label:e.xh,value:e.id}})})),1)],1),e._v(" "),i("el-form",{ref:"OiShipIncineratorForm",attrs:{rules:e.shipIncineratorRules,model:e.oiShipIncinerator,"label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.type"),prop:"model"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind")},model:{value:e.oiShipIncinerator.model,callback:function(t){e.$set(e.oiShipIncinerator,"model",t)},expression:"oiShipIncinerator.model"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.source")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipIncinerator.mfrsName,callback:function(t){e.$set(e.oiShipIncinerator,"mfrsName",t)},expression:"oiShipIncinerator.mfrsName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.produceTime")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"year",size:"small",align:"left",placeholder:e.$t("common.dataYearRemind")},model:{value:e.oiShipIncinerator.produceTime,callback:function(t){e.$set(e.oiShipIncinerator,"produceTime",t)},expression:"oiShipIncinerator.produceTime"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.$t("ship.equipmentXh"),prop:"xh"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.oiShipIncinerator.xh,callback:function(t){e.$set(e.oiShipIncinerator,"xh",t)},expression:"oiShipIncinerator.xh"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.energyId"),prop:"energyId"}},[i("el-checkbox-group",{on:{change:e.checkboxChange},model:{value:e.engineIds,callback:function(t){e.engineIds=t},expression:"engineIds"}},e._l(e.situations,(function(t,a){return i("el-checkbox",{key:a,attrs:{label:t.formCode}},[e._v(e._s(t.formName))])})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("ship.fuelId"),prop:"fuelIds"}},[i("el-button",{attrs:{type:"primary",disabled:this.formIsDisabled},on:{click:e.shipTypes}},[e._v(e._s(e.$t("common.select")))]),e._v(" "),e.oiShipIncinerator.shipEquipmentFuelMaps.length?i("div",{staticStyle:{width:"100%",height:"auto",border:"1px #ccc solid","margin-top":"10px",padding:"0 15px"}},[i("el-row",e._l(e.oiShipIncinerator.shipEquipmentFuelMaps,(function(t,a){return i("el-col",{key:a,attrs:{span:12}},[i("span",[e._v(e._s(e.$t("ship.fuel"))+":"+e._s(t.fuelName))]),e._v(" "),"1"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method1")))]):e._e(),e._v(" "),"2"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method2")))]):e._e(),e._v(" "),"3"===t.consMethod?i("span",[e._v(e._s(e.$t("ship.method3")))]):e._e()])})),1)],1):e._e()],1),e._v(" "),e.shipComPanyNamevicode?i("shipType",{attrs:{shipComPanyNamevicode:e.shipComPanyNamevicode,listData:e.oiShipIncinerator.shipEquipmentFuelMaps},on:{shipComPanyNameDatas:e.shipComPanyNameDatas,shipComPanyNameData:e.shipComPanyNameData}}):e._e()],1)],1)},o=[],n=i("bff4"),s=i("4a5a"),r=i("4624"),l={name:"ShipIncinerator",components:{shipType:s["default"]},props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},data:function(){return{shipComPanyNamevicode:!1,consMethodArray:[{value:"1",label:"使用燃油交付单的方法"},{value:"2",label:"使用流量计的方法"},{value:"3",label:"使用燃油舱柜监测的方法"}],engineIds:[],oiShipIncineratorId:"",formIsDisabled:!1,oiShipIncineratorIds:[],oiShipIncinerator:{id:"",shipId:"",model:"",energyId:"",mfrsName:"",produceTime:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[]},shipIncineratorRules:{model:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],energyId:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}],xh:[{required:!0,message:this.$t("common.inputRequired"),trigger:"blur"}]}}},watch:{oiShipIncineratorIds:function(e){e.length&&(this.oiShipIncineratorId=e[0].id,this.xhSelectChange())}},methods:{shipTypes:function(){this.shipComPanyNamevicode=!0},shipComPanyNameData:function(){this.shipComPanyNamevicode=!1},shipComPanyNameDatas:function(e){this.oiShipIncinerator.shipEquipmentFuelMaps=e,this.shipComPanyNamevicode=!1},getEngineIds:function(e){var t=[];return""!==e&&(t=e.split(",")),t},resetTemp:function(){this.engineIds=[],this.oiShipIncineratorId="",this.oiShipIncinerator={id:"",shipId:"",model:"",energyId:"",mfrsName:"",produceTime:"",xh:"",fuelIds:[],shipEquipmentFuelMaps:[]}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["OiShipIncineratorForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.oiShipIncinerator=i.shipIncinerator[1],this.$nextTick((function(){t.$refs["OiShipIncineratorForm"].clearValidate()}))},xhSelectChange:function(){var e=this;Object(n["k"])("/shipManager/getShipIncinerator",{shipIncineratorId:this.oiShipIncineratorId}).then((function(t){e.oiShipIncinerator=t.data.data,e.engineIds=e.getEngineIds(t.data.data.energyId),e.oiShipIncinerator.fuelIds.length=0;var i=!0,a=!1,o=void 0;try{for(var n,s=e.oiShipIncinerator.shipEquipmentFuelMaps[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var r=n.value;e.oiShipIncinerator.fuelIds.push(r.fuelId)}}catch(l){a=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}))},checkboxChange:function(){this.engineIds.length>0?this.oiShipIncinerator.energyId=this.engineIds[0]:this.oiShipIncinerator.energyId=""}},mixins:[r["a"]]},p=l,d=i("2877"),c=Object(d["a"])(p,a,o,!1,null,null,null);t["default"]=c.exports},e336:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:e.$t("common.selectRemind"),value:"1"},on:{change:e.xhSelectChange},model:{value:e.oiShipBoilerId,callback:function(t){e.oiShipBoilerId=t},expression:"oiShipBoilerId"}},e._l(e.oiShipPropellers,(function(e){return i("el-option",{key:e.id,attrs:{label:e.xh,value:e.id}})})),1)],1),e._v(" "),i("el-form",{ref:"shipPropellerForm",attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"100px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.formType"),prop:"type"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{disabled:this.formIsDisabled,placeholder:e.$t("common.selectRemind"),prop:"typeop"},model:{value:e.temp.type,callback:function(t){e.$set(e.temp,"type",t)},expression:"temp.type"}},e._l(e.typeOptions,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.certNO")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.temp.certNu,callback:function(t){e.$set(e.temp,"certNu",t)},expression:"temp.certNu"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.count")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.temp.count,callback:function(t){e.$set(e.temp,"count",t)},expression:"temp.count"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.weight")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.temp.weight,callback:function(t){e.$set(e.temp,"weight",t)},expression:"temp.weight"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("Kg")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.material")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.temp.material,callback:function(t){e.$set(e.temp,"material",t)},expression:"temp.material"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.diameter")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.temp.diameter,callback:function(t){e.$set(e.temp,"diameter",t)},expression:"temp.diameter"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("mm")])])],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.pitch")}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.temp.pitch,callback:function(t){e.$set(e.temp,"pitch",t)},expression:"temp.pitch"}},[i("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("mm")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.ypCount")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.temp.leafNum,callback:function(t){e.$set(e.temp,"leafNum",t)},expression:"temp.leafNum"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.turnTo")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.temp.turnTo,callback:function(t){e.$set(e.temp,"turnTo",t)},expression:"temp.turnTo"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.iceCode")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.temp.ice,callback:function(t){e.$set(e.temp,"ice",t)},expression:"temp.ice"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.source")}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.temp.builder,callback:function(t){e.$set(e.temp,"builder",t)},expression:"temp.builder"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:e.$t("ship.equipmentXh"),prop:"xh"}},[i("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:this.formIsDisabled},model:{value:e.temp.xh,callback:function(t){e.$set(e.temp,"xh",t)},expression:"temp.xh"}})],1)],1)],1)],1)],1)},o=[],n=i("bff4"),s={name:"ShipPropeller",props:{editStatus:{type:String,default:""},editRowId:{type:String,default:""},rowModel:{type:Object,default:function(){}}},watch:{oiShipPropellers:function(e){e.length&&(this.oiShipBoilerId=e[0].id,this.initData())}},data:function(){return{formIsDisabled:!1,oiShipBoilerId:"",oiShipPropellers:[],typeOptions:["形式1","形式2","形式3"],rules:{type:[{required:!0,message:"必填项",trigger:"blur"}],xh:[{required:!0,message:"必填项",trigger:"blur"}]},temp:{id:void 0,shipId:"",type:"",xh:"",ice:"",builder:"",turnTo:"",leafNum:"",pitch:"",weight:"",material:"",certNu:"",diameter:"",count:""}}},methods:{resetTemp:function(){this.temp={id:void 0,shipId:"",type:"",xh:"",ice:"",builder:"",turnTo:"",leafNum:"",pitch:"",weight:"",material:"",certNu:"",diameter:"",count:""}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},CreateModel:function(){var e=this;this.resetTemp(),this.$nextTick((function(){e.$refs["shipPropellerForm"].clearValidate()}))},EditRowData:function(e){var t=this,i=Object.assign({},e);this.temp=i.shipPropeller[1],this.$nextTick((function(){t.$refs["shipPropellerForm"].clearValidate()}))},initData:function(){var e=this;Object(n["k"])("/shipManager/getOiShipPropelerById",{oiShipPropellerId:this.oiShipBoilerId}).then((function(t){e.temp=t.data.data}))},xhSelectChange:function(){var e=this;Object(n["k"])("/shipManager/getOiShipPropelerById",{oiShipPropellerId:this.oiShipBoilerId}).then((function(t){e.temp=t.data.data}))}}},r=s,l=i("2877"),p=Object(l["a"])(r,a,o,!1,null,null,null);t["default"]=p.exports}}]);