(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac09caec","chunk-7cf038e6","chunk-2d2082a6"],{5208:function(e,t,o){},6340:function(e,t,o){"use strict";var a=o("79a6"),i=o.n(a);i.a},"79a6":function(e,t,o){},a441:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:e.$t("voyage.Segmentinformation"),"append-to-body":!0,visible:e.shipComPanyNamevicode.dalog,"before-close":e.addDetale,width:"80%"},on:{"update:visible":function(t){return e.$set(e.shipComPanyNamevicode,"dalog",t)}}},[o("div",{staticClass:"filter-container"},[o("el-form",{ref:"listQuery",attrs:{model:e.listQuery,"label-width":"185px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.volageCode")}},[o("span",[e._v(e._s(e.listQuery.taskNu))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("voyage.Segmentnumber")}},[o("span",[e._v(e._s(e.listQuery.voyageNu))])])],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("MRV.departure")}},[o("span",[e._v(e._s(e.listQuery.startPort))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("MRV.destination")}},[o("span",[e._v(e._s(e.listQuery.endPort))])])],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("MRV.Departuretime")}},[o("span",[e._v(e._s(e.listQuery.startTime))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("voyage.endDate")}},[o("span",[e._v(e._s(e.listQuery.endTime))])])],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.specDistance")}},[o("span",[e._v(e._s(e.listQuery.distance))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("MRV.Berthingtime")}},[o("span",[e._v(e._s(e.listQuery.stopTime))])])],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("MRV.Speed")}},[o("span",[e._v(e._s(e.listQuery.avgSpeed))])])],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("voyageCargoInfo.cargoTons")}},[o("span",[e._v(e._s(e.listQuery.cargo))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("voyageCargoInfo.ballastTons")}},[o("span",[e._v(e._s(e.listQuery.ballest))])])],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("voyageCargoInfo.allBoxNum")}},[o("span",[e._v(e._s(e.listQuery.allBox))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("voyageCargoInfo.heavyBoxNum")}},[o("span",[e._v(e._s(e.listQuery.heavyBox))])])],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("ship.Vehicleload")}},[o("span",[e._v(e._s(e.listQuery.cars))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("ship.Numberof")}},[o("span",[e._v(e._s(e.listQuery.peoples))])])],1)],1)],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listQuery.voyageDeitailInfoOilVos,border:""}},[o("el-table-column",{attrs:{prop:"oilName",label:e.$t("ship.fuelId")}}),e._v(" "),o("el-table-column",{attrs:{prop:"distanceOil",label:e.$t("ship.Navigation")}}),e._v(" "),o("el-table-column",{attrs:{prop:"stopOil",label:e.$t("ship.Parkingconsumption")}}),e._v(" "),o("el-table-column",{attrs:{prop:"iceOil",label:e.$t("voyage.Iceconsumption")}}),e._v(" "),o("el-table-column",{attrs:{prop:"rescueOil",label:e.$t("voyage.Rescueconsumption")}})],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.addDetale}},[e._v(e._s(e.$t("common.close")))])],1)],1)},i=[],r=o("bff4"),s={name:"openingVolumeDalog",components:{},props:{shipComPanyNamevicode:{type:Object}},data:function(){return{listQuery:{voyageDeitailInfoOilVos:[]}}},created:function(){this.init()},methods:{init:function(){var e=this;Object(r["p"])(this.shipComPanyNamevicode.id).then((function(t){e.listQuery=t.data.data}))},addDetale:function(){this.$emit("shipComPanyNameData",!1)}}},l=s,n=o("2877"),p=Object(n["a"])(l,a,i,!1,null,"68e2da4c",null);t["default"]=p.exports},b67b:function(e,t,o){"use strict";var a=o("5208"),i=o.n(a);i.a},d3e7:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{ref:"oilForm",attrs:{rules:e.oilRules,model:e.oilForm}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.oilFormData,stripe:"",border:"",size:"mini"}},[o("el-table-column",{attrs:{label:e.$t("voyageOil.oilType"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.oilName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Statistics.FuelConsumption"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("el-input",{staticClass:"el_input",attrs:{readonly:e.readOnly},model:{value:a.consTons,callback:function(t){e.$set(a,"consTons",t)},expression:"row.consTons"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyageOil.outOil"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("el-input",{staticClass:"el_input",attrs:{readonly:e.readOnly},model:{value:a.outTons,callback:function(t){e.$set(a,"outTons",t)},expression:"row.outTons"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyageOil.outOilTime"),align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("el-date-picker",{staticClass:"el_input",staticStyle:{width:"90%"},attrs:{type:"datetime",placeholder:e.$t("MRV.Selectdatetime"),disabled:e.readOnly,"picker-options":e.pickerOptionsEndportTemp,format:"yyyy-MM-dd HH:mm"},model:{value:a.outTm,callback:function(t){e.$set(a,"outTm",t)},expression:"row.outTm"}})]}}])})],1)],1)},i=[],r=o("bff4"),s={name:"OilTons",props:{times:{},timeEnd:{},editStatus:{type:String,default:""},portEditRowId:{type:String,default:""},stabel:{type:String,default:""}},data:function(){var e=this;return{pickerOptionsEndportTemp:{disabledDate:function(t){var o=e.times,a=e.timeEnd;if(o&&a)return t.getTime()<new Date(o).getTime()-864e5||t.getTime()>new Date(a).getTime()}},shipId:"",oilTons:[],readOnly:!1,oilFormData:[],tempOilFormdata:[],oilRules:{},oilForm:{}}},watch:{shipId:function(e){e?this.getFuelList(e):this.initsave()}},created:function(){this.oilFormData=[],this.tempOilFormdata=[]},methods:{initsave:function(){var e=this,t=[],o=[];Object(r["x"])().then((function(a){var i=!0,r=!1,s=void 0;try{for(var l,n=a.data.data.items[Symbol.iterator]();!(i=(l=n.next()).done);i=!0){var p=l.value,d={id:"",oilId:"",oilName:"",arrTons:0,deptTons:0,addTons:0,addBillNo:"",addTm:null,outTons:0,outTm:null,correctTons:0,consTons:0},c={id:"",oilId:"",oilName:"",arrTons:0,deptTons:0,addTons:0,addBillNo:"",addTm:null,outTons:0,outTm:null,correctTons:0,consTons:0};d.id=p.id,d.oilId=p.fuelCode,d.oilName=p.fuelName,c.id=p.id,c.oilId=p.fuelCode,c.oilName=p.fuelName,t.push(d),o.push(c)}}catch(f){r=!0,s=f}finally{try{i||null==n.return||n.return()}finally{if(r)throw s}}if(e.oilFormData=t,e.tempOilFormdata=o,e.oilTons.length>0){var m=e.oilTons.map((function(e){return e.oilId})),u=e.oilFormData.filter((function(e){return!m.some((function(t){return t===e.oilId}))}));e.oilFormData=u.concat(e.oilTons)}}))},initDat:function(){this.oilFormData.length=0,this.tempOilFormdata.length=0},getFuelList:function(e){var t=this;Object(r["h"])(e).then((function(e){if(0==e.data.data.length)t.initsave();else{var o=[],a=[];if(e.data.data.forEach((function(e){var t={id:"",oilId:"",oilName:"",arrTons:0,deptTons:0,addTons:0,addBillNo:"",addTm:null,outTons:0,outTm:null,consTons:0},i={id:"",oilId:"",oilName:"",arrTons:0,deptTons:0,addTons:0,addBillNo:"",addTm:null,outTons:0,outTm:null,consTons:0};t.consTons=e.consTons,t.id=e.id,t.oilId=e.fuelCode,t.oilName=e.fuelName,i.id=e.id,i.oilId=e.fuelCode,i.oilName=e.fuelName,i.consTons=e.consTons,o.push(t),a.push(i)})),t.oilFormData=o,t.tempOilFormdata=a,t.oilTons.length>0){var i=t.oilTons.map((function(e){return e.oilId})),r=t.oilFormData.filter((function(e){return!i.some((function(t){return t===e.oilId}))}));t.oilFormData=r.concat(t.oilTons)}}}))}}},l=s,n=(o("6340"),o("2877")),p=Object(n["a"])(l,a,i,!1,null,null,null);t["default"]=p.exports},eb0d:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("div",{staticClass:"filter-container"},[o("div",{staticStyle:{display:"inline-block"}},[o("label",{staticClass:"radio-label",staticStyle:{"padding-left":"15px"}},[e._v(e._s(e.$t("voyage.searchShipCompany")))]),e._v(" "),o("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:e.$t("common.inputRemind")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.shipComPany,callback:function(t){e.shipComPany=t},expression:"shipComPany"}}),e._v(" "),o("el-button",{attrs:{plain:""},on:{click:e.selectShipComPany}},[e._v(e._s(e.$t("common.select")))]),e._v(" "),o("label",{staticClass:"radio-label",staticStyle:{"padding-left":"20px"}},[e._v(e._s(e.$t("voyage.searchShip")))]),e._v(" "),o("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:e.$t("common.inputRemind")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.shipNameOrImoOrRegisterNo,callback:function(t){e.$set(e.listQuery,"shipNameOrImoOrRegisterNo",t)},expression:"listQuery.shipNameOrImoOrRegisterNo"}})],1),e._v(" "),o("div",{staticStyle:{display:"inline-block"}},[o("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v(e._s(e.$t("voyage.searchVoyageName")))]),e._v(" "),o("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:e.$t("common.inputRemind")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.volageCode,callback:function(t){e.$set(e.listQuery,"volageCode",t)},expression:"listQuery.volageCode"}}),e._v(" "),o("div",{staticStyle:{display:"inline-block"}},[o("label",{staticClass:"radio-label",staticStyle:{"padding-left":"100px"}},[e._v(e._s(e.$t("voyage.searchVoyageTime")))]),e._v(" "),o("el-date-picker",{staticStyle:{width:"130px"},attrs:{editable:!0,type:"date",align:"left",placeholder:e.$t("common.datePickerRemind")},model:{value:e.listQuery.startTime,callback:function(t){e.$set(e.listQuery,"startTime",t)},expression:"listQuery.startTime"}}),e._v("\n        ~\n        "),o("el-date-picker",{staticStyle:{width:"130px"},attrs:{editable:!0,type:"date",align:"left",placeholder:e.$t("common.datePickerRemind")},model:{value:e.listQuery.endTime,callback:function(t){e.$set(e.listQuery,"endTime",t)},expression:"listQuery.endTime"}})],1),e._v(" "),o("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"},attrs:{icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("common.search")))]),e._v(" "),o("el-button",{staticClass:"filter-item",attrs:{type:"info",icon:"el-icon-setting"},on:{click:e.handleResetFilter}},[e._v(e._s(e.$t("common.reset")))])],1)]),e._v(" "),o("div",{staticClass:"optionBar"},[o("h3",{staticClass:"item-tit",staticStyle:{float:"left"}},[e._v(e._s(e.$t("voyage.Voyagesegmentinformation")))]),e._v(" "),o("div",{staticStyle:{float:"right"}},[o("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.handleCreatePort}},[e._v(e._s(e.$t("voyage.btnAddPort")))]),e._v(" "),o("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.handleCreateDrift}},[e._v(e._s(e.$t("voyage.btnAddDrift")))]),e._v(" "),o("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.handleCreateSpec}},[e._v(e._s(e.$t("voyage.btnAddSpec")))]),e._v(" "),o("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-setting"},on:{click:e.handleGeneratorVolage}},[e._v(e._s(e.$t("voyage.generatorVolage")))])],1)]),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"},{name:"adaptive",rawName:"v-adaptive",value:{bottomOffset:228},expression:"{bottomOffset: 228}"}],ref:"singleTable",staticStyle:{width:"100%",overflow:"auto",height:"auto"},attrs:{data:e.dataTreeGrid,border:"",fit:"",height:"95px","highlight-current-row":"","row-style":{height:"35px"},"cell-style":{padding:"0"},"tree-props":{children:"children",hasChildren:!0},"row-key":"id"},on:{"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyage.voyageLegCode"),width:"120px","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0!==t.row.volageAndSegmentType&&0===t.row.voyType?o("el-tag",{staticStyle:{visibility:"hidden"},attrs:{type:"success"}},[e._v("EU")]):e._e(),e._v(" "),1===t.row.volageAndSegmentType&&1===t.row.voyType?o("el-tag",{attrs:{type:"success"}},[e._v("EU")]):e._e(),e._v(" "),o("span",[e._v(e._s(t.row.volageCode))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyage.imonoAndRegistNo"),"show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.imo)+"/"+e._s(a.registerNo))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyage.shipNameView"),"show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.shipNameCn)+"/"+e._s(a.shipNameEn))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("MRV.departure"),"show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.startPortEn))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("MRV.destination"),"show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.endPortEn))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyage.Startingandendingtime")+"(UTC)",width:"250px",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(e._f("datesformat")(a.startTime,"YYYY-MM-DD HH:mm")))]),e._v("\n        "+e._s(e.$t("voyage.voyageTo"))+"\n        "),o("span",[e._v(e._s(e._f("datesformat")(a.endTime,"YYYY-MM-DD HH:mm")))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyage.EEOI")+"(g/t·nm)",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.eeoiValue))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyage.CO2Emission")+"(kg/nm)",width:"70px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.carbonDioxideEmission))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyage.speedRatio"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("div",{staticStyle:{display:"flex","align-items":"center"}},[a.dropRatio?o("span",{staticStyle:{width:"50px"}},[e._v(e._s(a.dropRatio)+"%")]):e._e(),e._v(" "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.$t("voyage.Decelerationratio"))+"100%")]),e._v(" "),a.dropRatio>=100?o("svg-icon",{attrs:{"icon-class":"jinggao"}}):e._e()],1)],1)]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyage.LoadUtilization"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("div",{staticStyle:{display:"flex","align-items":"center"}},[a.dropRatio?o("span",{staticStyle:{width:"50px"}},[e._v(e._s(a.capacityUtilization)+"%")]):e._e(),e._v(" "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.$t("voyage.Capacityutilization"))+"150%")]),e._v(" "),a.capacityUtilization>=150?o("svg-icon",{staticStyle:{"margin-left":"5px",color:"red"},attrs:{"icon-class":"jinggao"}}):e._e()],1)],1)]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyage.status"),"class-name":"status-col",width:"70",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[null!==a.recStatus&&"0"!==a.recStatus?o("svg-icon",{staticStyle:{color:"#67C23A","font-size":"12px"},attrs:{"icon-class":"lock"}}):e._e(),e._v(" "),null!==a.recStatus&&"0"===a.recStatus?o("svg-icon",{staticStyle:{color:"#F56C6C","font-size":"14px"},attrs:{"icon-class":"unlock"}}):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("common.operate"),align:"left",width:"250","class-name":"small-padding fixed-width","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return["1"===a.recStatus&&0===a.volageAndSegmentType?o("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleModifyStatus(a)}}},[e._v(e._s(e.$t("voyage.btnUnLock")))]):e._e(),e._v(" "),"0"===a.recStatus&&0===a.volageAndSegmentType?o("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.handleModifyStatus(a)}}},[e._v(e._s(e.$t("voyage.btnLock")))]):e._e(),e._v(" "),0===a.volageAndSegmentType?o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDeleteVoyage(a)}}},[e._v(e._s(e.$t("common.delete")))]):e._e(),e._v(" "),1===a.volageAndSegmentType?o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlDetail(a)}}},[e._v(e._s(e.$t("common.detail")))]):e._e()]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.currentPage,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"currentPage",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),o("div",[o("el-tabs",{model:{value:e.activeSpectName,callback:function(t){e.activeSpectName=t},expression:"activeSpectName"}},[o("el-tab-pane",{attrs:{label:e.$t("voyagePort.arrival"),name:"first"}},[o("el-table",{staticStyle:{width:"100%",overflow:"auto"},attrs:{data:e.portlist,height:"155px",border:"","highlight-current-row":"","row-style":{height:"35px"},"cell-style":{padding:"0"}}},[o("el-table-column",{attrs:{label:e.$t("voyagePort.NameCn"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.portNameCn))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyagePort.NameEn"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.portName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyagePort.inPort"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.inPort?e.$t("voyagePort.boundary"):e.$t("voyagePort.Outside")))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyagePort.arrTime")+"(UTC)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(e._f("datesformat")(a.localArrivalTime,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyagePort.deptTime")+"(UTC)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(e._f("datesformat")(a.localFormThePortTime,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyagePort.objective"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return e._l(a.portWork,(function(t,a){return o("div",{key:a},["0"===t?o("span",[e._v(e._s(e.$t("voyagePort.loading")))]):e._e(),e._v(" "),"1"===t?o("span",[e._v(e._s(e.$t("voyagePort.discharge")))]):e._e(),e._v(" "),"2"===t?o("span",[e._v(e._s(e.$t("voyagePort.shipbarge")))]):e._e(),e._v(" "),"3"===t?o("span",[e._v(e._s(e.$t("voyagePort.Waiting")))]):e._e(),e._v(" "),"4"===t?o("span",[e._v(e._s(e.$t("voyagePort.Fueling")))]):e._e(),e._v(" "),"5"===t?o("span",[e._v(e._s(e.$t("voyagePort.supply")))]):e._e(),e._v(" "),"6"===t?o("span",[e._v(e._s(e.$t("voyagePort.repair")))]):e._e(),e._v(" "),"7"===t?o("span",[e._v(e._s(e.$t("voyagePort.Replacement")))]):e._e(),e._v(" "),"8"===t?o("span",[e._v(e._s(e.$t("voyagePort.Risk")))]):e._e(),e._v(" "),"9"===t?o("span",[e._v(e._s(e.$t("voyagePort.Other")))]):e._e()])}))}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyagePort.distance"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.distance))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("common.operate"),align:"center",width:"230","class-name":"small-padding fixed-width","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpdatePort(a)}}},[e._v(e._s(e.$t("common.edit")))]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleDetailPort(a)}}},[e._v(e._s(e.$t("common.detail")))]),e._v(" "),"1"!==a.recStatus?o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDeletePort(a)}}},[e._v(e._s(e.$t("common.delete")))]):e._e()]}}])})],1)],1),e._v(" "),o("el-tab-pane",{attrs:{label:e.$t("voyagePort.iceOrRescue"),name:"second"}},[o("el-table",{staticStyle:{width:"100%",overflow:"auto"},attrs:{data:e.speclist,height:"155px",border:"","highlight-current-row":"","row-style":{height:"35px"},"cell-style":{padding:"0"}}},[o("el-table-column",{attrs:{label:e.$t("voyageSpec.recordType"),align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s("1"===a.recodeType?e.$t("voyage.rescue"):e.$t("voyage.Icenavigation")))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyageSpec.beginTime")+"(UTC)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(e._f("datesformat")(a.iceStartTime,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyageSpec.endTime")+"(UTC)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(e._f("datesformat")(a.iceEndTime,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyageSpec.specDistance"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.distance))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyageSpec.hfo"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.hfo))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyageSpec.lfo"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.lfo))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyageSpec.dieselOil"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.diesel))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("voyageSpec.otherfo"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("span",[e._v(e._s(a.otherOil))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("common.operate"),align:"center",width:"230","class-name":"small-padding fixed-width","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpdateSpec(a)}}},[e._v(e._s(e.$t("common.edit")))]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleDetailSpec(a)}}},[e._v(e._s(e.$t("common.detail")))]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDeleteSpec(a)}}},[e._v(e._s(e.$t("common.delete")))])]}}])})],1)],1)],1)],1),e._v(" "),o("el-dialog",{attrs:{title:e.$t("voyage.voyageEditText"),visible:e.voyagedialogFormVisible,"close-on-click-modal":!1,width:"80%","append-to-body":!0},on:{"update:visible":function(t){e.voyagedialogFormVisible=t}}},[o("el-form",{ref:"voyagedataForm",staticStyle:{width:"400px","margin-left":"20px"},attrs:{rules:e.voyageRules,model:e.voyageTemp,"label-position":"left","label-width":"70px"}},[o("el-form-item",{attrs:{"label-width":"150px",label:e.$t("voyage.shipName"),prop:"shipName"}},[o("el-input",{staticStyle:{width:"250px"},model:{value:e.voyageTemp.shipName,callback:function(t){e.$set(e.voyageTemp,"shipName",t)},expression:"voyageTemp.shipName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("voyage.voyageCode"),prop:"voyageCode","label-width":"150px"}},[o("el-input",{staticStyle:{width:"250px"},model:{value:e.voyageTemp.voyageCode,callback:function(t){e.$set(e.voyageTemp,"voyageCode",t)},expression:"voyageTemp.voyageCode"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.voyagedialogFormVisible=!1}}},[e._v(e._s(e.$t("common.close")))]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.voyagedialogStatus?e.createVoyageData():e.updateVoyageData()}}},[e._v(e._s(e.$t("common.save")))])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:e.$t("voyage.batchImportText"),visible:e.batchImportFormVisible,"close-on-click-modal":!1,width:"80%","append-to-body":!0},on:{"update:visible":function(t){e.batchImportFormVisible=t}}},[o("el-form",{staticStyle:{width:"400px","margin-left":"20px"},attrs:{"label-width":"70px"}}),e._v(" "),o("uploadFiles"),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.batchImportFormVisible=!1}}},[e._v(e._s(e.$t("common.close")))]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.batchImportStatus?e.createVoyageData():e.updateVoyageData()}}},[e._v(e._s(e.$t("common.save")))])],1)],1),e._v(" "),o("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.$t("voyage.portEditText"),visible:e.portdialogFormVisible,"close-on-click-modal":!1,"append-to-body":!0,"custom-class":"customwh",width:"80%"},on:{"update:visible":function(t){e.portdialogFormVisible=t}}},[o("el-form",{ref:"portdataForm",attrs:{rules:e.portRules,model:e.portTemp,"label-position":"left","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.NameEn")}},[o("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.readOnly},model:{value:e.portTemp.porten,callback:function(t){e.$set(e.portTemp,"porten",t)},expression:"portTemp.porten"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.NameCn")}},[o("el-input",{attrs:{readonly:e.readOnly},model:{value:e.portTemp.portcn,callback:function(t){e.$set(e.portTemp,"portcn",t)},expression:"portTemp.portcn"}},[o("i",{attrs:{slot:"suffix"},slot:"suffix"},[o("el-button",{attrs:{plain:""},on:{click:e.selectPort}},[e._v(e._s(e.$t("common.select")))])],1)])],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("ship.selectShip"),prop:"shipName"}},[o("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:!0},model:{value:e.portTemp.shipName,callback:function(t){e.$set(e.portTemp,"shipName",t)},expression:"portTemp.shipName"}},[o("i",{attrs:{slot:"suffix"},slot:"suffix"},[o("el-button",{attrs:{plain:""},on:{click:e.selectShip}},[e._v(e._s(e.$t("common.select")))])],1)])],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyage.Whetherthvoyagehandoverport")}},[o("el-switch",{model:{value:e.ridiosfalg,callback:function(t){e.ridiosfalg=t},expression:"ridiosfalg"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.firstVolageCode"),prop:"firstVolageCode"}},[o("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.readOnly},model:{value:e.portTemp.firstVolageCode,callback:function(t){e.$set(e.portTemp,"firstVolageCode",t)},expression:"portTemp.firstVolageCode"}})],1)],1),e._v(" "),e.ridiosfalg?o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.secondVolageCode"),prop:"secondVolageCode"}},[o("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.readOnly},model:{value:e.portTemp.secondVolageCode,callback:function(t){e.$set(e.portTemp,"secondVolageCode",t)},expression:"portTemp.secondVolageCode"}})],1)],1):e._e(),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.arrTime"),prop:"arrTm"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"datetime",placeholder:e.$t("common.dateTimeRemind"),format:"yyyy-MM-dd HH:mm"},model:{value:e.portTemp.arrTm,callback:function(t){e.$set(e.portTemp,"arrTm",t)},expression:"portTemp.arrTm"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.arrZone"),prop:"arrZone"}},[o("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("common.selectRemind")},on:{change:e.changePortZone},model:{value:e.portTemp.arrZone,callback:function(t){e.$set(e.portTemp,"arrZone",t)},expression:"portTemp.arrZone"}},e._l(e.ZoneOptions,(function(e){return o("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.deptTime"),prop:"deptTm"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"datetime",placeholder:e.$t("common.dateTimeRemind"),format:"yyyy-MM-dd HH:mm"},model:{value:e.portTemp.deptTm,callback:function(t){e.$set(e.portTemp,"deptTm",t)},expression:"portTemp.deptTm"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.deptZone"),prop:"deptZone"}},[o("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("common.selectRemind")},model:{value:e.portTemp.deptZone,callback:function(t){e.$set(e.portTemp,"deptZone",t)},expression:"portTemp.deptZone"}},e._l(e.ZoneOptions,(function(e){return o("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.distance"),prop:"distance"}},[o("el-input",{attrs:{type:"number",min:"",readonly:e.readOnly},model:{value:e.portTemp.distance,callback:function(t){e.$set(e.portTemp,"distance",e._n(t))},expression:"portTemp.distance"}},[o("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("nm")])])],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.inPort"),prop:"inPort"}},[o("el-switch",{model:{value:e.portTemp.inPort,callback:function(t){e.$set(e.portTemp,"inPort",t)},expression:"portTemp.inPort"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.objective")}},[o("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.selectRemind"),"multiple-limit":10,multiple:""},model:{value:e.portTemp.anchorPurpose,callback:function(t){e.$set(e.portTemp,"anchorPurpose",t)},expression:"portTemp.anchorPurpose"}},e._l(e.objectiveOptions,(function(e){return o("el-option",{key:e.key,attrs:{label:e.display_name,value:e.id}})})),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.shorePower"),prop:"shorePower"}},[o("el-input",{attrs:{readonly:e.readOnly},model:{value:e.portTemp.shorePower,callback:function(t){e.$set(e.portTemp,"shorePower",e._n(t))},expression:"portTemp.shorePower"}},[o("i",{staticStyle:{color:"red"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("KWH")])])],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.isEU")}},[o("el-switch",{model:{value:e.portTemp.isEu,callback:function(t){e.$set(e.portTemp,"isEu",t)},expression:"portTemp.isEu"}})],1)],1)],1)],1),e._v(" "),o("el-row",[o("el-tabs",{staticStyle:{height:"100%","overflow-y":"auto","overflow-x":"hidden"},attrs:{value:"first",type:"border-card"}},[o("el-tab-pane",{attrs:{label:e.$t("voyageOil.Arrivalcargo"),name:"first"}},[o("arrCargoInfo",{ref:"arrCargoInfo",attrs:{"edit-status":this.portdialogStatus,"port-edit-row-id":this.portEditRowId}})],1),e._v(" "),o("el-tab-pane",{attrs:{label:e.$t("voyageOil.Departurecargo"),name:"second"}},[o("deptCargoInfo",{ref:"deptCargoInfo",attrs:{"edit-status":this.portdialogStatus,"port-edit-row-id":this.portEditRowId}})],1)],1)],1),e._v(" "),o("el-row",[o("el-tabs",{staticStyle:{height:"100%","overflow-y":"auto","overflow-x":"hidden"},attrs:{value:"one",type:"border-card"}},[o("el-tab-pane",{attrs:{label:e.$t("voyageOil.arrDeptPortOil"),name:"one"}},[e.portdialogFormVisible?o("oilTons",{ref:"oilTons",attrs:{times:e.times,"time-end":e.timeEnd,stabel:e.stabel,"edit-status":this.portdialogStatus,"port-edit-row-id":this.portEditRowId,"port-row-model":this.portRowModel}}):e._e()],1),e._v(" "),o("el-tab-pane",{attrs:{label:e.$t("voyageOil.addOil"),name:"two"}},[e.portdialogFormVisible?o("Fuelquantity",{ref:"Fuelquantity",attrs:{times:e.times,"time-end":e.timeEnd,"edit-status":e.Fuelquantity},on:{fuelquantity:e.fuelquantity}}):e._e()],1),e._v(" "),o("el-tab-pane",{attrs:{label:e.$t("voyageOil.outOil"),name:"star"}},[e.portdialogFormVisible?o("Bargeoilvolume",{ref:"Bargeoilvolume",attrs:{times:e.times,"time-end":e.timeEnd}}):e._e()],1),e._v(" "),o("el-tab-pane",{attrs:{label:e.$t("voyageOil.barge"),name:"tvit"}},[e.portdialogFormVisible?o("bargeInfo",{ref:"bargeInfo",attrs:{times:e.times,"time-end":e.timeEnd}}):e._e()],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.portdialogFormVisible=!1}}},[e._v(e._s(e.$t("common.close")))]),e._v(" "),e.readOnly?e._e():o("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.portdialogStatus?e.createPortData():e.updatePortData()}}},[e._v(e._s(e.$t("common.save")))])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:e.$t("voyage.driftEditText"),visible:e.driftdialogFormVisible,"close-on-click-modal":!1,"append-to-body":!0,width:"80%"},on:{"update:visible":function(t){e.driftdialogFormVisible=t}}},[o("el-form",{ref:"driftdataForm",attrs:{rules:e.driftTempRules,model:e.driftTemp,"label-position":"left","label-width":"200px"}},[o("el-row",[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:e.$t("voyageSpec.recordType"),"label-width":"100px"}},[o("el-radio-group",{staticStyle:{width:"200px"},model:{value:e.driftTemp.recordType,callback:function(t){e.$set(e.driftTemp,"recordType",t)},expression:"driftTemp.recordType"}},[o("span",{staticClass:"anchoring_pm",on:{click:function(t){return e.anchoring(1)}}},[o("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("voyageOil.Anchoringontheway")))])],1),e._v(" "),o("span",{on:{click:function(t){return e.anchoring(2)}}},[o("el-radio",{attrs:{label:2}},[e._v(e._s(e.$t("voyageOil.Floatingontheway")))])],1)])],1)],1),e._v(" "),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:e.$t("ship.selectShip"),prop:"shipName"}},[o("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:e.$t("common.inputRemind"),readonly:!0},model:{value:e.driftTemp.shipName,callback:function(t){e.$set(e.driftTemp,"shipName",t)},expression:"driftTemp.shipName"}},[o("i",{attrs:{slot:"suffix"},slot:"suffix"},[o("el-button",{attrs:{plain:""},on:{click:e.selectShip}},[e._v(e._s(e.$t("common.select")))])],1)])],1)],1),e._v(" "),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.volageCode"),prop:"firstVolageCode"}},[o("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.readOnly},model:{value:e.driftTemp.firstVolageCode,callback:function(t){e.$set(e.driftTemp,"firstVolageCode",t)},expression:"driftTemp.firstVolageCode"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:7}},[o("el-form-item",{attrs:{label:e.$t("voyageSpec.beginTime"),"label-width":"150px",prop:"arrTm"}},[o("el-date-picker",{staticStyle:{width:"150px"},attrs:{editable:!0,type:"datetime",placeholder:e.$t("common.dateTimeRemind"),align:"left",format:"yyyy-MM-dd HH:mm"},model:{value:e.driftTemp.arrTm,callback:function(t){e.$set(e.driftTemp,"arrTm",t)},expression:"driftTemp.arrTm"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.startZone"),"label-width":"100px",prop:"arrZone"}},[o("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{filterable:"",placeholder:e.$t("common.selectRemind")},on:{change:e.changeDriftZone},model:{value:e.driftTemp.arrZone,callback:function(t){e.$set(e.driftTemp,"arrZone",t)},expression:"driftTemp.arrZone"}},e._l(e.ZoneOptions,(function(e){return o("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:7}},[o("el-form-item",{attrs:{label:e.$t("voyageSpec.endTime"),"label-width":"150px",prop:"deptTm"}},[o("el-date-picker",{staticStyle:{width:"150px"},attrs:{editable:!0,type:"datetime",placeholder:e.$t("common.dateTimeRemind"),align:"left",format:"yyyy-MM-dd HH:mm"},model:{value:e.driftTemp.deptTm,callback:function(t){e.$set(e.driftTemp,"deptTm",t)},expression:"driftTemp.deptTm"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.endZone"),"label-width":"100px",prop:"deptZone"}},[o("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{filterable:"",placeholder:e.$t("common.selectRemind")},model:{value:e.driftTemp.deptZone,callback:function(t){e.$set(e.driftTemp,"deptZone",t)},expression:"driftTemp.deptZone"}},e._l(e.ZoneOptions,(function(e){return o("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1)],1),e._v(" "),e.Anchoringontheway?o("el-row",[o("el-tabs",{staticStyle:{height:"100%","overflow-y":"auto","overflow-x":"hidden"},attrs:{value:"two",type:"border-card"}},[o("el-tab-pane",{attrs:{label:e.$t("voyageOil.addOil"),name:"two"}},[e.driftdialogFormVisible?o("Fuelquantity",{ref:"Fuelquantity",attrs:{times:e.times,"time-end":e.timeEnd},on:{fuelquantity:e.fuelquantity}}):e._e()],1),e._v(" "),o("el-tab-pane",{attrs:{label:e.$t("voyageOil.Bargeoilvolume"),name:"star"}},[e.driftdialogFormVisible?o("Bargeoilvolume",{ref:"Bargeoilvolume",attrs:{times:e.times,"time-end":e.timeEnd}}):e._e()],1),e._v(" "),o("el-tab-pane",{attrs:{label:e.$t("voyageOil.residuequantity"),name:"tvit"}},[e.driftdialogFormVisible?o("bargeInfo",{ref:"driftbargeInfo",attrs:{times:e.times,"time-end":e.timeEnd}}):e._e()],1)],1)],1):e._e()],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.driftdialogFormVisible=!1}}},[e._v(e._s(e.$t("common.close")))]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createDriftData()}}},[e._v(e._s(e.$t("common.save")))])],1)],1),e._v(" "),o("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{height:"80%"},attrs:{title:e.$t("voyage.specEditText"),visible:e.specdialogFormVisible,"close-on-click-modal":!1,"custom-class":"customwh","append-to-body":!0},on:{"update:visible":function(t){e.specdialogFormVisible=t}}},[o("el-form",{ref:"specdataForm",attrs:{rules:e.specTempRules,model:e.specTemp,"label-position":"left","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyageSpec.recordType")}},[o("el-radio-group",{model:{value:e.specTemp.recordType,callback:function(t){e.$set(e.specTemp,"recordType",t)},expression:"specTemp.recordType"}},[o("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("voyage.Icenavigation")))]),e._v(" "),o("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("voyage.Rescue")))])],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-form-item",{attrs:{label:e.$t("ship.selectShip"),prop:"shipName"}},[o("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:!0},model:{value:e.specTemp.shipName,callback:function(t){e.$set(e.specTemp,"shipName",t)},expression:"specTemp.shipName"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:1}},[o("el-button",{attrs:{plain:""},on:{click:e.selectShip}},[e._v(e._s(e.$t("common.select")))])],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.volageCode"),prop:"voyageCode"}},[o("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.specReadOnly},model:{value:e.specTemp.voyageCode,callback:function(t){e.$set(e.specTemp,"voyageCode",t)},expression:"specTemp.voyageCode"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.specDistance"),prop:"distance"}},[o("el-input",{attrs:{placeholder:e.$t("common.inputRemind"),readonly:e.specReadOnly},model:{value:e.specTemp.distance,callback:function(t){e.$set(e.specTemp,"distance",e._n(t))},expression:"specTemp.distance"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyageSpec.beginTime"),prop:"beginTm"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:e.$t("common.dateTimeRemind")},model:{value:e.specTemp.beginTm,callback:function(t){e.$set(e.specTemp,"beginTm",t)},expression:"specTemp.beginTm"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.startZone"),prop:"beginZone"}},[o("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("common.selectRemind")},on:{change:e.changeSpecZone},model:{value:e.specTemp.beginZone,callback:function(t){e.$set(e.specTemp,"beginZone",t)},expression:"specTemp.beginZone"}},e._l(e.ZoneOptions,(function(e){return o("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyageSpec.endTime"),prop:"endTm"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!0,type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:e.$t("common.dateTimeRemind")},model:{value:e.specTemp.endTm,callback:function(t){e.$set(e.specTemp,"endTm",t)},expression:"specTemp.endTm"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("voyagePort.endZone"),prop:"endZone"}},[o("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("common.selectRemind")},model:{value:e.specTemp.endZone,callback:function(t){e.$set(e.specTemp,"endZone",t)},expression:"specTemp.endZone"}},e._l(e.ZoneOptions,(function(e){return o("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1)],1)],1),e._v(" "),o("el-row",[e.specdialogFormVisible?o("oilTonscopy",{ref:"oilTonscopy",attrs:{times:e.times,"time-end":e.timeEnd,"edit-status":e.portdialogStatus,"port-edit-row-id":e.portEditRowId,"port-row-model":{portRowModel:e.portRowModel}}}):e._e()],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.specdialogFormVisible=!1}}},[e._v(e._s(e.$t("common.close")))]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.specdialogStatus?e.createData():e.updateSpecData()}}},[e._v("\n        "+e._s(e.$t("common.save"))+"\n      ")])],1)],1),e._v(" "),e.shipComPanyNamevicode.dalog?o("indexDatil",{attrs:{"ship-com-pany-namevicode":e.shipComPanyNamevicode},on:{shipComPanyNameData:e.shipComPanyNameData}}):e._e(),e._v(" "),o("shipSelect",{ref:"shipSelect"}),e._v(" "),o("portSelect",{ref:"portSelect"}),e._v(" "),o("ShipComPanySelect",{ref:"shipComPanySelect"})],1)},i=[],r=o("97e4"),s=o("d3e7"),l=o("a441"),n=o("333d"),p=o("f2ea"),d=o("3e84"),c=o("9606"),m=o("1593"),u=o("c061"),f=o("1905"),h=o("c297"),g=o("066f"),y=o("cd38"),v=o("e244"),T=o("0b96"),b=o("bff4"),_=o("2e0b"),$=[{key:-8,display_name:"-8"},{key:0,display_name:"0"},{key:8,display_name:"8"}],S=[{key:"0",display_name:"港界内"},{key:"1",display_name:"港界外"}],w=[{key:"1",id:"0",display_name:"装货/登离乘客"},{key:"2",id:"1",display_name:"卸货/登离乘客"},{key:"3",id:"2",display_name:"船对船驳装/卸"},{key:"4",id:"3",display_name:"等待泊位"},{key:"5",id:"4",display_name:"加装燃料"},{key:"6",id:"5",display_name:"补给"},{key:"7",id:"6",display_name:"修理"},{key:"8",id:"7",display_name:"更换船员"},{key:"9",id:"8",display_name:"避险"},{key:"10",id:"9",display_name:"其他原因"}],O={name:"EnergyEfficiencys",components:{ElRow:_["a"],Pagination:n["a"],arrCargoInfo:p["default"],deptCargoInfo:d["default"],oilTons:c["default"],uploadFiles:u["default"],shipSelect:f["a"],portSelect:h["a"],ShipComPanySelect:g["a"],Fuelquantity:y["default"],Bargeoilvolume:v["default"],bargeInfo:T["default"],indexDatil:l["default"],oilTonscopy:s["default"]},directives:{adaptive:m["a"]},filters:{statusFilter:function(e){var t={0:"lock",1:"unlock",null:"--"};return t[e]}},data:function(){var e=this,t=function(t,o,a){""!==o&&""===e.portTemp.firstVolageCode?a(new Error("Please input the arrival voyage number.")):a()};return{ranyoucode:[],ridiosfalg:!1,value:"",stabel:"",shipComPanyNamevicode:{dalog:!1,id:""},pickerOptionsStartport:{},pickerOptionsEndport:{},timeEnd:"",times:"",codeShip:"",codest:"",objectiveId:[],pickerOptionsStartportTemp:{},pickerOptionsEndportTemp:{},pickerOptionsStart:{},pickerOptionsEnd:{},Fuelquantity:"",multipleSelection:[],specOilForm:{},shipComPany:"",speclist:[],activeSpectName:"first",oilFormData:[],specOilFormData:[],specTempOilFormData:[],lockStatus:0,readOnly:!1,specReadOnly:!1,Anchoringontheway:!0,portlist:[],dataTreeGrid:[],total:0,listLoading:!0,portListLoading:!0,listQuery:{currentPage:1,pageSize:20,shipComPanyName:"",shipNameOrImoOrRegisterNo:"",volageCode:"",startTime:null,endTime:null},ZoneOptions:$,inPortOptions:S,objectiveOptions:w,voyageTemp:{id:void 0,shipName:"",voyageCode:""},portTemp:{id:"",shipId:"",shipName:"",firstVolageCode:"",secondVolageCode:"",portid:"",porten:"",portcn:"",arrTm:null,arrZone:0,deptTm:null,deptZone:0,isEu:!1,inPort:!1,distance:0,anchorPurpose:[],recordType:"0",shorePower:0,portOilInfos:[],volagePortLoadingInfos:[],voyagePortAddOilDtos:[],voyagePortOutOilDtos:[],voyagePortOutSulageOilDtos:[]},portEditRowId:"",portRowModel:[],pickerOptionsStartDa:{},pickerOptionsEndDa:{},driftTemp:{id:"",porten:"anchor",portcn:"抛锚",shipId:"",shipName:"",firstVolageCode:"",arrTm:null,arrZone:0,deptZone:0,deptTm:null,recordType:1,portOilInfos:[],volagePortLoadingInfos:[],voyagePortAddOilDtos:[],voyagePortOutOilDtos:[],voyagePortOutSulageOilDtos:[]},specTemp:{id:"",shipId:"",shipName:"",voyageCode:"",distance:0,recordType:0,beginZone:0,endZone:0,beginTm:null,endTm:null,volageSpecCons:[]},portdialogFormVisible:!1,driftdialogFormVisible:!1,voyagedialogFormVisible:!1,specdialogFormVisible:!1,batchImportFormVisible:!1,voyagedialogStatus:"",portdialogStatus:"",driftdialogStatus:"",specdialogStatus:"",batchImportStatus:"",rowlist:"",voyageRules:{voyageCode:[{required:!0,message:"必填项",trigger:"blur"}],shipName:[{required:!0,message:"必填项",trigger:"blur"}]},portRules:{porten:[{required:!0,message:"必填项",trigger:"change"}],portcn:[{required:!0,message:"必填项",trigger:"change"}],firstVolageCode:[{required:!0,message:"必填项",trigger:"change"}],arrTm:[{required:!0,message:"必填项",trigger:"change"}],arrZone:[{required:!0,message:"必填项",trigger:"change"}],deptTm:[{required:!0,message:"必填项",trigger:"change"}],deptZone:[{required:!0,message:"必填项",trigger:"change"}],inPort:[{required:!0,message:"必填项",trigger:"change"}],distance:[{type:"number",message:"航程必须为数字值"},{required:!0,message:"必填项"}],shorePower:[{type:"number",message:"岸电消耗量必须为数字值"}],shipName:[{required:!0,message:"必填项",trigger:"change"}],secondVolageCode:[{validator:t,trigger:"blur"}]},driftTempRules:{firstVolageCode:[{required:!0,message:"必填项",trigger:"change"}],shipName:[{required:!0,message:"必填项",trigger:"change"}],arrTm:[{required:!0,message:"必填项",trigger:"change"}],arrZone:[{required:!0,message:"必填项",trigger:"change"}],deptZone:[{required:!0,message:"必填项",trigger:"change"}],deptTm:[{required:!0,message:"必填项",trigger:"change"}]},specTempRules:{distance:[{type:"number",message:"航程必须为数字值"},{required:!0,message:"必填项"}],voyageCode:[{required:!0,message:"必填项",trigger:"change"}],shipName:[{required:!0,message:"必填项",trigger:"change"}],beginTm:[{required:!0,message:"必填项",trigger:"change"}],beginZone:[{required:!0,message:"必填项",trigger:"change"}],endZone:[{required:!0,message:"必填项",trigger:"change"}],endTm:[{required:!0,message:"必填项",trigger:"change"}]}}},created:function(){this.getList(),this.getFuelList(),this.ZoneOptions=this.initZoneOPtions()},methods:{TextWidthChange:function(e){var t=this,o=e.currentTarget.parentNode,a=e.clientX,i=o.offsetHeight;return document.onmousemove=function(e){o.style.Height=i+(e.clientX-a)+"px",o.offsetHeight<=100&&(o.style.Height="100px"),o.offsetHeight+o.offsetLeft>=t.pdfHeight&&(o.style.Height=t.pdfHeight-o.offsettop+"px")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null},e.stopPropagation(),e.preventDefault(),!1},handTime:function(){this.listQuery.startTime=this.value[0],this.listQuery.endTime=this.value[1]},shipComPanyNameData:function(){this.shipComPanyNamevicode.dalog=!1},handlDetail:function(e){this.shipComPanyNamevicode.dalog=!0,this.shipComPanyNamevicode.id=e.id},changeStart:function(){var e=this;this.pickerOptionsEnd=Object.assign({},this.pickerOptionsEnd,{disabledDate:function(t){if(e.listQuery.startTime)return t.getTime()<e.listQuery.startTime}})},changeEnd:function(){var e=this;this.pickerOptionsStart=Object.assign({},this.pickerOptionsStart,{disabledDate:function(t){if(e.listQuery.endTime)return t.getTime()>e.listQuery.endTime-864e5}})},changeStartDa:function(){var e=this;this.times=this.specTemp.beginTm,this.pickerOptionsEndDa=Object.assign({},this.pickerOptionsEndDa,{disabledDate:function(t){if(e.specTemp.beginTm)return t.getTime()<e.specTemp.beginTm}})},changeEndDa:function(){var e=this;this.timeEnd=this.specTemp.endTm,this.pickerOptionsStartDa=Object.assign({},this.pickerOptionsStartDa,{disabledDate:function(t){if(e.specTemp.endTm)return t.getTime()>e.specTemp.endTm-864e5}})},changeStartportTemp:function(){var e=this;this.times=this.portTemp.arrTm,this.pickerOptionsEndportTemp=Object.assign({},this.pickerOptionsEndportTemp,{disabledDate:function(t){if(e.portTemp.arrTm)return t.getTime()<e.portTemp.arrTm}})},changeEndportTemp:function(){var e=this;this.timeEnd=this.portTemp.deptTm,this.pickerOptionsStartportTemp=Object.assign({},this.pickerOptionsStartportTemp,{disabledDate:function(t){if(e.portTemp.deptTm)return t.getTime()>e.portTemp.deptTm-1728e5}})},changeStartport:function(){var e=this;this.times=this.driftTemp.arrTm,this.pickerOptionsEndport=Object.assign({},this.pickerOptionsEndport,{disabledDate:function(t){if(e.driftTemp.arrTm)return t.getTime()<e.driftTemp.arrTm}})},changeEndport:function(){var e=this;this.timeEnd=this.driftTemp.deptTm,this.pickerOptionsStartport=Object.assign({},this.pickerOptionsStartport,{disabledDate:function(t){if(e.driftTemp.deptTm)return t.getTime()>e.driftTemp.deptTm-864e5}})},changePortZone:function(){this.portTemp.deptZone=this.portTemp.arrZone},changeDriftZone:function(){this.driftTemp.deptZone=this.driftTemp.arrZone},changeSpecZone:function(){this.specTemp.endZone=this.specTemp.beginZone},initZoneOPtions:function(){for(var e=[],t=12.5,o="西",a=0;a<49;a++).5===t?(o="",e.push({key:t-=.5,display_name:o+t})):t<.5?(o="西",e.push({key:t-=.5,display_name:o+-t})):t>.5&&(o="东",e.push({key:t-=.5,display_name:o+t}));return e},handleGeneratorVolage:function(){if(0===this.multipleSelection.length)this.$notify({message:"请选择航次",type:"info",duration:2e3});else{var e=this.multipleSelection.every((function(e,t){return"1"===e.recStatus}));e?this.$notify({message:"锁定状态下航次不能生成航次信息",type:"info",duration:2e3}):this.initgentartir()}},initgentartir:function(){var e=this;Object(r["g"])({generatorVoyageDtos:this.multipleSelection}).then((function(t){t.data.result?(e.$notify({title:"Success",message:t.data.data,type:"success",duration:2e3}),e.getList(),e.getFuelList()):e.$notify({title:"Error",message:t.data.data,type:"error",duration:2e3})}))},handleSelectionChange:function(e){this.multipleSelection=e},resetListQuery:function(){this.value=[],this.listQuery={currentPage:1,pageSize:20,shipComPanyName:"",shipNameOrImoOrRegisterNo:"",volageCode:"",startTime:null,endTime:null}},resetOilFormData:function(){var e=!0,t=!1,o=void 0;try{for(var a,i=this.oilFormData[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var r=a.value;r.id="",r.arrTons=0,r.deptTons=0,r.addTons=0,r.addBillNo="",r.addTm=null,r.outTons=0,r.outTm=null,r.correctTons=0,r.sulfurPercent=0}}catch(s){t=!0,o=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw o}}},resetSpecFormData:function(){var e=!0,t=!1,o=void 0;try{for(var a,i=this.specTempOilFormData[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var r=a.value;r.id="",r.outTons=0,r.outTm=null,r.consTons=0}}catch(s){t=!0,o=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw o}}},getFuelList:function(){var e=this;Object(b["k"])("/fuel/findFuelList",{pageSize:50,pageNum:1}).then((function(t){var o=[],a=[],i=!0,r=!1,s=void 0;try{for(var l,n=t.data.data.items[Symbol.iterator]();!(i=(l=n.next()).done);i=!0){var p=l.value,d={id:"",oilId:"",oilName:"",arrTons:0,deptTons:0,addTons:0,addBillNo:"",addTm:null,outTons:0,outTm:null,correctTons:0,sulfurPercent:0},c={id:"",oilId:"",oilName:"",consTons:0,outTons:0,outTm:null};d.oilId=p.fuelCode,d.oilName=p.fuelName,c.oilId=p.fuelCode,c.oilName=p.fuelName,o.push(d),a.push(c)}}catch(m){r=!0,s=m}finally{try{i||null==n.return||n.return()}finally{if(r)throw s}}e.oilFormData=o,e.specTempOilFormData=a}))},lockOrUnLock:function(e){var t=this;Object(r["i"])(e).then((function(e){e.data.result?(t.getList(),t.$notify({title:"Success",message:"Successfully",type:"success",duration:2e3})):t.$notify({title:"Error",message:"Failed",type:"error",duration:2e3})}))},handleCurrentChange:function(e){var t=this;this.rowlist=e,this.codest=e.shipNameEn,this.codeShip=e.shipId,Object(r["h"])({voyageId:e.id,voyageType:e.voyageFlag}).then((function(e){t.portlist=e.data.data.voyagePortVos,t.speclist=e.data.data.voyageSpecVos}))},selectShip:function(){this.$refs.shipSelect.handleCreateRelation()},selectPort:function(){this.$refs.portSelect.handleCreateRelation()},selectShipComPany:function(){this.$refs.shipComPanySelect.handleCreateRelation()},anchoring:function(e){1===e&&(this.driftTemp.portcn="抛锚",this.driftTemp.porten="anchor",this.Anchoringontheway=!0,this.resetOilFormData(),this.$refs.driftOilTons.oilFormData=this.oilFormData),2===e&&(this.driftTemp.portcn="漂航",this.driftTemp.porten="drifting",this.Anchoringontheway=!1)},getList:function(){var e=this;this.listLoading=!0,null!==this.listQuery.startTime&&null!==this.listQuery.endTime&&(this.listQuery.startTime=this.listQuery.startTime.toString(),this.listQuery.endTime=this.listQuery.endTime.toString()),Object(r["m"])(this.listQuery).then((function(t){if(e.dataTreeGrid=t.data.data.items,0!==t.data.data.items.length){var o=t.data.data.items[0].id,a=t.data.data.items[0].voyageFlag;Object(r["h"])({voyageId:o,voyageType:a}).then((function(t){e.portlist=t.data.data.voyagePortVos,e.speclist=t.data.data.voyageSpecVos}))}e.total=t.data.data.total,e.listLoading=!1}))},getPortList:function(){var e=this;this.portListLoading=!0,Object(r["j"])().then((function(t){e.portlist=t.data.items,e.total=t.data.total,setTimeout((function(){e.portListLoading=!1}),1500)}))},handleFilter:function(){this.listQuery.page=1,this.getList()},handleResetFilter:function(){this.resetListQuery(),this.shipComPany="",this.getList()},handleModifyStatus:function(e){"0"===e.recStatus&&this.lockOrUnLock({volageId:e.id,recStatus:"1"}),"1"===e.recStatus&&this.lockOrUnLock({volageId:e.id,recStatus:"0"})},resetVoyageTemp:function(){this.voyageTemp={id:void 0,shipName:"",voyageCode:""}},handleCreateVoyage:function(){var e=this;this.resetVoyageTemp(),this.voyagedialogStatus="create",this.voyagedialogFormVisible=!0,this.$nextTick((function(){e.$refs["voyagedataForm"].clearValidate()}))},resetPortTemp:function(){this.portTemp={id:void 0,shipId:"",shipName:"",firstVolageCode:"",secondVolageCode:"",portid:"",porten:"",portcn:"",arrTm:null,arrZone:0,deptTm:null,deptZone:0,isEu:!1,inPort:!0,distance:0,anchorPurpose:[],recordType:"0",shorePower:0,portOilInfos:[],volagePortLoadingInfos:[],voyagePortAddOilDtos:[],voyagePortOutOilDtos:[],voyagePortOutSulageOilDtos:[]}},handleCreatePort:function(){var e=this;this.stabel="1",this.resetPortTemp(),this.resetOilFormData(),this.portdialogStatus="create",this.portdialogFormVisible=!0,this.readOnly=!1,setTimeout((function(){e.resetOilFormData(),e.$refs.bargeInfo.initData()}),0),this.$nextTick((function(){e.portTemp.shipName=e.codest,e.portTemp.shipId=e.codeShip,e.driftTemp.shipName=e.codest,e.driftTemp.shipId=e.codeShip,e.specTemp.shipName=e.codest,e.specTemp.shipId=e.codeShip,e.$refs.oilTons.shipId=e.codeShip,e.$refs.Fuelquantity.shipId=e.codeShip,e.$refs.Bargeoilvolume.shipId=e.codeShip,e.$refs.oilTons.readOnly=!1,e.$refs.Fuelquantity.readOnly=!1,e.$refs.Bargeoilvolume.readOnly=!1,e.$refs.bargeInfo.readOnly=!1,e.$refs.arrCargoInfo.readonly=!1,e.$refs.deptCargoInfo.readonly=!1,e.$refs.arrCargoInfo.resetArrTemp(),e.$refs.deptCargoInfo.resetDeptTemp()}))},resetDriftTemp:function(){this.driftTemp={id:"",shipId:"",shipName:"",porten:"anchor",portcn:"抛锚",firstVolageCode:"",arrTm:null,arrZone:0,deptZone:0,deptTm:null,recordType:1,portOilInfos:[],volagePortLoadingInfos:[],voyagePortAddOilDtos:[],voyagePortOutOilDtos:[],voyagePortOutSulageOilDtos:[]}},handleCreateDrift:function(){var e=this;this.resetDriftTemp(),this.driftdialogStatus="create",this.driftdialogFormVisible=!0,this.Anchoringontheway=!0,setTimeout((function(){e.portTemp.shipName=e.codest,e.portTemp.shipId=e.codeShip,e.driftTemp.shipName=e.codest,e.driftTemp.shipId=e.codeShip,e.specTemp.shipName=e.codest,e.specTemp.shipId=e.codeShip,e.$refs.Fuelquantity.shipId=e.codeShip,e.$refs.Bargeoilvolume.shipId=e.codeShip,e.readOnly=!1,e.$refs.Fuelquantity.readOnly=!1,e.$refs.Bargeoilvolume.readOnly=!1,e.$refs.driftbargeInfo.readOnly=!1,e.$refs.driftbargeInfo.initData(),e.resetOilFormData()}),100),this.$nextTick((function(){e.$refs["driftdataForm"].clearValidate()}))},resetSpecTemp:function(){this.specTemp={id:"",shipId:"",shipName:"",voyageCode:"",distance:0,recordType:0,beginZone:0,endZone:0,beginTm:null,endTm:null,volageSpecCons:[]}},handleCreateBatch:function(){this.resetSpecTemp(),this.batchImportFormVisible=!0,this.batchImportStatus="create"},handleCreateSpec:function(){var e=this;this.resetSpecTemp(),this.resetSpecFormData(),this.stabel="0",this.specdialogStatus="create",this.specdialogFormVisible=!0,this.specReadOnly=!1,this.resetOilFormData(),this.$nextTick((function(){e.specTemp.shipName=e.codest,e.specTemp.shipId=e.codeShip,e.$refs.oilTonscopy.shipId=e.codeShip,e.$refs["specdataForm"].clearValidate()}))},createVoyageData:function(){var e=this;this.$refs["voyagedataForm"].validate((function(t){t&&(e.voyageTemp.id=parseInt(100*Math.random())+1024,e.voyageTemp.author="vue-element-admin",Object(r["c"])(e.voyageTemp).then((function(){e.dataTreeGrid.unshift(e.voyageTemp),e.voyagedialogFormVisible=!1,e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3})})))}))},fuelquantity:function(e){var t=[];e.forEach((function(e){"燃油"===e.oilName&&0!==e.oilTons&&t.push(e)})),this.ranyoucode=t},createPortData:function(){var e=this;if(this.portTemp.arrTm.getTime()<this.portTemp.deptTm.getTime()){this.ranyoucode.length>0&&this.ranyoucode[0].addTons>0&&"0"==this.ranyoucode[0].viscosity&&this.$message({message:"请输入燃油的粘度",type:"warning"});var t=[],o=!0,a=!1,i=void 0;try{for(var s,l=this.$refs.oilTons.oilFormData[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var n=s.value;0!==n.arrTons&&0!==n.deptTons&&t.push(n)}}catch(D){a=!0,i=D}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}var p=[],d=!0,c=!1,m=void 0;try{for(var u,f=this.$refs.Fuelquantity.oilFormData[Symbol.iterator]();!(d=(u=f.next()).done);d=!0){var h=u.value;0!==h.addTons&&p.push(h)}}catch(D){c=!0,m=D}finally{try{d||null==f.return||f.return()}finally{if(c)throw m}}var g=[],y=!0,v=!1,T=void 0;try{for(var b,_=this.$refs.Bargeoilvolume.oilFormData[Symbol.iterator]();!(y=(b=_.next()).done);y=!0){var $=b.value;0!==$.outTons&&g.push($)}}catch(D){v=!0,T=D}finally{try{y||null==_.return||_.return()}finally{if(v)throw T}}var S=[],w=!0,O=!1,k=void 0;try{for(var C,I=this.$refs.bargeInfo.oilFormData[Symbol.iterator]();!(w=(C=I.next()).done);w=!0){var P=C.value;0!==P.sludgeTons&&S.push(P)}}catch(D){O=!0,k=D}finally{try{w||null==I.return||I.return()}finally{if(O)throw k}}this.portTemp.portOilInfos=t,this.portTemp.voyagePortAddOilDtos=p,this.portTemp.voyagePortOutOilDtos=g,this.portTemp.voyagePortOutSulageOilDtos=S;var F=[];F.push(this.$refs.arrCargoInfo.arrTemp),F.push(this.$refs.deptCargoInfo.deptTemp),this.portTemp.volagePortLoadingInfos=F,this.$refs["portdataForm"].validate((function(t){t&&Object(r["b"])(e.portTemp).then((function(t){t.data.result?(e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}),e.portdialogFormVisible=!1,e.getList(),e.getFuelList()):e.$notify({title:"Error",message:t.data.data,type:"error",duration:2e3})}))}))}else this.$message({message:"抵港时间晚于离港时间",type:"error"})},handleUpdateVoyage:function(e){var t=this;this.voyageTemp=Object.assign({},e),this.voyageTemp.timestamp=new Date(this.voyageTemp.timestamp),this.voyagedialogStatus="update",this.voyagedialogFormVisible=!0,this.$nextTick((function(){t.$refs["voyagedataForm"].clearValidate()}))},updateVoyageData:function(){var e=this;this.$refs["voyagedataForm"].validate((function(t){if(t){var o=Object.assign({},e.voyageTemp);o.timestamp=+new Date(o.timestamp),Object(r["l"])(o).then((function(){var t=!0,o=!1,a=void 0;try{for(var i,r=e.dataTreeGrid[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;if(s.id===e.temp.id){var l=e.dataTreeGrid.indexOf(s);e.dataTreeGrid.splice(l,1,e.temp);break}}}catch(n){o=!0,a=n}finally{try{t||null==r.return||r.return()}finally{if(o)throw a}}e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3})}))}}))},handleDeleteVoyage:function(e){var t=this;"1"==e.recStatus?this.$message({message:"该航次为锁定状态不可进行删除操作",type:"warning"}):!0===confirm("确认是否删除航次")&&Object(r["f"])({volageIdList:[e.id]}).then((function(e){e.data.result?(t.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),t.getList(),t.getFuelList()):t.$notify({title:"Error",message:"Delete Failed",type:"error",duration:2e3})}))},initdateTime:function(){this.changeStart(),this.changeEnd(),this.changeStartDa(),this.changeEndDa(),this.changeStartportTemp(),this.changeEndportTemp(),this.changeStartport(),this.changeEndport()},handleUpdatePort:function(e){var t=this;this.stabel="1",this.resetDriftTemp(),this.times=e.arrivalTime,this.timeEnd=e.formThePortTime,this.resetOilFormData(),1===e.recodeType?(this.driftTemp.id=e.id,this.driftTemp.recordType=e.recodeType,this.driftTemp.porten=e.portName,this.driftTemp.portcn=e.portNameCn,this.driftTemp.arrTm=e.arrivalTime,this.driftTemp.deptTm=e.formThePortTime,this.driftTemp.arrZone=e.arrZone,this.driftTemp.shipId=e.shipId,this.driftTemp.shipName=e.shipNameEn,this.driftTemp.firstVolageCode=e.firstVolageCode,this.driftTemp.deptZone=e.deptZone,this.driftdialogFormVisible=!0,this.Anchoringontheway=!0,setTimeout((function(){t.initdateTime(),t.readOnly=!1,t.times=e.arrivalTime,t.timeEnd=e.formThePortTime,t.$refs.Fuelquantity.Fuelquantity=e.voyagePortAddOilVos,t.$refs.Fuelquantity.shipId=e.shipId,t.$refs.Bargeoilvolume.Bargeoilvolume=e.voyagePortOutOilVos,t.$refs.Bargeoilvolume.shipId=e.shipId,t.$refs.driftbargeInfo.bargeInfo=e.voyagePortOutSulageOilVos,t.$refs.Fuelquantity.readOnly=!1,t.$refs.Bargeoilvolume.readOnly=!1;var o=[],a=!0,i=!1,r=void 0;try{for(var s,l=t.oilFormData[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var n=s.value;o.push(n)}}catch(p){i=!0,r=p}finally{try{a||null==l.return||l.return()}finally{if(i)throw r}}}),100),this.$nextTick((function(){t.$refs["driftdataForm"].clearValidate()}))):2===e.recodeType?(this.driftTemp.id=e.id,this.driftTemp.recordType=e.recodeType,this.driftTemp.porten=e.portName,this.driftTemp.portcn=e.portNameCn,this.driftTemp.arrTm=e.arrivalTime,this.driftTemp.deptTm=e.formThePortTime,this.driftTemp.arrZone=e.arrZone,this.driftTemp.shipId=e.shipId,this.driftTemp.shipName=e.shipNameEn,this.driftTemp.firstVolageCode=e.firstVolageCode,this.driftdialogFormVisible=!0,this.Anchoringontheway=!1,this.$nextTick((function(){t.readOnly=!1,t.$refs["driftdataForm"].clearValidate()}))):(this.portTemp.shipName=e.shipNameEn,this.portTemp.shipId=e.shipId,e.firstVolageCode!==e.secondVolageCode&&null!==e.secondVolageCode?this.ridiosfalg=!0:this.ridiosfalg=!1,this.portTemp.firstVolageCode=e.firstVolageCode,this.portTemp.secondVolageCode=e.secondVolageCode,this.portTemp.arrZone=e.arrZone,this.portTemp.deptZone=e.deptZone,this.portTemp.shorePower=e.shorePower,this.portTemp.distance=e.distance,this.portTemp.isEu=1===e.isEu,this.portTemp.portid=e.portId,this.portTemp.id=e.id,this.portTemp.porten=e.portName,this.portTemp.portcn=e.portNameCn,this.portTemp.arrTm=e.arrivalTime,this.portTemp.deptTm=e.formThePortTime,this.portTemp.anchorPurpose=null===e.portWork?[]:e.portWork,this.portTemp.inPort=e.inPort,this.portdialogStatus="update",this.portdialogFormVisible=!0,this.readOnly=!1,setTimeout((function(){t.initdateTime();var o=!0,a=!1,i=void 0;try{for(var r,s=e.voyagePortLordingVos[Symbol.iterator]();!(o=(r=s.next()).done);o=!0){var l=r.value;"0"===l.loadingType?t.$refs.deptCargoInfo.deptTemp=l:"1"===l.loadingType&&(t.$refs.arrCargoInfo.arrTemp=l)}}catch(v){a=!0,i=v}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}t.times=e.arrivalTime,t.timeEnd=e.formThePortTime,t.$refs.oilTons.oilTons=e.voyagePortOilVos,t.$refs.oilTons.shipId=e.shipId,t.$refs.Fuelquantity.Fuelquantity=e.voyagePortAddOilVos,t.$refs.Fuelquantity.shipId=e.shipId,t.$refs.Bargeoilvolume.Bargeoilvolume=e.voyagePortOutOilVos,t.$refs.Bargeoilvolume.shipId=e.shipId,t.$refs.bargeInfo.bargeInfo=e.voyagePortOutSulageOilVos,t.$refs.oilTons.readOnly=!1,t.$refs.Fuelquantity.readOnly=!1,t.$refs.Bargeoilvolume.readOnly=!1,t.$refs.bargeInfo.readOnly=!1,t.$refs.arrCargoInfo.readonly=!1,t.$refs.deptCargoInfo.readonly=!1;var n=e.volagePortOilVos,p=[],d=!0,c=!1,m=void 0;try{for(var u,f=t.oilFormData[Symbol.iterator]();!(d=(u=f.next()).done);d=!0){var h=u.value;p.push(h)}}catch(v){c=!0,m=v}finally{try{d||null==f.return||f.return()}finally{if(c)throw m}}for(var g=0;g<n.length;g++)if(0!==n[g].arrTons&&0!==n[g].deptTons&&null!==n[g].arrTons&&null!==n[g].deptTons)for(var y=0;y<p.length;y++)p[y].oilId===n[g].oilId&&p.splice(y,1,n[g]);t.$refs.oilTons.oilFormData=p,t.$refs.deptCargoInfo.resetDeptTemp(),t.$refs.arrCargoInfo.resetArrTemp()}),100),this.$nextTick((function(){t.$refs["portdataForm"].clearValidate()})))},handleDetailPort:function(e){var t=this;this.resetOilFormData(),this.resetDriftTemp(),1===e.recodeType?(this.driftTemp.id=e.id,this.driftTemp.recordType=e.recodeType,this.driftTemp.porten=e.portName,this.driftTemp.portcn=e.portNameCn,e.firstVolageCode!==e.secondVolageCode&&null!==e.secondVolageCode?this.ridiosfalg=!0:this.ridiosfalg=!1,this.driftTemp.arrTm=e.arrivalTime,this.driftTemp.deptTm=e.formThePortTime,this.driftTemp.arrZone=e.arrZone,this.driftTemp.shipId=e.shipId,this.driftTemp.shipName=e.shipNameEn,this.driftTemp.firstVolageCode=e.firstVolageCode,this.driftTemp.deptZone=e.deptZone,this.driftdialogFormVisible=!0,this.Anchoringontheway=!0,setTimeout((function(){t.readOnly=!0,t.$refs.oilTons.readOnly=!0,t.$refs.oilTons.oilTons=e.voyagePortOilVos,t.$refs.oilTons.shipId=e.shipId,t.$refs.Fuelquantity.Fuelquantity=e.voyagePortAddOilVos,t.$refs.Fuelquantity.shipId=e.shipId,t.$refs.Bargeoilvolume.Bargeoilvolume=e.voyagePortOutOilVos,t.$refs.Bargeoilvolume.shipId=e.shipId,t.$refs.driftbargeInfo.bargeInfo=e.voyagePortOutSulageOilVos,t.$refs.driftbargeInfo.shipId=e.shipId,t.readOnly=!0,t.$refs.Fuelquantity.readOnly=!0,t.$refs.Bargeoilvolume.readOnly=!0,t.$refs.driftbargeInfo.readOnly=!0;e.volagePortOilVos;var o=[],a=!0,i=!1,r=void 0;try{for(var s,l=t.oilFormData[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var n=s.value;o.push(n)}}catch(p){i=!0,r=p}finally{try{a||null==l.return||l.return()}finally{if(i)throw r}}}),100),this.$nextTick((function(){t.$refs["driftdataForm"].clearValidate()}))):2===e.recodeType?(this.driftTemp.id=e.id,this.driftTemp.recordType=e.recodeType,this.driftTemp.porten=e.portName,this.driftTemp.portcn=e.portNameCn,this.driftTemp.arrTm=e.arrivalTime,this.driftTemp.deptTm=e.formThePortTime,this.driftTemp.arrZone=e.arrZone,this.driftTemp.shipId=e.shipId,this.driftTemp.shipName=e.shipNameEn,this.driftTemp.firstVolageCode=e.firstVolageCode,this.driftTemp.deptZone=e.deptZone,this.driftdialogFormVisible=!0,this.Anchoringontheway=!1,this.$nextTick((function(){t.readOnly=!0,t.$refs["driftdataForm"].clearValidate()}))):(this.portTemp.shipName=e.shipName,this.portTemp.shipId=e.shipId,this.portTemp.firstVolageCode=e.firstVolageCode,this.portTemp.secondVolageCode=e.secondVolageCode,this.portTemp.arrZone=e.arrZone,this.portTemp.deptZone=e.deptZone,this.portTemp.shorePower=e.shorePower,this.portTemp.distance=e.distance,this.portTemp.isEu=1===e.isEu,this.portTemp.inPort=e.inPort,e.firstVolageCode!==e.secondVolageCode&&null!==e.secondVolageCode?this.ridiosfalg=!0:this.ridiosfalg=!1,this.portTemp.portid=e.portId,this.portTemp.id=e.id,this.portTemp.porten=e.portName,this.portTemp.portcn=e.portNameCn,this.portTemp.arrTm=e.arrivalTime,this.portTemp.deptTm=e.formThePortTime,this.portTemp.anchorPurpose=null===e.portWork?[]:e.portWork,this.portdialogStatus="update",this.portdialogFormVisible=!0,setTimeout((function(){t.$refs.oilTons.oilTons=e.voyagePortOilVos,t.$refs.oilTons.shipId=e.shipId,t.$refs.Fuelquantity.Fuelquantity=e.voyagePortAddOilVos,t.$refs.Fuelquantity.shipId=e.shipId,t.$refs.Bargeoilvolume.Bargeoilvolume=e.voyagePortOutOilVos,t.$refs.Bargeoilvolume.shipId=e.shipId,t.$refs.bargeInfo.bargeInfo=e.voyagePortOutSulageOilVos,t.$refs.bargeInfo.shipId=e.shipId,t.readOnly=!0,t.$refs.oilTons.readOnly=!0,t.$refs.Fuelquantity.readOnly=!0,t.$refs.Bargeoilvolume.readOnly=!0,t.$refs.bargeInfo.readOnly=!0,t.$refs.arrCargoInfo.readonly=!0,t.$refs.deptCargoInfo.readonly=!0,t.$refs.deptCargoInfo.resetDeptTemp(),t.$refs.arrCargoInfo.resetArrTemp();var o=!0,a=!1,i=void 0;try{for(var r,s=e.voyagePortLordingVos[Symbol.iterator]();!(o=(r=s.next()).done);o=!0){var l=r.value;"0"===l.loadingType?t.$refs.deptCargoInfo.deptTemp=l:"1"===l.loadingType&&(t.$refs.arrCargoInfo.arrTemp=l)}}catch(v){a=!0,i=v}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}var n=e.volagePortOilVos,p=[],d=!0,c=!1,m=void 0;try{for(var u,f=t.oilFormData[Symbol.iterator]();!(d=(u=f.next()).done);d=!0){var h=u.value;p.push(h)}}catch(v){c=!0,m=v}finally{try{d||null==f.return||f.return()}finally{if(c)throw m}}for(var g=0;g<n.length;g++)if(0!==n[g].arrTons&&0!==n[g].deptTons&&null!==n[g].arrTons&&null!==n[g].deptTons)for(var y=0;y<p.length;y++)p[y].oilId===n[g].oilId&&p.splice(y,1,n[g]);t.$refs.oilTons.oilFormData=p}),10),this.$nextTick((function(){t.$refs["portdataForm"].clearValidate()})))},updatePortData:function(){var e=this;if(new Date(this.portTemp.arrTm).getTime()<new Date(this.portTemp.deptTm).getTime()){this.ranyoucode.length>0&&this.ranyoucode[0].addTons>0&&"0"===this.ranyoucode[0].viscosity&&this.$message({message:"请输入燃油的粘度",type:"warning"});var t=[],o=!0,a=!1,i=void 0;try{for(var s,l=this.$refs.oilTons.oilFormData[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var n=s.value;0!==n.arrTons&&0!==n.deptTons&&t.push(n)}}catch(D){a=!0,i=D}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}var p=[],d=!0,c=!1,m=void 0;try{for(var u,f=this.$refs.Fuelquantity.oilFormData[Symbol.iterator]();!(d=(u=f.next()).done);d=!0){var h=u.value;0!==h.addTons&&p.push(h)}}catch(D){c=!0,m=D}finally{try{d||null==f.return||f.return()}finally{if(c)throw m}}var g=[],y=!0,v=!1,T=void 0;try{for(var b,_=this.$refs.Bargeoilvolume.oilFormData[Symbol.iterator]();!(y=(b=_.next()).done);y=!0){var $=b.value;0!==$.outTons&&g.push($)}}catch(D){v=!0,T=D}finally{try{y||null==_.return||_.return()}finally{if(v)throw T}}var S=[],w=!0,O=!1,k=void 0;try{for(var C,I=this.$refs.bargeInfo.oilFormData[Symbol.iterator]();!(w=(C=I.next()).done);w=!0){var P=C.value;0!==P.sludgeTons&&S.push(P)}}catch(D){O=!0,k=D}finally{try{w||null==I.return||I.return()}finally{if(O)throw k}}this.portTemp.portOilInfos=t,this.portTemp.voyagePortAddOilDtos=p,this.portTemp.voyagePortOutOilDtos=g,this.portTemp.voyagePortOutSulageOilDtos=S;var F=[];F.push(this.$refs.arrCargoInfo.arrTemp),F.push(this.$refs.deptCargoInfo.deptTemp),this.portTemp.volagePortLoadingInfos=F,this.$refs["portdataForm"].validate((function(t){t&&Object(r["k"])(e.portTemp).then((function(t){t.data.result?e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}):e.$notify({title:"Error",message:"Update Failed",type:"error",duration:2e3}),e.getList(),e.getFuelList(),e.portdialogFormVisible=!1}))}))}else this.$message({message:"抵港时间晚于离港时间",type:"error"})},handleDeletePort:function(e){var t=this;!0===confirm("确认是否删除")&&Object(r["d"])({volagePortIdList:[e.id]}).then((function(e){e.data.result?(t.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),t.getList()):t.$notify({title:"Error",message:"Delete Failed",type:"error",duration:2e3})}))},handleDeleteSpec:function(e){var t=this;!0===confirm("确认是否删除")&&(Object(r["e"])({volageIceAndRescueIdList:[e.id]}).then((function(e){e.data.result?t.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}):t.$notify({title:"Error",message:"Delete Failed",type:"error",duration:2e3})})),this.getList())},handleUpdateSpec:function(e){var t=this;this.stabel="0",this.resetSpecFormData(),this.specdialogStatus="update",this.specTemp.id=e.id,this.specTemp.distance=e.distance,this.specTemp.beginTm=e.iceStartTime,this.specTemp.endTm=e.iceEndTime,this.specTemp.shipId=e.shipId,this.specTemp.shipName=e.shipNameEn,this.specTemp.distance=e.distance,this.specTemp.voyageCode=e.voyageCode,this.specTemp.beginZone=e.beginZone;e.rawVoyageSpecConsVos;setTimeout((function(){t.times=e.iceStartTime,t.timeEnd=e.iceEndTime,t.$refs.oilTonscopy.readOnly=!1,t.$refs.oilTonscopy.oilTons=e.rawVoyageSpecConsVos,t.$refs.oilTonscopy.shipId=e.shipId}),100),this.specdialogFormVisible=!0,this.specReadOnly=!1},handleDetailSpec:function(e){var t=this;this.stabel="0",this.specdialogStatus="update",this.specTemp.id=e.id,this.specTemp.distance=e.distance,this.specTemp.beginTm=e.iceStartTime,this.specTemp.endTm=e.iceEndTime,this.specTemp.shipId=e.shipId,this.specTemp.shipName=e.shipNameEn,this.specTemp.distance=e.distance,this.specTemp.voyageCode=e.voyageCode,this.specTemp.beginZone=e.beginZone;e.rawVoyageSpecConsVos;setTimeout((function(){t.$refs.oilTonscopy.readOnly=!0,t.$refs.oilTonscopy.oilTons=e.rawVoyageSpecConsVos,t.$refs.oilTonscopy.shipId=e.shipId}),100),this.specdialogFormVisible=!0,this.specReadOnly=!0},setRawVoyageSpecConsDto:function(e){var t=[];if(0!==e.dieselOil&&""!==e.dieselOil){var o={id:e.dieselOilId,oilId:"3",oilName:"柴油/汽油",consTons:e.dieselOil};t.push(o)}if(0!==e.carbinol&&""!==e.carbinol){o={id:e.carbinolId,oilId:"7",oilName:"甲醇",consTons:e.carbinol};t.push(o)}if(0!==e.ethanol&&""!==e.ethanol){o={id:e.ethanolId,oilId:"8",oilName:"乙醇",consTons:e.ethanol};t.push(o)}if(0!==e.propane&&""!==e.propane){o={id:e.propaneId,oilId:"4",oilName:"液化石油气LPG（丙烷）",consTons:e.propane};t.push(o)}if(0!==e.butane&&""!==e.butane){o={id:e.butaneId,oilId:"5",oilName:"丁烷",consTons:e.butane};t.push(o)}if(0!==e.tianran&&""!==e.tianran){o={id:e.tianranId,oilId:"6",oilName:"液化天然气LNG",consTons:e.tianran};t.push(o)}if(0!==e.highSulfurHeavy&&""!==e.highSulfurHeavy){o={id:e.highSulfurHeavyId,oilId:"1",oilName:"重燃油HFO(高硫)",consTons:e.highSulfurHeavy};t.push(o)}if(0!==e.lowSulfurHeavy&&""!==e.lowSulfurHeavy){o={id:e.lowSulfurHeavyId,oilId:"11",oilName:"重燃油HFO(低硫)",consTons:e.lowSulfurHeavy};t.push(o)}if(0!==e.ulsdSulfurHeavy&&""!==e.ulsdSulfurHeavy){o={id:e.ulsdSulfurHeavyId,oilId:"12",oilName:"重燃油HFO(超低硫)",consTons:e.ulsdSulfurHeavy};t.push(o)}if(0!==e.highSulfurLight&&""!==e.highSulfurLight){o={id:e.highSulfurLightId,oilId:"2",oilName:"轻燃油LFO(高硫)",consTons:e.highSulfurLight};t.push(o)}if(0!==e.lowSulfurLight&&""!==e.lowSulfurLight){o={id:e.lowSulfurLightId,oilId:"21",oilName:"轻燃油LFO(低硫)",consTons:e.lowSulfurLight};t.push(o)}if(0!==e.ulsdSulfurLight&&""!==e.ulsdSulfurLight){o={id:e.ulsdSulfurLightId,oilId:"22",oilName:"轻燃油LFO(超低硫)",consTons:e.ulsdSulfurLight};t.push(o)}return t},createData:function(){var e=this;new Date(this.specTemp.beginTm).getTime()<new Date(this.specTemp.endTm).getTime()?this.$refs["specdataForm"].validate((function(t){if(t){var o=[],a=!0,i=!1,s=void 0;try{for(var l,n=e.$refs.oilTonscopy.oilFormData[Symbol.iterator]();!(a=(l=n.next()).done);a=!0){var p=l.value;0!==p.consTons&&0!==p.outTons&&(p.id="",o.push(p))}}catch(d){i=!0,s=d}finally{try{a||null==n.return||n.return()}finally{if(i)throw s}}e.specTemp.volageSpecCons=o,Object(r["a"])(e.specTemp).then((function(t){t.data.result?(e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}),e.getList(),e.getFuelList()):e.$notify({title:"Error",message:"Created Failed",type:"error",duration:2e3})})),e.specdialogFormVisible=!1}})):this.$message({message:"开始时间晚于结束时间",type:"error"})},updateSpecData:function(){var e=this;if(new Date(this.specTemp.beginTm).getTime()<new Date(this.specTemp.endTm).getTime()){var t=[],o=!0,a=!1,i=void 0;try{for(var s,l=this.$refs.oilTonscopy.oilFormData[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var n=s.value;0!==n.consTons&&0!==n.outTons&&t.push(n)}}catch(p){a=!0,i=p}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}this.specTemp.volageSpecCons=t,Object(r["a"])(this.specTemp).then((function(t){t.data.result?(e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}),e.getList(),e.getFuelList()):e.$notify({title:"Error",message:"Update Failed",type:"error",duration:2e3})})),this.specdialogFormVisible=!1}else this.$message({message:"开始时间晚于结束时间",type:"error"})},createDriftData:function(){var e=this;if(new Date(this.driftTemp.arrTm).getTime()<new Date(this.driftTemp.deptTm).getTime()){if(this.ranyoucode.length>0&&this.ranyoucode[0].addTons>0&&"0"===this.ranyoucode[0].viscosity&&this.$message({message:"请输入燃油的粘度",type:"warning"}),1===this.driftTemp.recordType){var t=[],o=[],a=!0,i=!1,s=void 0;try{for(var l,n=this.$refs.Fuelquantity.oilFormData[Symbol.iterator]();!(a=(l=n.next()).done);a=!0){var p=l.value;0!==p.addTons&&o.push(p)}}catch(w){i=!0,s=w}finally{try{a||null==n.return||n.return()}finally{if(i)throw s}}var d=[],c=!0,m=!1,u=void 0;try{for(var f,h=this.$refs.Bargeoilvolume.oilFormData[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var g=f.value;0!==g.outTons&&d.push(g)}}catch(w){m=!0,u=w}finally{try{c||null==h.return||h.return()}finally{if(m)throw u}}var y=[],v=!0,T=!1,b=void 0;try{for(var _,$=this.$refs.driftbargeInfo.oilFormData[Symbol.iterator]();!(v=(_=$.next()).done);v=!0){var S=_.value;0!==S.sludgeTons&&y.push(S)}}catch(w){T=!0,b=w}finally{try{v||null==$.return||$.return()}finally{if(T)throw b}}this.driftTemp.voyagePortAddOilDtos=o,this.driftTemp.voyagePortOutOilDtos=d,this.driftTemp.voyagePortOutSulageOilDtos=y,this.driftTemp.portOilInfos=t}this.$refs["driftdataForm"].validate((function(t){t&&(Object(r["b"])(e.driftTemp).then((function(t){t.data.result?e.$notify({title:"Success",message:"Successfully",type:"success",duration:2e3}):e.$notify({title:"Error",message:"Failed",type:"error",duration:2e3})})),e.getList(),e.driftdialogFormVisible=!1)}))}else this.$message({message:"开始时间晚于结束时间",type:"error"})}}},k=O,C=(o("b67b"),o("2877")),I=Object(C["a"])(k,a,i,!1,null,"bd97c6f6",null);t["default"]=I.exports}}]);