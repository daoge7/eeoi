(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cf038e6"],{6340:function(t,o,e){"use strict";var n=e("79a6"),l=e.n(n);l.a},"79a6":function(t,o,e){},d3e7:function(t,o,e){"use strict";e.r(o);var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("el-form",{ref:"oilForm",attrs:{rules:t.oilRules,model:t.oilForm}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.oilFormData,stripe:"",border:"",size:"mini"}},[e("el-table-column",{attrs:{label:t.$t("voyageOil.oilType"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(o){var n=o.row;return[e("span",[t._v(t._s(n.oilName))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:t.$t("Statistics.FuelConsumption"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(o){var n=o.row;return[e("el-input",{staticClass:"el_input",attrs:{readonly:t.readOnly},model:{value:n.consTons,callback:function(o){t.$set(n,"consTons",o)},expression:"row.consTons"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{label:t.$t("voyageOil.outOil"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(o){var n=o.row;return[e("el-input",{staticClass:"el_input",attrs:{readonly:t.readOnly},model:{value:n.outTons,callback:function(o){t.$set(n,"outTons",o)},expression:"row.outTons"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{label:t.$t("voyageOil.outOilTime"),align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(o){var n=o.row;return[e("el-date-picker",{staticClass:"el_input",staticStyle:{width:"90%"},attrs:{type:"datetime",placeholder:t.$t("MRV.Selectdatetime"),disabled:t.readOnly,"picker-options":t.pickerOptionsEndportTemp,format:"yyyy-MM-dd HH:mm"},model:{value:n.outTm,callback:function(o){t.$set(n,"outTm",o)},expression:"row.outTm"}})]}}])})],1)],1)},l=[],i=e("bff4"),a={name:"OilTons",props:{times:{},timeEnd:{},editStatus:{type:String,default:""},portEditRowId:{type:String,default:""},stabel:{type:String,default:""}},data:function(){var t=this;return{pickerOptionsEndportTemp:{disabledDate:function(o){var e=t.times,n=t.timeEnd;if(e&&n)return o.getTime()<new Date(e).getTime()-864e5||o.getTime()>new Date(n).getTime()}},shipId:"",oilTons:[],readOnly:!1,oilFormData:[],tempOilFormdata:[],oilRules:{},oilForm:{}}},watch:{shipId:function(t){t?this.getFuelList(t):this.initsave()}},created:function(){this.oilFormData=[],this.tempOilFormdata=[]},methods:{initsave:function(){var t=this,o=[],e=[];Object(i["x"])().then((function(n){var l=!0,i=!1,a=void 0;try{for(var s,r=n.data.data.items[Symbol.iterator]();!(l=(s=r.next()).done);l=!0){var d=s.value,u={id:"",oilId:"",oilName:"",arrTons:0,deptTons:0,addTons:0,addBillNo:"",addTm:null,outTons:0,outTm:null,correctTons:0,consTons:0},c={id:"",oilId:"",oilName:"",arrTons:0,deptTons:0,addTons:0,addBillNo:"",addTm:null,outTons:0,outTm:null,correctTons:0,consTons:0};u.id=d.id,u.oilId=d.fuelCode,u.oilName=d.fuelName,c.id=d.id,c.oilId=d.fuelCode,c.oilName=d.fuelName,o.push(u),e.push(c)}}catch(T){i=!0,a=T}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}if(t.oilFormData=o,t.tempOilFormdata=e,t.oilTons.length>0){var m=t.oilTons.map((function(t){return t.oilId})),f=t.oilFormData.filter((function(t){return!m.some((function(o){return o===t.oilId}))}));t.oilFormData=f.concat(t.oilTons)}}))},initDat:function(){this.oilFormData.length=0,this.tempOilFormdata.length=0},getFuelList:function(t){var o=this;Object(i["h"])(t).then((function(t){if(0==t.data.data.length)o.initsave();else{var e=[],n=[];if(t.data.data.forEach((function(t){var o={id:"",oilId:"",oilName:"",arrTons:0,deptTons:0,addTons:0,addBillNo:"",addTm:null,outTons:0,outTm:null,consTons:0},l={id:"",oilId:"",oilName:"",arrTons:0,deptTons:0,addTons:0,addBillNo:"",addTm:null,outTons:0,outTm:null,consTons:0};o.consTons=t.consTons,o.id=t.id,o.oilId=t.fuelCode,o.oilName=t.fuelName,l.id=t.id,l.oilId=t.fuelCode,l.oilName=t.fuelName,l.consTons=t.consTons,e.push(o),n.push(l)})),o.oilFormData=e,o.tempOilFormdata=n,o.oilTons.length>0){var l=o.oilTons.map((function(t){return t.oilId})),i=o.oilFormData.filter((function(t){return!l.some((function(o){return o===t.oilId}))}));o.oilFormData=i.concat(o.oilTons)}}}))}}},s=a,r=(e("6340"),e("2877")),d=Object(r["a"])(s,n,l,!1,null,null,null);o["default"]=d.exports}}]);